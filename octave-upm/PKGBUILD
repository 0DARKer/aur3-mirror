# Maintainer: Israel Herraiz <isra@herraiz.org>

pkgname=octave-upm
pkgver=3.6.2+R6
pkgrel=1
pkgdesc="A high-level language, primarily intended for numerical computations (this is the Octave UPM edition)."
arch=('i686' 'x86_64')
url="http://mat.caminos.upm.es/octave"
license=('GPL')
depends=('qscintilla' 'qt' 'octave') 
makedepends=('octave')
options=('!emptydirs')
source=('http://mat.caminos.upm.es/octave/src/gui.tar.bz2')
md5sums=('bc221817cef1e958fc40d2488858c8d5')

build() {
  cd ${srcdir}/gui/
  qmake
  cd qterminal && qmake && make libqterminal/Makefile
  cd libqterminal && make
  cd ../.. && make
}

package(){
  cd ${srcdir}/gui
  mkdir ${pkgdir}/usr
  mkdir ${pkgdir}/usr/bin
  cp src/bin/octave-upm ${pkgdir}/usr/bin/
}
