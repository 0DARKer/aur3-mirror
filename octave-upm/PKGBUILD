# Maintainer: Israel Herraiz <isra@herraiz.org>

pkgname=octave-upm
pkgver=3.6.1
pkgrel=1
pkgdesc="A high-level language, primarily intended for numerical computations (this is the Octave UPM edition)."
arch=('i686' 'x86_64')
url="http://mat.caminos.upm.es/octave"
license=('GPL')
depends=('qscintilla' 'qt' 'octave') 
makedepends=('octave' 'mercurial' 'git')
options=('!emptydirs')
source=('http://mat.caminos.upm.es/octave/src/gui.tar.bz2')
md5sums=('33361586763deddee031c005764f2c9a')

build() {
  cd ${srcdir}/gui/
  qmake
  cd qirc && qmake && make libqirc/Makefile
  cd libqirc && make
  cd ../.. && cd qterminal && qmake && make libqterminal/Makefile
  cd libqterminal && make
  cd ../.. && make
}

package(){
  cd ${srcdir}/gui
  mkdir ${pkgdir}/usr
  mkdir ${pkgdir}/usr/bin
  cp src/bin/octave-upm ${pkgdir}/usr/bin/
}
