# Maintainer: Israel Herraiz <isra@herraiz.org>

pkgname=octave-upm
pkgver=3.6.3+R8
pkgrel=2
pkgdesc="A high-level language, primarily intended for numerical computations (this is the Octave UPM edition)."
arch=('i686' 'x86_64')
url="http://mat.caminos.upm.es/octave"
license=('GPL')
depends=('qscintilla' 'qt4' 'octave') 
options=('!emptydirs')
source=('http://mat.caminos.upm.es/octave/src/gui.tar.bz2')
md5sums=('8d139bf86a7c883a35b558e397063684')

build() {
  cd ${srcdir}/gui/
  qmake-qt4
  cd qterminal && qmake-qt4 && make libqterminal/Makefile
  cd libqterminal && make
  cd ../.. && make
}

package(){
  cd ${srcdir}/gui
  mkdir ${pkgdir}/usr
  mkdir ${pkgdir}/usr/bin
  cp src/bin/octave-upm ${pkgdir}/usr/bin/
}
