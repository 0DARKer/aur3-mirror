Index: istanbul-0.2.2/istanbul/main/save_window.py
===================================================================
--- istanbul-0.2.2.orig/istanbul/main/save_window.py	2010-08-17 11:45:43.178263468 +0200
+++ istanbul-0.2.2/istanbul/main/save_window.py	2010-08-17 11:46:54.030511524 +0200
@@ -265,7 +265,7 @@
             try:
                 trysave = gnomevfs.xfer_uri(gnomevfs.URI("file://%s" % self.location), 
                     gnomevfs.URI(self.filechooser.get_uri()), 
-                    gnomevfs.XFER_DELETE_ITEMS,
+                    gnomevfs.XFER_REMOVESOURCE,
                     gnomevfs.XFER_ERROR_MODE_ABORT | XFER_TARGET_DEFAULT_PERMS, 
                     gnomevfs.XFER_OVERWRITE_MODE_ABORT)
             except gnomevfs.FileExistsError:
@@ -281,10 +281,12 @@
                 dialog.hide()
                 if res == gtk.RESPONSE_YES:
                     try:
+                        if os.path.isdir(self.filechooser.get_uri()[7:]):
+                            raise Exception()
                         trysave = gnomevfs.xfer_uri(
                         gnomevfs.URI("file://%s" % self.location), 
                         gnomevfs.URI(self.filechooser.get_uri()), 
-                        gnomevfs.XFER_DELETE_ITEMS,
+                        gnomevfs.XFER_REMOVESOURCE,
                         gnomevfs.XFER_ERROR_MODE_ABORT | XFER_TARGET_DEFAULT_PERMS, 
                         gnomevfs.XFER_OVERWRITE_MODE_REPLACE)
                     except Exception:
