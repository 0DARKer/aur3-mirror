# Maintainer: Emmanuel Gil Peyrot <linkmauve@linkmauve.fr>
# Contributor: wido <widowild [at] myopera [dot] com>

pkgname=sat-xmpp
_realname=sat
pkgver=0.5.0
pkgrel=1
pkgdesc="Multi-frontends multi-purposes XMPP client"
url="http://salut-a-toi.org/"
arch=('any')
depends=('python2-dbus' 'python2-lxml' 'mutagen' 'python2-imaging' 'pyfeed' 'twisted' 'python2-wokkel' 'xe' 'python2-zope-interface')
optdepends=('python2-gobject: required for the jp and primitivus frontends'
            'python2-progressbar: optional for the jp frontend'
            'python2-urwid-satext: required for the primitivus frontend (version 0.3.0)'
            'wxpython: required for the wix frontend'
            'sat_media: required for the wix frontend')
makedepends=('python2-setuptools')
license=('AGPL3')
source=("ftp://ftp.goffi.org/$_realname/$_realname-${pkgver}.tar.bz2")
md5sums=('9907beb249c8e11a880e2c5d5268faa0')
options=('!strip')

build() {
  cd "$srcdir/$_realname-$pkgver"
  python2 setup.py build
}

package(){
  cd "$srcdir/$_realname-$pkgver"
  SAT_INSTALL=nopreinstall python2 setup.py install --root="$pkgdir/" --prefix=/usr --optimize=1
}
