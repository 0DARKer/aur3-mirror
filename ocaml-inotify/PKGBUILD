# Maintainer: Gregory BELLIER <gregory.bellier -- gmail -- com>
# Contributor: Gregory BELLIER <gregory.bellier -- gmail -- com>

# Upstream removed the tarball from his website and didn't provide tags on githu

pkgname=ocaml-inotify
pkgver=1.0
pkgrel=2
pkgdesc="OCaml bindings for the inotify API"
arch=('i686' 'x86_64')
url="https://github.com/vincenthz/ocaml-inotify"
license=('LGPL')
makedepends=('ocaml ocaml-findlib')
options=('!strip')
install=
source=(http://ftp.fr.debian.org/debian/pool/main/o/ocaml-inotify/ocaml-inotify_$pkgver.orig.tar.gz)
md5sums=('b67def05d2450dce2e61569474d537ec')

build() { 

  cd "$srcdir/ocaml_inotify-$pkgver"

  make || return 1
  OCAMLFIND_DESTDIR="${pkgdir}$(ocamlfind printconf destdir)"
  install -d $OCAMLFIND_DESTDIR/inotify/ || return 1

  OCAMLDESTDIR="$OCAMLFIND_DESTDIR" make install || return 1

}

# vim:set ts=2 sw=2 et:

