# Maintainer: Vin√≠cius dos Santos Oliveira <vini.ipsmaker@gmail.com>
pkgname=tufao
pkgver=0.3.1
pkgrel=1
pkgdesc="An asynchronous web framework for C++ built on top of Qt"
arch=('i686' 'x86_64')
url="http://tufao.googlecode.com/"
license=('LGPL3')
depends=('qt')
source=('http://tufao.googlecode.com/files/tufao-0.3.1-src.tar.bz2')
sha1sums=('ae3f02376abad1f382538f56cec0ca3297ad2994')

build() {
  cd "$srcdir/tufao"

  qmake
  make
  qmake CONFIG=debug
  make

  cd "tools/pluginserverconfigeditor"
  qmake
  make
}

package() {
  cd "$srcdir/tufao"
 
  qmake INSTALLDIR="$pkgdir"
  make install
  qmake CONFIG=debug INSTALLDIR="$pkgdir"
  make install

  cd "tools/pluginserverconfigeditor"
  install -D tufao-routes-editor "$pkgdir/usr/bin/tufao-routes-editor"
}
