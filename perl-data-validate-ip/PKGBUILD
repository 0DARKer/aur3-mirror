# CPAN Name  : Data-Validate-IP
# Contributor: SIGTERM

pkgname='perl-data-validate-ip'
pkgver='0.19'
pkgrel='1'
pkgdesc="Lightweight IPv4 and IPv6 validation module."
arch=('any')
license=('PerlArtistic' 'GPL')
options=('!emptydirs')
depends=('perl-netaddr-ip>=4')
makedepends=('perl-test-requires')
url='http://search.cpan.org/dist/Data-Validate-IP'
source=('http://search.cpan.org/CPAN/authors/id/D/DR/DROLSKY/Data-Validate-IP-0.19.tar.gz')
md5sums=('3e1b0b01a78acca430c6416c7b3fe21c')
sha512sums=('f1e9d85973c6f1bc69f852520937f2da65253b60860be01f06ea3607eac0dab889f2613d058189edccfbf127fcb72b614a337e5edb909d3f2d083fefa85d20eb')
_distdir="Data-Validate-IP-0.19"

build() {
    cd "$srcdir/$_distdir"
    PERL_MM_USE_DEFAULT=1 perl Makefile.PL INSTALLDIRS=vendor
    make
}

check() {
  cd "$srcdir/$_distdir"
  PERL_MM_USE_DEFAULT=1
  make test
}

package() {
  cd "$srcdir/$_distdir"

  echo "$_distdir"
  make install DESTDIR="$pkgdir"
  find "$pkgdir" -name '.packlist' -o -name '*.pod' -delete
}
