# Maintainer: RunningDroid <runningdroid AT zoho.com>
# Contributor: Xiao-Long Chen <chenxiaolong@cxl.epac.to>
pkgname=gflags
pkgver=2.1.1
pkgrel=2
pkgdesc="C++ Library for commandline flag processing"
arch=('i686' 'x86_64')
url="https://github.com/schuhschuh/gflags"
license=('BSD')
# google-gflags was renamed to just gflags
provides=("google-gflags=${pkgver}")
conflicts=('google-gflags')
options=('!libtool')
source=("https://github.com/schuhschuh/gflags/archive/v${pkgver}.tar.gz")
sha512sums=('18d1a0a1271f12f0e87447e3a9d6810f531f5b190d84274465add5a928c189caac911ec2592422895961ab3c0c7566ff50c0c22f71d185ac3413c54bdbfb00ef')

build() {
  cd "${srcdir}/${pkgname}-${pkgver}"

  if [ -e build ]; then
    rm -r build
  fi
  mkdir build && cd build

  cmake ..
  make
}

package() {
  cd "${srcdir}/${pkgname}-${pkgver}/build"
  make DESTDIR="${pkgdir}/" install
}
