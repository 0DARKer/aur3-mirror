# Maintainer: Gaetan Bisson <bisson@archlinux.org>

pkgname=squaw
pkgver=0.5
pkgrel=1
pkgdesc='Simplistic Qt-based user agent for the Web'
url='http://www.normalesup.org/~bisson/src/'
license=('BSD')
arch=('i686' 'x86_64')
depends=('qtwebkit')
source=("${url}/${pkgname}-${pkgver}.cpp")
sha1sums=('024175054aad2d28f66b9d362a0222beb5f5cb2d')

build() {
	cd "${srcdir}"
	moc -o squaw.moc squaw-${pkgver}.cpp
	c++ -lQtWebKit -lQtGui -lQtNetwork -lQtCore \
		${CXXFLAGS} ${LDFLAGS} \
		-o ${pkgname} ${pkgname}-${pkgver}.cpp
}

package() {
	cd "${srcdir}"
	install -d "${pkgdir}/usr/share/licenses/${pkgname}"
	install -Dm755 "${srcdir}/${pkgname}" "${pkgdir}/usr/bin/${pkgname}"
	head -n 22 "${pkgname}-${pkgver}.cpp" > "${pkgdir}/usr/share/licenses/${pkgname}/COPYING"
}
