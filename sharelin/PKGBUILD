# Maintainer: Stefano Gioffr√© <grossomalpelo at gmail dot com>

pkgname=sharelin
pkgver=0.2.6
pkgrel=1
pkgdesc="Terminal Gnutella2 leaf-mode client with WebUI"
arch=("i686" "x86_64")
url="http://sharelin.sourceforge.net/"
license=("GPL")
depends=("boost-libs" "zlib")
makedepends=("cmake" "boost")
source=("http://downloads.sf.net/sourceforge/${pkgname}/${pkgname}-${pkgver}-src.tar.gz" "scoped_ptr.diff")
md5sums=("6b45b43f8c889179090b8cd1687724f6" "537b87947d5efe380960779307579c39")

build() {
  cd "${srcdir}/${pkgname}-${pkgver}"
  cp ../scoped_ptr.diff "${srcdir}/${pkgname}-${pkgver}/scoped_ptr.diff"
  patch -u -p0 -i scoped_ptr.diff
  cmake . -DCMAKE_INSTALL_PREFIX=/usr
  make -j 2
}

check() {
  cd "${srcdir}/${pkgname}-${pkgver}"
  make -k check
}

package() {
  cd "${srcdir}/${pkgname}-${pkgver}"
  make DESTDIR="${pkgdir}/" install
}

# vim:set ts=2 sw=2 et: 
