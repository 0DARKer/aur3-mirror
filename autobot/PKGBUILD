# Maintainer: Elijah Perrault
pkgname=autobot
pkgver='3.0.0a8'
pkgrel=1
pkgdesc="An easy-to-use, modular, advanced, and flexible IRC bot"
arch=('i686' 'x86_64')
url="http://xelhua.org/auto.php"
license=('custom:BSD')
depends=('perl>=5.10' 'perl-dbi' 'perl-dbd-sqlite' 'perl-io-socket-ssl' 'perl-class-unload')
conflicts=('autobot-git')
install=$pkgname.install
source=(http://sourceforge.net/projects/auto-bot/files/$pkgver/auto-$pkgver.tar.gz/download)
md5sums=('1228bea4b1d48ab3a8b4651b2400436f')
sha1sums=('ece21f81a53fa252e87143aa62e7c67cb66ead50')
sha256sums=('a7c51701ee49b058bab98531be8f3151626890815ee2484e76a2abc41aa09cf1')
sha512sums=('b60061cb3b85ef29a7b5459c35455b454dd0a1b515d04dbd268311246cef1e89a291c5a12e93a0328abe28f5cd10e677c2aed4ce5b12a456685744ce3c88d8dc')

build() {
  cd "$srcdir/auto"

  msg "Starting build....."
  mkdir -p $pkgdir/usr/bin
  mkdir -p $pkgdir/usr/lib/autobot/3.0.0
  perl "install" --prefix=$pkgdir/usr --syswide --enable-sasl || return 1

  msg "Build done, creating documentation....."
  mkdir -p $pkgdir/usr/share/licenses/autobot-git/
  install -m644 doc/LICENSE $pkgdir/usr/share/licenses/autobot-git/ || return 1
  mkdir -p $pkgdir/usr/share/doc/autobot-git/
  install -m644 README $pkgdir/usr/share/doc/autobot-git/ || return 1
  install -m644 NEWS $pkgdir/usr/share/doc/autobot-git/ || return 1
  install -m644 doc/* $pkgdir/usr/share/doc/autobot-git/ || return 1
  rm $pkgdir/usr/share/doc/autobot-git/LICENSE
}

# vim:set ts=2 sw=2 et:
