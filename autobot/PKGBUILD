# Maintainer: Elijah Perrault
pkgname=autobot
pkgver='3.0.0a9'
pkgrel=2
pkgdesc="An easy-to-use, modular, advanced, and flexible IRC bot"
arch=('i686' 'x86_64')
url="http://xelhua.org/auto.php"
license=('custom:BSD')
depends=('perl>=5.10' 'perl-dbi' 'perl-dbd-sqlite' 'perl-io-socket-ssl' 'perl-class-unload')
conflicts=('autobot-git')
install=$pkgname.install
source=(http://sourceforge.net/projects/auto-bot/files/$pkgver/auto-$pkgver.tar.gz/download)
md5sums=('55bf5d1c751341a73bfc1dbf493a345a')
sha1sums=('4b307c6e3993469ff18ba94c75961dc11710c886')
sha256sums=('60fb952c03ddb602cacaa696d58f2cecedcd593a62228c8aae1ddb4c934c19a8')
sha512sums=('287464d3c0145f9d6fd4c67e0a8f3fac6c3dcf49addeace03e709dd5240cc7dd712b896a0e55798c75860542827ef39127e960062f3e763b61659d35441892aa')

build() {
  cd "$srcdir/auto"

  msg "Starting build....."
  mkdir -p $pkgdir/usr/bin
  mkdir -p $pkgdir/usr/lib/autobot/3.0.0
  perl "install" --prefix=$pkgdir/usr --syswide --enable-sasl || return 1

  msg "Build done, creating documentation....."
  mkdir -p $pkgdir/usr/share/licenses/autobot-git/
  install -m644 doc/LICENSE $pkgdir/usr/share/licenses/autobot-git/ || return 1
  mkdir -p $pkgdir/usr/share/doc/autobot-git/
  install -m644 README $pkgdir/usr/share/doc/autobot-git/ || return 1
  install -m644 NEWS $pkgdir/usr/share/doc/autobot-git/ || return 1
  install -m644 doc/* $pkgdir/usr/share/doc/autobot-git/ || return 1
  rm $pkgdir/usr/share/doc/autobot-git/LICENSE
}

# vim:set ts=2 sw=2 et:
