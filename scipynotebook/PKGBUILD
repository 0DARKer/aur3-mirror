# Maintainer: SpepS <dreamspepser at yahoo dot it>

_pkg=SciPyNotebook
pkgname=scipynotebook
pkgver=0.2.0
pkgrel=1
pkgdesc="A notebook-style editor to hack Python with the comfort of an editor and the interactivity of a console."
arch=(i686 x86_64)
url="https://github.com/hmatuschek/SciPyNotebook/wiki"
license=('GPL')
depends=('qt' 'python2-scipy' 'python2-matplotlib')
install="$pkgname.install"
source=("https://github.com/hmatuschek/SciPyNotebook/tarball/v$pkgver"
        "$pkgname.desktop")
md5sums=('4bf4f76f5e082576af12132c80715d2e'
         '222d3ec7b6651323b98e0af62a5fa169')

build() {
  cd `find $srcdir -mindepth 1 -maxdepth 1 -type d`

  [ -d build ] || mkdir build && cd build
  cmake -DCMAKE_INSTALL_PREFIX=/usr ..
  make
}

package() {
  cd `find $srcdir -mindepth 1 -maxdepth 1 -type d`/build

  make DESTDIR="$pkgdir/" install

  # desktop and pixmaps
  install -Dm644 "$srcdir/$pkgname.desktop" \
                 "$pkgdir/usr/share/applications/$pkgname.desktop"
  install -Dm644 ../doc/logo.svg \
                 "$pkgdir/usr/share/pixmaps/$pkgname.svg"
}

# vim:set ts=2 sw=2 et:
