--- freetype.org	2008-10-13 10:00:00.250404261 +0800
+++ freetype.c	2008-10-13 10:01:57.347900632 +0800
@@ -3349,9 +3349,21 @@
 
     if(!strcmpiW(lf.lfFaceName, SymbolW))
         lf.lfCharSet = SYMBOL_CHARSET;
-
-    if(!TranslateCharsetInfo((DWORD*)(INT_PTR)lf.lfCharSet, &csi, TCI_SRCCHARSET)) {
-        switch(lf.lfCharSet) {
+    
+    if(lf.lfCharSet == DEFAULT_CHARSET || lf.lfCharSet == ANSI_CHARSET) {
+      int codepage = 936; /* I'm Chinese. Let me do something selfish. */
+      char *env_wdc = getenv("WINE_DEFAULT_CODEPAGE");
+      if(env_wdc != NULL) {
+        codepage = atoi(env_wdc);
+      }
+      FIXME("Dirty hack. Default and ansi charset is translated to getenv(\"WINE_DEFAULT_CODEPAGE\")\n");
+      if(!TranslateCharsetInfo((DWORD*)(INT_PTR)codepage, &csi, TCI_SRCCODEPAGE)) {
+        FIXME("OMG. Even this dirty hack doesn't work.  Let's PRAY.\n");
+        csi.fs.fsCsb[0] = 0; 
+      }
+      lf.lfCharSet = csi.ciCharset;
+    } else if(!TranslateCharsetInfo((DWORD*)(INT_PTR)lf.lfCharSet, &csi, TCI_SRCCHARSET)) {
+      switch(lf.lfCharSet) {
 	case DEFAULT_CHARSET:
 	    csi.fs.fsCsb[0] = 0;
 	    break;
