# Contributor: Andr√© Fettouhi <A.Fettouhi@gmail.com>

pkgname=eclipse-photran
pkgver=6.0.7
_ptprel=4.0.7
_ptptag=201105061905
pkgrel=1
pkgdesc="IDE for Fortran 77, 90, and 95 based on Eclipse and the CDT"
url="http://www.eclipse.org/photran/"
arch=('any')
license=('custom')
depends=("eclipse>=3.6" "eclipse-cdt>=7.0")
source=(http://download.eclipse.org/tools/ptp/builds/helios/I.I${_ptptag}/ptp-master-${_ptprel}-I${_ptptag}.zip)
md5sums=('a33ef5ae458dec8eafe4994bb933af61')

build() {
	installdir="${pkgdir}"/usr/share/eclipse/dropins/photran
	cd "${srcdir}"
	install -d "${installdir}"/eclipse/{plugins,features}
	cp plugins/org.eclipse.photran.*.jar "${installdir}"/eclipse/plugins
	cp plugins/org.eclipse.rephraserengine.*.jar "${installdir}"/eclipse/plugins
	rm "${installdir}"/eclipse/plugins/*intel*
	rm "${installdir}"/eclipse/plugins/*xlf*
	cp features/org.eclipse.photran_$pkgver.${_ptptag}.jar "${installdir}"/eclipse/features
	cp features/org.eclipse.rephraserengine_$pkgver.${_ptptag}.jar "${installdir}"/eclipse/features
}

