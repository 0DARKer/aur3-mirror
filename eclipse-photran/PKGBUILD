# Contributor: Andr√© Fettouhi <A.Fettouhi@gmail.com>

pkgname=eclipse-photran
pkgver=6.0.6
_photranver=6.0.0
_rever=2.0.0
_reltag=201102161000
pkgrel=1
pkgdesc="IDE for Fortran 77, 90, and 95 based on Eclipse and the CDT"
url="http://www.eclipse.org/photran/"
arch=('any')
license=('custom')
depends=("eclipse>=3.6" "eclipse-cdt>=7.0")
_url=http://download.eclipse.org/tools/ptp/updates/helios
source=(${_url}/features/org.eclipse.rephraserengine_$pkgver.${_reltag}.jar 
	${_url}/features/org.eclipse.photran_$pkgver.${_reltag}.jar
	${_url}/plugins/org.eclipse.rephraserengine.core.refactoring_${_rever}.${_reltag}.jar
	${_url}/plugins/org.eclipse.rephraserengine.core.vpg_${_rever}.${_reltag}.jar
	${_url}/plugins/org.eclipse.rephraserengine.core_${_rever}.${_reltag}.jar
	${_url}/plugins/org.eclipse.rephraserengine.ui.refactoring_${_rever}.${_reltag}.jar
	${_url}/plugins/org.eclipse.rephraserengine.ui.vpg_${_rever}.${_reltag}.jar
	${_url}/plugins/org.eclipse.rephraserengine.ui_${_rever}.${_reltag}.jar
	${_url}/plugins/org.eclipse.photran.cdtinterface.vpg_${_photranver}.${_reltag}.jar 
	${_url}/plugins/org.eclipse.photran.cdtinterface_${_photranver}.${_reltag}.jar 
	${_url}/plugins/org.eclipse.photran.core.vpg.preprocessor.c_${_photranver}.${_reltag}.jar
	${_url}/plugins/org.eclipse.photran.core.vpg_${_photranver}.${_reltag}.jar        
	${_url}/plugins/org.eclipse.photran.core_${_photranver}.${_reltag}.jar 
	${_url}/plugins/org.eclipse.photran.doc.user_${_photranver}.${_reltag}.jar
	${_url}/plugins/org.eclipse.photran.errorparsers.xlf_${_photranver}.${_reltag}.jar 
	${_url}/plugins/org.eclipse.photran.managedbuilder.core_${_photranver}.${_reltag}.jar
	${_url}/plugins/org.eclipse.photran.managedbuilder.gnu.ui_${_photranver}.${_reltag}.jar 
	${_url}/plugins/org.eclipse.photran.managedbuilder.ui_${_photranver}.${_reltag}.jar 
	${_url}/plugins/org.eclipse.photran.ui.vpg.preprocessor.c_${_photranver}.${_reltag}.jar 
	${_url}/plugins/org.eclipse.photran.ui.vpg_${_photranver}.${_reltag}.jar 
	${_url}/plugins/org.eclipse.photran.ui_${_photranver}.${_reltag}.jar)

md5sums=('621201b4c37f6a4c32192dcb52c4799e'
         'f425c850e36872e1bc61702acf01e7dc'
         '0f11ac053244cf17bcc8814aa75436f7'
         'fd55da5e821641afbf68078c05784542'
         '9c8af254d689ee0225ba03aead0109ca'
         'e428dd1163433d5ea5b0070568e948b9'
         '52cd0b49967387e0ef21f601f561a13c'
         '53391e59044bfaba0730c9f2d01cedaa'
         '92ab3d559d15dc5d5a0cc15b3024684e'
         '84193113b3a401f1108725f6d5774223'
         'dc07960965ca3d2a39c91cd7b2e815a8'
         '20c045dd2b6f082f497347505d5189dc'
         'd3566c9c149db7c112d07775634dce77'
         '6d1be5f434c114a941cb9647d42266fd'
         'b73d1c781c53e688bbf0a02365cf7081'
         '82f949406015a7577c87157f1d501ea4'
         'a2361dd5d2a790f7929463d4e74c119e'
         'c09f3bf5da9e804e413fe16fff39243f'
         'e629bb58acf705eb7aa64d8820d9b059'
         '64690f915f263f1298d40837f2f147a7'
         '789088ce05ed5a98ca12db7def1a77d2')

noextract=("*.jar")

build() {
	installdir="${pkgdir}"/usr/share/eclipse/dropins/photran
	cd "${srcdir}"
	install -d "${installdir}"/eclipse/{plugins,features}
	cp *.jar "${installdir}"/eclipse/plugins
	mv "${installdir}"/eclipse/plugins/*$pkgver*.jar "${installdir}"/eclipse/features
}

