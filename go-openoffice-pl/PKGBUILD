#Maintainer: Marek Wojcieszek <Marek.Wojcieszek@gmail.com>
pkgname=go-openoffice-pl
pkgver=3.2.1
pkgrel=3
_lang=pl
_srcurl=http://go-oo.mirrorbrain.org/stable/linux-x86
_ooobasis=3.2.1/ooobasis3.2-${_lang}
_intver=${pkgver}-9505
pkgdesc="Go-OpenOffice Polish language files"
arch=('i686' 'x86_64')
license=('LGPL')
url="http://go-oo.org/discover/"
makedepends=('rpmextract')
depends=('go-openoffice>=3.2.1')

_source_x86=(
	${_srcurl}/${_ooobasis}-${_intver}.i586.rpm
	${_srcurl}/${_ooobasis}-base-${_intver}.i586.rpm
	${_srcurl}/${_ooobasis}-binfilter-${_intver}.i586.rpm
	${_srcurl}/${_ooobasis}-calc-${_intver}.i586.rpm
	${_srcurl}/${_ooobasis}-draw-${_intver}.i586.rpm
	${_srcurl}/${_ooobasis}-help-${_intver}.i586.rpm
	${_srcurl}/${_ooobasis}-impress-${_intver}.i586.rpm
	${_srcurl}/${_ooobasis}-math-${_intver}.i586.rpm
	${_srcurl}/${_ooobasis}-res-${_intver}.i586.rpm
	${_srcurl}/${_ooobasis}-writer-${_intver}.i586.rpm
	${_srcurl}/3.2.1/openoffice.org3-${_lang}-${_intver}.i586.rpm
)
_md5sums_x86=(
	'df06f96d2164b6fbc98625f7a8f3d52a'
	'b6425f96e1559f520d53bb82b7219bb4'
	'898dbc5a33580798b92a5db2ffa49837'
	'b367714c85509cc95b12d7aae079616b'
	'3ea65ba8bee2a067f9381055db93decf'
	'af663418bd1c0b6fac977259919c555e'
	'4f025171ffc24bc7d503ef8fde915168'
	'1b32182868bc9e0f28704d8c877df1ea'
	'95b7e6f2bb1e16a164dcbd89261920f3'
	'2b189afe04ed745e0e3fb7ef0285c5fa'
	'77a79ff7f08ca59f273744d78f248645'
)

_source_x86_64=(
	${_srcurl}_64/${_ooobasis}-${_intver}.x86_64.rpm
	${_srcurl}_64/${_ooobasis}-base-${_intver}.x86_64.rpm
	${_srcurl}_64/${_ooobasis}-binfilter-${_intver}.x86_64.rpm
	${_srcurl}_64/${_ooobasis}-calc-${_intver}.x86_64.rpm
	${_srcurl}_64/${_ooobasis}-draw-${_intver}.x86_64.rpm
	${_srcurl}_64/${_ooobasis}-help-${_intver}.x86_64.rpm
	${_srcurl}_64/${_ooobasis}-impress-${_intver}.x86_64.rpm
	${_srcurl}_64/${_ooobasis}-math-${_intver}.x86_64.rpm
	${_srcurl}_64/${_ooobasis}-res-${_intver}.x86_64.rpm
	${_srcurl}_64/${_ooobasis}-writer-${_intver}.x86_64.rpm
	${_srcurl}_64/3.2.1/openoffice.org3-${_lang}-${_intver}.x86_64.rpm
)
_md5sums_x86_64=(
	'ce1d51f8e058ce8255a7d912009e08c9'
	'c83f9f1d65e4b36dc5b99da2a692ae33'
	'07a971f291bb33c1b4f1cd876f123484'
	'62badaf1a1136bad2a9dc5cd4c21b02e'
	'c21fab819271f9ff830875c4852b2932'
	'ff4aed445f51b9a9132b74e1f36d536d'
	'23e29870c504c72aafa987156e744aaa'
	'a46a9464ba2153cf5d3e124b2716f38d'
	'c1e773757dd58d1f61c3cb3b6ce6202e'
	'cd9ad7a1b77ac7e49fe0cd4d1a3e2de8'
	'40d608900ee389a267ce1b482604734e'
)

source=(${_source_x86[@]})
md5sums=(${_md5sums_x86[@]})
[ "$CARCH" = "x86_64" ] && source=(${_source_x86_64[@]})
[ "$CARCH" = "x86_64" ] && md5sums=(${_md5sums_x86_64[@]})

build(){
	cd ${srcdir}
	for i in *.rpm
		do rpmextract.sh $i
	done

	mkdir -p ${pkgdir}/usr/lib/${pkgname%%-${_lang}}
	cp -R opt/openoffice.org{,3}/* ${pkgdir}/usr/lib/${pkgname%%-${_lang}}
}
