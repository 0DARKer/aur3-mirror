diff -rupN poppler-0.26.0/qt4/tests/stress-threads-qt4.cpp poppler-0.26.0-new/qt4/tests/stress-threads-qt4.cpp
--- poppler-0.26.0/qt4/tests/stress-threads-qt4.cpp	2014-02-09 16:10:33.000000000 +0100
+++ poppler-0.26.0-new/qt4/tests/stress-threads-qt4.cpp	2014-05-14 20:18:03.518160259 +0200
@@ -2,7 +2,7 @@
 #ifndef _WIN32
 #include <unistd.h>
 #else
-#include <Windows.h>
+#include <windows.h>
 #define sleep Sleep
 #endif
 #include <time.h>
diff -rupN poppler-0.26.0/qt5/src/poppler-private.h poppler-0.26.0-new/qt5/src/poppler-private.h
--- poppler-0.26.0/qt5/src/poppler-private.h	2014-04-14 23:43:14.000000000 +0200
+++ poppler-0.26.0-new/qt5/src/poppler-private.h	2014-05-14 20:19:59.367568497 +0200
@@ -88,7 +88,7 @@ namespace Poppler {
 #ifdef _WIN32
 		wchar_t *fileName = new WCHAR[filePath.length()];
 		std::wstring wstr = (const wchar_t *)filePath.utf16();
-		int length = wstr._Copy_s(fileName, filePath.length(), filePath.length());
+		int length = wstr.copy(fileName, filePath.length());
 		doc = new PDFDoc(fileName, length, ownerPassword, userPassword);
 		delete[] fileName;
 #else
diff -rupN poppler-0.26.0/qt5/tests/stress-threads-qt5.cpp poppler-0.26.0-new/qt5/tests/stress-threads-qt5.cpp
--- poppler-0.26.0/qt5/tests/stress-threads-qt5.cpp	2014-02-09 16:10:34.000000000 +0100
+++ poppler-0.26.0-new/qt5/tests/stress-threads-qt5.cpp	2014-05-14 20:18:03.519160280 +0200
@@ -2,7 +2,7 @@
 #ifndef _WIN32
 #include <unistd.h>
 #else
-#include <Windows.h>
+#include <windows.h>
 #define sleep Sleep
 #endif
 #include <time.h>
