pkgname=github-notify
_projectname=GithubNotify
pkgver=0.1
pkgrel=3
pkgdesc="GitHub notification notifier"
url="https://www.github.com/Xandaros/GithubNotify"
arch=('x86_64' 'i686')
license=('custom')
depends=('libnotify' 'notification-daemon')
makedepends=('cabal-install' 'ghc')
conflicts=()
replaces=()
backup=()
source=("https://github.com/Xandaros/GithubNotify/archive/${pkgver}.tar.gz")
md5sums=('84e5c3663ea2189da384dd68560f39a4')

build() {
  cd "$srcdir/$_projectname-$pkgver"
  rm cabal.config
  cabal sandbox init
  cabal install --only-dependencies
  cabal build $pkgname
}

package() {
  install -Dm755 "$srcdir/$_projectname-$pkgver/dist/build/$pkgname/$pkgname" "$pkgdir/usr/bin/$pkgname"
}
