# Contributor: Lukas Linhart <bugs@almad.net>
# Contributor: Marco Elver <marco.elver AT gmail.com>

pkgname=python-celery
pkgver=2.0.2
pkgrel=1
pkgdesc="Distributed Asynchronous Task Queue"
arch=(any)
url="http://celeryproject.org/"
license=('BSD')
depends=('python' 'python-carrot' 'pyparsing' 'python-anyjson' 'python-mailer' 'python-sqlalchemy' 'python-dateutil' 'python-importlib')
makedepends=('setuptools')
source=(http://pypi.python.org/packages/source/c/celery/celery-$pkgver.tar.gz celeryd conf.d.celeryd)
options=(!emptydirs)

build() {
  cd $srcdir/celery-$pkgver
  python setup.py install --root=$pkgdir/ --optimize=1 || return 1
  install -D -m644 LICENSE $pkgdir/usr/share/licenses/$pkgname/LICENSE
  install -D -m755 $srcdir/celeryd $pkgdir/etc/rc.d/celeryd
  install -D -m644 $srcdir/conf.d.celeryd $pkgdir/etc/conf.d/celeryd
}
md5sums=('b0e3aa6a4df49bacd45305bc9ab8f9ae'
         'dc0480163674ff3cfb33ea325ea9579f'
         'ef0a0e18e49c90c56b6c6704a91dcf89')
