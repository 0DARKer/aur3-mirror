# Contributor: Lukas Linhart <bugs@almad.net>
# Contributor: Marco Elver <marco.elver AT gmail.com>
# Maintainer: apkawa <apkawa@gmail.com>

pkgname=python-celery
pkgver=3.0.19
pkgrel=1
pkgdesc='Distributed Asynchronous Task Queue'
arch=('any')
url='http://celeryproject.org/'
license=('BSD')
depends=('python' 'python-carrot' 'python-anyjson' 'python-kombu'
    'python-pyparsing'
     'python-mailer' 'python-sqlalchemy' 'python-dateutil')
makedepends=('setuptools')
source=("https://pypi.python.org/packages/source/c/celery/celery-$pkgver.tar.gz" celeryd conf.d.celeryd)
options=(!emptydirs)
sha256sums=('70ce2ff1143d964378b3e50817366256a036e78422e85cd89724d5e6ef022e55'
            '14f1c98c2d5893f0261a249cebd4172e504325ee213f6386007bccc08b625574'
            'dacdbf743b2a17e630803f23c10cf6370cb2148fdf9a058508d95ac9acc96aa9')

package() {
  cd "$srcdir/celery-$pkgver"

  python2 setup.py install --root=$pkgdir/ --optimize=1 || return 1
  install -D -m644 LICENSE $pkgdir/usr/share/licenses/$pkgname/LICENSE
  #install -D -m755 $srcdir/celeryd $pkgdir/etc/rc.d/celeryd
  #install -D -m644 $srcdir/conf.d.celeryd $pkgdir/etc/conf.d/celeryd
}

