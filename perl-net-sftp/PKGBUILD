# Maintainer: Damien Guihal <dguihal@gmail.com>
pkgname=perl-net-sftp
pkgver=0.10
pkgrel=2
pkgdesc="Secure File Transfer Protocol client"
url="http://search.cpan.org/~dbrobins/Net-SFTP/"
depends=('perl')
arch=('i686' 'x86_64')
license="Artistic License"
options=('')
source=(http://search.cpan.org/CPAN/authors/id/D/DB/DBROBINS/Net-SFTP/Net-SFTP-$pkgver.tar.gz)
md5sums=('8383eb0839178cab8cbfe619b232b8c0')

build() {
  cd  $startdir/src/Net-SFTP-$pkgver
  eval `perl -V:archname`
  # Force module installation to "current" perl directories.
  /usr/bin/perl Makefile.PL \
      INSTALLARCHLIB=/usr/lib/perl5/current/${archname} \
      INSTALLSITELIB=/usr/lib/perl5/site_perl/current \
      INSTALLSITEARCH=/usr/lib/perl5/site_perl/current/${archname}
  /usr/bin/make || return 1
  /usr/bin/make DESTDIR=$startdir/pkg install
  # remove *.pod, .packlist:
  /usr/bin/find $startdir/pkg -name '.packlist' -exec rm  '{}' \;
  /usr/bin/find $startdir/pkg -name '*.pod' -exec rm  '{}' \;
}
