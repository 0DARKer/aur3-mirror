# Maintainer: Jesse Jaara <gmail.com: jesse.jaara>

pkgname=ember
pkgver=0.7.0.20121204
pkgrel=1
pkgdesc="A 3D client using the OGRE 3d library, valid for WorldForge server."
arch=('i686' 'x86_64')
url="http://wiki.worldforge.org/wiki/Ember"
license=('GPL3')
depends=('varconf' 'eris' 'libwfut' 'cegui-toluapp' 'sdl' 'tinyxml' 'ogre' 'freealut' "ember-media=${pkgver}")
makedepends=('boost')
#source=("http://downloads.sourceforge.net/worldforge/${pkgname}-${pkgver}.tar.bz2")
## Current stable doesn't build with our Ogre 1.8 version. Use a git snapshot instead
source=(http://huulivoide.pp.fi/Arch/sources/ember-0.7.0.20121204.tar.xz)


build() {
  cd "${srcdir}/${pkgbase}-${pkgver}"

  ./configure --prefix=/usr --enable-cegui-toluapp --sysconfdir=/etc
  make BOOST_THREAD_LIB="-lboost_system -lboost_thread "
}

package() {
  cd "${srcdir}/${pkgname}-${pkgver}"

  make -j1 DESTDIR="${pkgdir}" install
}

md5sums=('55798864bb619c999c073533e78e573a')
