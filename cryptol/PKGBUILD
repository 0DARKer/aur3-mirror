# Maintainer: Brent Carmer <bcarmer@gmail.com>
pkgname=cryptol
pkgver=2.1.0_alpha1
pkgrel=2
pkgdesc="A domain-specific language for specifying cryptographic algorithms."
url="http://www.cryptol.net"
arch=('x86_64' 'i686')
license=('BSD')
depends=('gmp4' 'cvc4')
makedepends=()
optdepends=('boolector: theorem proving'
            'mathsat-5: theorem proving'
            'yices-bin: theorem proving')
makedepends=()
conflicts=()
replaces=()
backup=()

if test "$CARCH" == x86_64; then
    MYARCH=64
    md5sums=('7dfb07c9d9aa36c357e1b0a92d02c7a4')
else
    MYARCH=32
    md5sums=('aaf0f4561b8d6aa051d3982d5d5b0330')
fi

source=("https://github.com/GaloisInc/cryptol/releases/download/v2.1.0-alpha1/cryptol-2.1.0-alpha1-CentOS6-$MYARCH.tar.gz")

package() {
  cd "$srcdir/cryptol-2.1.0-CentOS6-$MYARCH"
  mkdir -p "$pkgdir/usr/bin"
  mkdir -p "$pkgdir/lib"
  mkdir -p "$pkgdir/usr/share/licenses/$_pkgname/"
  cp bin/cryptol "$pkgdir/usr/bin"
  cp lib/Cryptol.cry "$pkgdir/lib"
  cp doc/LICENSE "$pkgdir/usr/share/licenses/$_pkgname/"
}
