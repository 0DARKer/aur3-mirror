# Maintainer: Brent Carmer <bcarmer@gmail.com>
pkgname=cryptol
pkgver=2.1.0
pkgrel=4
pkgdesc="A domain-specific language for specifying cryptographic algorithms."
url="http://www.cryptol.net"
arch=('x86_64' 'i686')
license=('BSD')
depends=('cvc4' 
         'gmp4'
         'libtinfo')
optdepends=('boolector: theorem proving'
            'mathsat-5: theorem proving'
            'yices-bin: theorem proving')
makedepends=()
conflicts=()
replaces=()
backup=()

if test "$CARCH" == x86_64; then
    MYARCH=64
    md5sums=('eabe1458fd12ee27abc967b911bdb7aa')
else
    MYARCH=32
    md5sums=('7350ab7ee62f5b918b3d5f3f2ee19ba7')
fi

source=("https://github.com/GaloisInc/cryptol/releases/download/v2.1.0/cryptol-2.1.0-CentOS6-$MYARCH.tar.gz")

package() {
  cd "$srcdir/cryptol-2.1.0-CentOS6-$MYARCH"
  mkdir -p "$pkgdir/usr/bin"
  mkdir -p "$pkgdir/usr/lib"
  mkdir -p "$pkgdir/usr/share/licenses/$_pkgname/"
  cp bin/cryptol "$pkgdir/usr/bin"
  cp lib/Cryptol.cry "$pkgdir/usr/lib"
  cp doc/LICENSE "$pkgdir/usr/share/licenses/$_pkgname/"
}
