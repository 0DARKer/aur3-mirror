# Manteiner: Diego Jos√© <diegoxter1006@gmail.com>

pkgname=neembuuuploader
pkgver=2.3
pkgrel=2
pkgdesc="Neembuu Uploader v2.3 is a free and opensource Java application that uploads files simultaneously to multiple filehosts and lets you manage the download and delete URLs."
arch=('any')
url="http://neembuuuploader.sf.net/"
depends=('java-runtime')
makedepends=('unzip')
source=(http://downloads.sourceforge.net/neembuuuploader/NeembuuUploader.v$pkgver.zip
	http://a.fsdn.com/con/icons/ne/neembuuuploader@sf.net/NU2.2+.png
	neembuuuploader.desktop
	)
md5sums=('24f37044ad2b9f4258a1e76f767583c8' 'aa26c114b2a189d043459fd3b975e8c2'
	 '80855eed728d3bc273c7329e620e2698')
license=('GPLv3')

build() {
    cd $srcdir
    install -d "$pkgdir/usr/share"
    unzip NeembuuUploader.v$pkgver.zip -d $pkgdir/usr/share 
    install -d "$pkgdir/usr/bin"
    echo "#!/bin/bash
java -jar /usr/share/NeembuuUploader\ v2.3/NeembuuUploader.jar" > $pkgdir/usr/bin/neembuu
    chmod +x $pkgdir/usr/bin/neembuu

##Ok, this program has an ugly bug that when your language is 
##not in /translations/ it dies peacefully arguing that 
##without the proper .properties file for your language it cannot work.
##Here is a fix: Linking english .prop to your desired language. It
## is not a solution, but works.
## Just change $Lg into the desired language.

#    cp $pkgdir/usr/share/NeembuuUploader\ v2.3/translations/NeembuuUploader_en.properties $pkgdir/usr/share/NeembuuUploader\ v2.3/translations/NeembuuUploader_$Lg.properties 

    install -D -m644 "$srcdir/neembuuuploader.desktop" "$pkgdir/usr/share/applications/$pkgname.desktop"
    install -D -m644 "$srcdir/NU2.2+.png" "$pkgdir/usr/share/pixmaps/$pkgname.png"
        }
