# Maintainer : xzy3186 <adaptee [at] gmail [dot] com>

### PATCH OPTIONS
_modify="y"   #apply several modifications based on original gnome-shell.css

pkgname=gnome-shell-themes-elegance-colors
pkgver=20120716
pkgrel=2
pkgdesc="A chameleon theme for Gnome Shell which can change colors according to the current GTK theme, current wallpaper (uses imagemagick to get color) or a user defined color."
arch=('i686' 'x86_64')
license=('LGPL')
url="http://satya164.deviantart.com/art/Gnome-Shell-Elegance-Colors-305966388"
depends=( 'gtk3' 'gnome-shell' 'glib2' 'vala' 'imagemagick')
install=$pkgname.install

source=("$pkgname-$pkgver.zip::http://www.deviantart.com/download/305966388/gnome_shell___elegance_colors_by_satya164-d525x6c.zip" 'start1.png' 'start2.png' 'modify.patch')

build() {
  cd ${srcdir}
  #sed -i '/^color=`convert/ s_info:-_info:- | sed 's/srgba/rgba/'_' elegance-colors-process
  if [ $_modify = "y" ]; then
     msg "apply patch to modify the original gnome-shell.css"
     patch -p0 -i "$srcdir/modify.patch"
  fi
  make 
}

package() {
  cd ${srcdir}
  make DESTDIR=${pkgdir} install
  if [ $_modify = "y" ]; then
      install -D -m644 start1.png "$pkgdir/usr/share/elegance-colors/gnome-shell/start1.png"
      install -D -m644 start2.png "$pkgdir/usr/share/elegance-colors/gnome-shell/start2.png"
  fi
}

sha256sums=('c8515474c3054df43cbe0e72d9dda1b1411c5f9026358127cbd3839e219b105c'
            '7f85acd148ebf0caf79f35f5c3924715fbfd2662cdda85e9ba94ca438c3cdf83'
            '1aa0327be1392cb0a254b1c45893be82fc1fe71ed394edb8978753c1cc4f6e15'
            '0d0b8a6466440f9e6ab22402a19c1eb6fbad915937f548c4c4e73cd7e32107d4')
