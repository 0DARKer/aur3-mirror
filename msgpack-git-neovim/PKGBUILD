# Contributor: Leen Jewel <leenjewel@gmail.com>
# Contributor: Auguste Pop <auguste [at] gmail [dot] com>
# Maintainer: Florian Walch <florian [at] fwalch [dot] com>

pkgname=msgpack-git-neovim
_commit=ecf4b09acd29746829b6a02939db91dfdec635b4
pkgrel=1
pkgver=0.r1507.ecf4b09
pkgdesc="An efficient object serialization library; experimental version needed for neovim-git."
arch=('i686' 'x86_64')
url="http://msgpack.org/"
license=('Apache')
depends=('gcc-libs')
makedepends=('git')
conflicts=('msgpack' 'msgpack-git')
provides=('msgpack')
source=("${pkgname}::git://github.com/msgpack/msgpack-c.git#commit=${_commit}")
md5sums=('SKIP')

pkgver() {
  cd "${pkgname}"
  printf "0.r%s.%s" "$(git rev-list --count ${_commit})" "$(git rev-parse --short HEAD)"
}

build() {
  cd "${pkgname}"
  ./bootstrap
  ./configure --prefix=/usr
  make
}

package() {
  cd "${pkgname}"
  make DESTDIR=${pkgdir} install
}

# vim:set sw=2 sts=2 et:
