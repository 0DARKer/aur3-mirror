# Maintainer: SpepS <dreamspepser at yahoo dot it>
# Contributor: Andrea Scarpino <andrea@archlinux.org>
# Contributor: Tom K <tom@archlinux.org>

pkgname=linuxdcpp
pkgver=1.0.3
pkgrel=4
pkgdesc="A Gtk+ Direct Connect client based on DC++."
url="https://launchpad.net/linuxdcpp"
license=('GPL')
arch=('i686' 'x86_64')
depends=('libglade' 'bzip2')
makedepends=('scons')
conflicts=('linuxdcpp-bzr')
install="$pkgname.install"
source=("http://launchpad.net/$pkgname/1.0/$pkgver/+download/$pkgname-$pkgver.tar.bz2"
	"linuxdcpp.desktop")
md5sums=('a427b87fa576d8674640f0a7f6ad5e66'
         'bb9571a39b1b6df474106a19a82ce279')

build() {
  cd "$srcdir/$pkgname-$pkgver"

  scons PREFIX=/usr LIBDIR=/usr/share
}

package() {
  cd $srcdir/$pkgname-$pkgver

  scons install FAKE_ROOT="$pkgdir/"
  
  install -d "$pkgdir"/usr/share/{applications,pixmaps}
  install -Dm644 ../linuxdcpp.desktop "$pkgdir/usr/share/applications"
  install -Dm644 pixmaps/linuxdcpp.png "$pkgdir/usr/share/pixmaps"
}
