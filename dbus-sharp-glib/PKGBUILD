# Contributor: Alessio Biancalana <dottorblaster@gmail.com>

pkgname=dbus-sharp-glib
pkgver=0.5.0
pkgrel=2
pkgdesc="C# GLib implementation of D-Bus"
arch=('i686' 'x86_64')
url="http://github.com/mono/dbus-sharp/"
license=('custom')
depends=('dbus-sharp>=0.7')
makedepends=('pkgconfig')
options=(!makeflags)
source=(https://github.com/downloads/mono/dbus-sharp/${pkgname}-${pkgver}.tar.gz)
md5sums=('2284293316eb3a89f0f78798b8a24418')

build() {
  cd $startdir/src/$pkgname-$pkgver
  export MONO_SHARED_DIR="${startdir}/src/.wabi"
  mkdir -p "${MONO_SHARED_DIR}"
  ./configure --prefix=/usr --sysconfdir=/etc --localstatedir=/var
  make || return 1
}

package(){
  cd $startdir/src/$pkgname-$pkgver
  make DESTDIR=$startdir/pkg install || return 1
  install -D COPYING $startdir/pkg/usr/share/licenses/$pkgname/COPYING
}
