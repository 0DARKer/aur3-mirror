# Maintainer: 
pkgname=libreoffice-extension-lightproof-ru
_pkgname=lightproof-ru_RU
pkgver=0.3
pkgrel=4
pkgdesc="Russian grammar checker extension for LibreOffice"
arch=('any')
url="http://launchpad.net/lightproof"
license=('LGPL')
groups=('libreoffice-extensions')
depends=('libreoffice-common' 'python2')
makedepends=('unzip')
source=(http://www.numbertext.org/lightproof/${_pkgname}-$pkgver.oxt
        ru_RU_ru_RU.properties OptionsDialog.xcu lightproof_ru_RU.py Lightproof_.py)

md5sums=('59aecb185ae837dd89729f22fe38144f'
         '285d027c5744f5c57494d434cd084a6d'
         '12ddcbb5f76efe95fe855110ae0c802b'
         '2a671640b562f57c20e9fb6e3c4dca1c'
         '5de5822aa694ac8ff1f54ff5708fee32')

package() {
  install -d -m755 "$pkgdir/usr/lib/libreoffice/share/extensions/$_pkgname/pythonpath"
  install -d -m755 "$pkgdir/usr/lib/libreoffice/share/extensions/$_pkgname/dialog"
  install -d -m755 "$pkgdir/usr/lib/libreoffice/share/extensions/$_pkgname/META-INF"
  cp -R "$srcdir"/* "$pkgdir/usr/lib/libreoffice/share/extensions/$_pkgname/"
  install -m 644 $srcdir/ru_RU_ru_RU.properties $pkgdir/usr/lib/libreoffice/share/extensions/$_pkgname/dialog/ru_RU_ru_RU.properties
  install -m 644 $srcdir/OptionsDialog.xcu $pkgdir/usr/lib/libreoffice/share/extensions/$_pkgname/dialog/OptionsDialog.xcu
  install -m 644 $srcdir/lightproof_ru_RU.py $pkgdir/usr/lib/libreoffice/share/extensions/$_pkgname/pythonpath/lightproof_ru_RU.py
  install -m 644 $srcdir/Lightproof_.py $pkgdir/usr/lib/libreoffice/share/extensions/$_pkgname/Lightproof.py
  rm "$pkgdir/usr/lib/libreoffice/share/extensions/$_pkgname/${_pkgname}-$pkgver.oxt"
  rm "$pkgdir/usr/lib/libreoffice/share/extensions/$_pkgname/OptionsDialog.xcu"
  rm "$pkgdir/usr/lib/libreoffice/share/extensions/$_pkgname/ru_RU_ru_RU.properties"
  rm "$pkgdir/usr/lib/libreoffice/share/extensions/$_pkgname/lightproof_ru_RU.py"
  rm "$pkgdir/usr/lib/libreoffice/share/extensions/$_pkgname/Lightproof_.py"
}
