# Maintainer: Andy Weidenbaum <archbaum@gmail.com>

pkgname=python2-socksipy-branch
pkgver=1.02
pkgrel=1
pkgdesc="Allows you to create TCP connections through a SOCKS proxy without any special effort"
arch=('any')
depends=('python2')
makedepends=('python2-setuptools')
url="https://code.google.com/p/socksipy-branch/"
license=('BSD')
options=(!emptydirs)
source=(https://socksipy-branch.googlecode.com/files/SocksiPy-branch-$pkgver.tar.gz)
sha1sums=('d046bb54fd977059c2266b18c4608f88019b6347')
sha256sums=('9a6e201fb02c998c3c4d289b7805eadd0ee192ed8b9fa084b69201b589b17773')

prepare() {
  msg 'Fixing permissions...'
  chmod 755 "$srcdir/SocksiPy-branch-$pkgver"
  find "$srcdir/SocksiPy-branch-$pkgver" -type f -exec chmod 644 '{}' \;
}

build() {
  cd "$srcdir/SocksiPy-branch-$pkgver"

  msg 'Building...'
  python2 setup.py build
}

package() {
  cd "$srcdir/SocksiPy-branch-$pkgver"

  msg 'Installing...'
  python2 setup.py install --root="$pkgdir" --optimize=1
}
