--- sl.cpp.orig	2014-05-26 09:33:16.721237831 +0200
+++ sl.cpp	2014-05-26 09:34:45.786585706 +0200
@@ -274,11 +274,14 @@ main(int argc, char **argv)
         errorf("ERROR: readlink failed '%s.'\n", strerror(errno));
 
     // Get just the directory name and relative path to libvogltrace.so.
-    std::string filedir = dirname(buf);
+#ifdef __amd64__
     if (args.flags & F_AMD64)
-        snprintf(buf, sizeof(buf), "%s/../../vogl_build/bin/libvogltrace64.so", filedir.c_str());
+        snprintf(buf, sizeof(buf), "/usr/lib/libvogltrace.so");
     else
-        snprintf(buf, sizeof(buf), "%s/../../vogl_build/bin/libvogltrace32.so", filedir.c_str());
+        snprintf(buf, sizeof(buf), "/usr/lib32/libvogltrace.so");
+#else
+    snprintf(buf, sizeof(buf), "/usr/lib/libvogltrace.so");
+#endif
 
     // Trim all the relative path parts.
     char *vogltracepath = realpath(buf, NULL);
