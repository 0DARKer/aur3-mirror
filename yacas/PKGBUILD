# Maintainer: Kaiting Chen <kaitocracy@gmail.com>
# Contributor: Stefan Husmann <stefan.husmann@t-systems.com>
# Contributor: St√©phane Gaudreault <Stephane.Gaudreault@gmail.com>

pkgname='yacas'
pkgver='1.2.2'
pkgrel='8'
pkgdesc='Yet another computer algebra system'
arch=('i686' 'x86_64')
url='http://yacas.sourceforge.net/yacas.html'
license=('GPL')
makedepends=('perl')

source=("http://yacas.sourceforge.net/backups/$pkgname-$pkgver.tar.gz"
  'gcc4.3.patch' 'gcc4.6.patch' 'makefixes.patch' 'tests.patch')
md5sums=('329f149ca3ceb976a7e596b56fc3cba5'
         '50ac0d790a6af77ce0ad347cb882996b'
         'e3317d332247c0f1a703eacb59a0350b'
         '7581139397002c9401467468efd1d76b'
         '994bec6654f7ed3f38417b8ed09d95ad')

build() {
  cd "${srcdir}/${pkgname}-${pkgver}"
  patch -Np1 -i $srcdir/gcc4.3.patch
  patch -Np1 -i $srcdir/gcc4.6.patch
  patch -Np1 -i $srcdir/makefixes.patch
  patch -Np1 -i $srcdir/tests.patch
  ./configure  --prefix=/usr --enable-server
  make 
}

package() {
  cd "${srcdir}/${pkgname}-${pkgver}"
  make DESTDIR=$pkgdir install
}
