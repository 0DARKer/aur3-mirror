# Maintainer: Ole Bergmann <ole@ole.im>

pkgname=qlprism
pkgver=4.35
pkgrel=3
pkgdesc="Lightweight Quake Live stand-alone launcher based on Mozilla Lab's Prism"
arch=("i686" "x86_64")
url="http://www.qlprism.us/"
license=("custom")
install=qlprism.install
depends=(gtk2)

source=(
 "http://ares.discord.us/$pkgname-$pkgver-linux-$CARCH.tar.gz"
 "qlprism"
)

md5sums=(
 "be7f9e1d41d5b45a13e2d11d2e5ddbe2"
 "7b1afbad65768077fa7295098f21e1cb"
)

[[ "${CARCH}" == i686 ]] && md5sums[0]="d40a4681bd0a6fb8c0eb883e5ac00242"
[[ "${CARCH}" == x86_64 ]] && depends+=(lib32-gtk2 lib32-libxdamage lib32-libxt lib32-pcre)

package () {
  install -dm755 "$pkgdir"/opt
  cp -r qlprism-"$CARCH" "$pkgdir"/opt/"$pkgname"
  chgrp -R games "$pkgdir"/opt/"$pkgname"
  chmod -R g+w "$pkgdir"/opt/"$pkgname"
  install -Dm755 qlprism "$pkgdir"/usr/bin/qlprism
}
