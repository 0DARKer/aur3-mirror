# Maintainer: Ole Bergmann <ole@ole.im>

pkgname=qlprism
pkgver=4.35
pkgrel=1
pkgdesc="Lightweight Quake Live stand-alone launcher based on Mozilla Lab's Prism"
arch=("i686" "x86_64")
url="http://www.qlprism.us/"
license=("custom")
depends=(gtk2)

source=(
 "http://avalon.diatonic.net/$pkgname-$pkgver-linux-$CARCH.tar.gz"
 "qlprism"
)

md5sums=(
 "5dce5469a62d561bb19d55212a08ee4d"
 "7b1afbad65768077fa7295098f21e1cb"
)

[[ "${CARCH}" == i686 ]] && md5sums[0]="79eebfc20f306336787ceffd2b5e8e7e"
[[ "${CARCH}" == x86_64 ]] && depends+=(lib32-gtk2 lib32-libxdamage lib32-libxt lib32-pcre)

package () {
  install -dm755 "$pkgdir"/opt
  cp -r qlprism-"$CARCH" "$pkgdir"/opt/"$pkgname"
  chgrp -R games "$pkgdir"/opt/"$pkgname"
  chmod -R g+w "$pkgdir"/opt/"$pkgname"
  install -Dm755 qlprism "$pkgdir"/usr/bin/qlprism
}
