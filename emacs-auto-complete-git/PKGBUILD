# Contributor: m039 <flam44 (at) gmail (dot) com>

pkgname=emacs-auto-complete-git
pkgver=20110618
pkgrel=1
pkgdesc="Auto Complete Mode is the most intelligent auto-completion extension for GNU Emacs."
url="http://cx4a.org/software/auto-complete/"
arch=('any')
license=('GPL3')
depends=('emacs')
makedepends=('git' 'make')
install=$pkgname.install

_gitroot="http://cx4a.org/repo/auto-complete.git"
_gitname="auto-complete"

_pkg_emacs=$pkgdir/usr/share/emacs/site-lisp/

build() {
    if [ -d $srcdir/$_gitname/ ]; then
	cd $srcdir/$_gitname/ && git pull origin
    else
        git clone $_gitroot $_gitname
    fi

    install -d $_pkg_emacs/$_gitname

    cd $srcdir/$_gitname
    
    make
    make install DIR=$_pkg_emacs/$_gitname
}
