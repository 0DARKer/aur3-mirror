#Contributor: Yannick LM yannicklm1337 at gmail dot com

pkgname=pycp
pkgver=20090512
pkgrel=1
pkgdesc='cp with a progressbar'
arch=('any')
url='http://gitorious.org/projects/pycp'
license=('GPL')
depends=('python' 'python-progressbar')
makedepends=('python' 'git')

_gitroot="git://gitorious.org/pycp/mainline.git"
_gitname="pycp"

build() {
  cd ${srcdir}
  msg "Connecting to gitorious.org GIT server...."

  if [ -d ${srcdir}/$_gitname ] ; then
  cd $_gitname && git pull origin
  msg "The local files are updated."
  else
  git clone $_gitroot $_gitname
  fi

  msg "GIT checkout done or server timeout"

  msg "Starting setup.py ..."
  cd ${srcdir}/$_gitname
  python setup.py install --root=$startdir/pkg || return 1
  msg "Done"

}

