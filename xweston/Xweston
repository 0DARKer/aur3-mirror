#!/bin/sh

# Xweston - launch Xwayland hosted by weston

if [ -z "$DISPLAY" ]; then
	launcher="weston-launch -- $WESTON_OPTS"
else
	launcher="weston $WESTON_OPTS"
fi

# Let Xwayland-wrapper know the X server options to use and the PID to signal
export XWAYLAND_OPTS=$(mktemp)
echo "$*" >> $XWAYLAND_OPTS
echo $PPID >> $XWAYLAND_OPTS
exec $launcher
