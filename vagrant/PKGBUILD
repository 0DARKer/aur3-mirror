# Contributor: Mathieu Clabaut <mathieu.clabaut@gmail.com>
# Contributor: Jochen Schalanda <jochen+aur@schalanda.name>
# Last version visible on http://rubygems.org/gems/vagrant
pkgname=vagrant
pkgver=0.8.7
pkgrel=1
pkgdesc="Tool for building and distributing virtualized development environments"
arch=(any)
url="http://vagrantup.com/"
license=('MIT')
makedepends=('rubygems')
depends=('ruby' 'virtualbox>=4.1' 'ruby-archive-tar-minitar' 'ruby-net-ssh' 'ruby-net-scp' 'ruby-erubis' 'ruby-json' 'ruby-i18n' 'ruby-thor' 'ruby-virtualbox')
source=(http://rubygems.org/downloads/${pkgname}-${pkgver}.gem)
noextract=($pkgname-$pkgver.gem)
md5sums=('2adca779345564bd88d3991d3091bf6f')

build() {
  cd $srcdir
  local _gemdir="$(ruby -rubygems -e'puts Gem.default_dir')"
  gem install --ignore-dependencies -i "$pkgdir$_gemdir" ${pkgname}-$pkgver.gem
  gem install --ignore-dependencies --verbose -i "$pkgdir$_gemdir" -n "$pkgdir"/usr/bin $pkgname-$pkgver.gem
}
