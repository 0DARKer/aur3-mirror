# Maintainer:  Biginoz <biginoz at free.fr>
# Contributor : Tdy  <tdy@gmx.com>
pkgname=sweethome3d
pkgver=3.2
pkgrel=1
pkgdesc="An interior design application"
arch=('i686' 'x86_64')
_arch=x64
url="http://www.sweethome3d.eu/"
license=('GPL')
depends=('java-runtime' 'libgl')
[[ $CARCH = i686 ]] && optdepends=('java3d: for 3d modeling') && _arch=x86
source=(http://downloads.sourceforge.net/$pkgname/SweetHome3D-$pkgver-linux-$_arch.tgz
        $pkgname.desktop $pkgname.png sweethome3d)

md5sums=('27f4d59ee9026a4c009abaf014d931a6'
         '9f9e75883dbc5ca7ed14d6e6b1a0f72a'
         '4fa1604285c1d8c474e3a914b6a4e6ce'
         '0dc7accf2ad9aa3eeae19a2e33479d35')

[[ $CARCH = x86_64 ]] && md5sums[0]='ebd428fa120edcd12ed3b529e3963074'

package() {
  cd "$srcdir"
  install -d SweetHome3D-$pkgver  "$pkgdir/usr/share/java/$pkgname"
  cd SweetHome3D-$pkgver
  cp -r * "$pkgdir/usr/share/java/$pkgname"
  install -Dm644 ../$pkgname.png "$pkgdir/usr/share/pixmaps/$pkgname.png"
  install -Dm644 ../$pkgname.desktop \
    "$pkgdir/usr/share/applications/$pkgname.desktop"
  install -Dm755 ../sweethome3d "$pkgdir/usr/bin/sweethome3d"
}
