# Maintainer: cdude <cdude996@hotmail.com>
pkgname=njb-sharp-svn
pkgver=76422
pkgrel=1
pkgdesc="C# bindings for libnjb"
url="http://banshee-project.org/Njb-sharp"
license="GPL-2"
depends=('libnjb' 'mono')
makedepends=('monodoc')
conflicts=('njb-sharp')
provides=('njb-sharp')
source=()
md5sums=()
arch=('i686')

_svntrunk=svn://anonsvn.mono-project.com/source/trunk/njb-sharp
_svnmod=njb-sharp

build() {
  export MONO_SHARED_DIR=$startdir/src/.wabi
  mkdir -p $MONO_SHARED_DIR

  cd $startdir/src

  svn co $_svntrunk --config-dir ./ -r $pkgver $_svnmod
  cd $_svnmod
  ./autogen.sh --prefix=/usr --disable-docs

  make || return 1
  make DESTDIR=$startdir/pkg install

  mv $startdir/pkg/usr/lib/njb-sharp/njb-sharp/* \
     $startdir/pkg/usr/lib/njb-sharp
  rmdir $startdir/pkg/usr/lib/njb-sharp/njb-sharp

  rm -fr $MONO_SHARED_DIR
  find $startdir/pkg -name '*.la' -exec rm {} \;
}
