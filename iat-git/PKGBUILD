# Contributor: lolilolicon <lolilolicon_at_gmail_dot_com>

pkgname=iat-git
pkgver=20091122
pkgrel=1
pkgdesc="Iso9660 Analyzer Tool is a tool for detecting the structure of many types of CD/DVD image, and converts them to ISO-9660."
arch=('i686' 'x86_64')
url="http://iat.berlios.de"
license=('GPL')
makedepends=('git')
provides=('iat')
conflicts=('iat')
source=()
md5sums=()

_gitroot="git://git.berlios.de/iat"
_gitname=master

build() {
  msg "Connecting to GIT server..."
  if [[ -d $srcdir/$pkgname ]]; then
    cd $srcdir/$pkgname && git pull origin $_gitname || return 1
  else
    git clone $_gitroot $srcdir/$pkgname || return 1
    cd $srcdir/$pkgname
      git checkout $_gitname || return 1
  fi

  msg "GIT checkout done or server timeout"

  ./autogen.sh || return 1
  ./configure --prefix=/usr --includedir=/usr/include/iat || return 1
  make || return 1
  make DESTDIR="$pkgdir/" install || return 1
  rm -rf $pkgdir/usr/include #comment this out if you want include files...
}

# vim:set ts=2 sw=2 et:
