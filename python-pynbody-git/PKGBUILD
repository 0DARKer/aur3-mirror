# Maintainer: Lukasz Pozarlik <lpozarlik@gmail.com>

_gitname=pynbody
_gitbranch=master
pkgname="python-${_gitname}-git"
pkgdesc='Pynbody is a light-weight, portable, format-transparent analysis framework for N-body and hydrodynamic astrophysical simulations.'
pkgver=1932.3f2db51
pkgrel=1
url="https://github.com/pynbody/${_gitname}"
license=('MIT')
arch=('any')
depends=('python>=3.3'
	 'python-numpy'
	 'python-scipy')	
makedepends=('git'
	 'make'
	 'gcc'
	 'cython>=0.2')
ptdepends=('python-matplotlib'
	 'ipython')
source=("${_gitname}::git://github.com/pynbody/${_gitname}.git#branch=${_gitbranch}")
md5sums=('SKIP')

pkgver() {
  cd "${_gitname}"
  echo "$(git rev-list --count ${_gitbranch}).$(git rev-parse --short ${_gitbranch})"
}

package() {
  cd "${_gitname}"
  python setup.py install --root="${pkgdir}" --optimize=1
}
