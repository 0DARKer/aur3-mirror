# Maintainer: DonVla <donvla@users.sourceforge.net>

pkgname=skype4pidgin
pkgver=20100826
pkgrel=1
pkgdesc="Skype plugin for Pidgin"
arch=("i686" "x86_64")
url="http://eion.robbmob.com/"
license=('GPL')
depends=('pidgin' 'skype')
conflicts=('skype4pidgin-svn')
replaces=('skype4pidgin-svn')
install=$pkgname.install
source=("http://eion.robbmob.com/libskype.so"
#       "http://eion.robbmob.com/theme"
        "http://eion.robbmob.com/skype_icons.zip")
md5sums=('799457e8e137aae016f5ab963835ea8b'
         '46698f636897fa392f88dc5d21bb39cf')
sha256sums=('eb71a730af984f3294aaeae23074bdb36226126f6b305a306d5e026bfa42055a'
            '7160310f9f8087735226c44d91b87a26bb5f1ce97efc4ff3be9a8f5321e78442')
[[ $CARCH == 'x86_64' ]] && source[0]="http://eion.robbmob.com/libskype64.so"
[[ $CARCH == 'x86_64' ]] && md5sums[0]="83a5f04cc6173d642f176e09d90f01fb"
[[ $CARCH == 'x86_64' ]] && sha256sums[0]="af4c4acd62bc6fc01d9c786e96bab1708ca5de9f8290e2b614f9fb940ff3b82a"

build() {
  cd "${srcdir}"
  if [[ $CARCH == 'i686' ]]; then 
    install -D -m 0755 libskype.so ${pkgdir}/usr/lib/purple-2/libskype.so
  elif [[ $CARCH == 'x86_64' ]]; then 
    install -D -m 0755 libskype64.so ${pkgdir}/usr/lib/purple-2/libskype64.so
  fi
#  install -D -m 0644 theme ${pkgdir}/usr/share/pixmaps/pidgin/emotes/default/theme
  install -D -m 0644 16/skype.png ${pkgdir}/usr/share/pixmaps/pidgin/protocols/16/skype.png
  install -D -m 0644 22/skype.png ${pkgdir}/usr/share/pixmaps/pidgin/protocols/22/skype.png
  install -D -m 0644 48/skype.png ${pkgdir}/usr/share/pixmaps/pidgin/protocols/48/skype.png
}
