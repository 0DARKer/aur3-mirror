# Maintainer: Bruno Carlin <self at aerdhyl dot eu>
pkgname=python2-setuptools_git
pkgver=0.3.4
pkgrel=1
pkgdesc="Setuptools revision control system plugin for Git"
arch=(any)
url="http://pypi.python.org/pypi/setuptools-git"
license=('Public Domain')
depends=('python2' 'python2-distribute' 'git')
makedepends=('tar' 'gzip')
source=("http://pypi.python.org/packages/source/s/setuptools-git/setuptools_git-$pkgver.tar.gz"
        $pkgname.patch)
md5sums=('cd40fed12dc84f93eb8d55e36a5cb917'
         'c9cf80bb6666846af365c54207a29c52')
options=(!emptydirs)

build() {
  cd $srcdir/setuptools_git-$pkgver
  
  # Patching for compatibility with distribute
  patch -p1 -i $srcdir/$pkgname.patch || return 1
  
  python2 setup.py install --root=$pkgdir/ --optimize=1
}
