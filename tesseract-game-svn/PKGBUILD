# Maintainer: portals <portals at riseup.net>
# Contributer: archtux <antonio.arias99999@gmail.com>
# Contributer: giacomogiorgianni@gmail.com 

pkgname=tesseract-game-svn
pkgver=4365
pkgrel=1
pkgdesc="A FPS game focused on instagib deathmatch and capture-the-flag gameplay"
url="http://tesseract.gg/"
depends=('libgl' 'sdl2' 'sdl2_image' 'sdl2_mixer' 'libpng' 'mesa' 'zlib')
makedepends=('subversion')
arch=('i686' 'x86_64')
license=('ZLIB')
source=(tesseract-svn)
md5sums=('0c003b82081788840a54769e2ff49132')
_svntrunk=svn://svn.tuxfamily.org/svnroot/tesseract/main
_svnmod=tesseract

build() {
  cd $srcdir
  svn checkout $_svntrunk --config-dir ./
  msg "SVN checkout done or server timeout"
  msg "Starting make..."
  cd $srcdir/main/
  make -C src install 
}
  package() {

  cd $srcdir/main/
  mkdir -p "${pkgdir}/usr/share/tesseract-svn/"
 
 
  cp -R media/ config/ $pkgdir/usr/share/tesseract-svn

  # Start file
  install -Dm755 $srcdir/main/bin_unix/native_client $pkgdir/usr/bin/client-tesseract-svn
  install -Dm755 $srcdir/main/bin_unix/native_server $pkgdir/usr/bin/server-tesseract-svn
  install -Dm755 $srcdir/tesseract-svn $pkgdir/usr/bin/tesseract-game-svn


  

}