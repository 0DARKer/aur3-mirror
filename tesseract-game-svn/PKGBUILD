# Maintainer: portals <portals at riseup.net>
# Contributer: novemberist
# Contributer: PyroDevil
# Contributer: giacomogiorgianni@gmail.com 

pkgname=tesseract-game-svn
pkgver=4365
pkgrel=2
pkgdesc="A FPS game focused on instagib deathmatch and capture-the-flag gameplay"
url="http://tesseract.gg/"
depends=('libgl' 'sdl2' 'sdl2_image' 'sdl2_mixer' 'libpng' 'mesa' 'zlib')
makedepends=('subversion')
arch=('i686' 'x86_64')
license=('ZLIB')

source=('tesseract::svn://svn.tuxfamily.org/svnroot/tesseract/main' 'tesseract-svn')
md5sums=('SKIP' 'b52b498c051b2e63e536be27d1f4e211')

pkgver() {
  cd "$srcdir/tesseract"
  local ver="$(svnversion)"
  return ver
  printf "r%s" "${ver//[[:alpha:]]}"
}

build() {
  cd $srcdir/tesseract/
  make -C src install 
}
  package() {

  cd $srcdir/tesseract/
  mkdir -p "${pkgdir}/usr/share/tesseract-svn/"
 
 
  cp -R media/ config/ $pkgdir/usr/share/tesseract-svn

  # Start file
  install -Dm755 $srcdir/tesseract/bin_unix/native_client $pkgdir/usr/bin/client-tesseract-svn
  install -Dm755 $srcdir/tesseract/bin_unix/native_server $pkgdir/usr/bin/server-tesseract-svn
  install -Dm755 $srcdir/tesseract-svn $pkgdir/usr/bin/tesseract-game-svn


  

}