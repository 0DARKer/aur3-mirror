#
# PKGBUILD for walcommander
#
# Contributor: Uffe Jakobsen <uffe@uffe.org>
# Maintainer: Uffe Jakobsen <uffe@uffe.org>
#
pkgname=walcommander
pkgver=0.17.0
pkgrel=1
epoch=
pkgdesc="Multi-platform open source file manager (Windows, Linux, FreeBSD, OS X) mimicking the look-n-feel of Far Manager"
arch=('any')
_pkgname=WalCommander
_pkgver=release-${pkgver}
_pkgsrcdir=wcm
_pkgurl="https://github.com/corporateshark/${_pkgname}"
url=${_pkgurl}
license=('GPL2')
groups=()
depends=('libx11' 'libssh2' 'smbclient' 'freetype2')
makedepends=()
checkdepends=()
optdepends=()
provides=()
conflicts=()
replaces=()
backup=()
options=()
install=
changelog=
source=("${_pkgurl}/archive/${_pkgver}.tar.gz")
noextract=()

md5sums=('b3aff61385cf5998d67613180e1d123f')
sha1sums=('8aa02c0a7ba2ba0c8c1f4a9005f5dacd3b7a20b3')
sha256sums=('2a9757a8ec999dbc1e08ebe1011cabc743f8973c3561d56ba02b1046255a00c6')
sha384sums=('ee4c3c7be48172abf55b089c3f869a252714001e7300a1620f37f26880aa3569b43beb91ebb6fc8e795a5652f9a4f8cb')
sha512sums=('f2d7a2d2cfa565afc5c497d2b1a88b3e9e48e03bb0ac0ead92f86e42eca8a3603a0bdd7ad5900b19b434c25e3616c0db9066f73747757a714af1b2e5c3e717f9')

prepare() {
  cd "${srcdir}/${_pkgname}-${_pkgver}/${_pkgsrcdir}"
}

build() {
  cd "${srcdir}/${_pkgname}-${_pkgver}/${_pkgsrcdir}/libtester"
  ./libconf.create
  cd "${srcdir}/${_pkgname}-${_pkgver}/${_pkgsrcdir}"
  make all
}

check() {
  cd "${srcdir}/${_pkgname}-${_pkgver}/${_pkgsrcdir}"
  #make -k check
}

package() {
  cd "${srcdir}/${_pkgname}-${_pkgver}/${_pkgsrcdir}"
  #make DESTDIR="${pkgdir}/" install
  mkdir -p ${pkgdir}/usr/local/bin
  cp wcm ${pkgdir}//usr/local/bin
}

# EOF
