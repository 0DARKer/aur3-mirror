# Maintainer: taylorchu <tailinchu at gmail.com>

pkgname='vlc-ncurses'
basename='vlc'
pkgver=2.0.4
pkgrel=1
pkgdesc='VLC minus uncommon modules plus love'
arch=('i686' 'x86_64')
url='http://www.videolan.org/vlc/'
license='GPL'

depends=('qt' 'mesa' 'libxv' 'libass' 'xcb-util-keysyms' 'ncurses' 'ffmpeg' 'libxml2')

makedepends=('qt' 'mesa' 'libxv' 'libass' 'xcb-util-keysyms' 'ncurses' 'ffmpeg' 'libxml2')

options='!libtool'
conflicts='vlc'
provides='vlc'

source=("http://download.videolan.org/pub/videolan/${basename}/${pkgver}/${basename}-${pkgver}.tar.xz")
md5sums=('f36dab8f126922c56b372388b7fade47')

build() {

	cd "${srcdir}/${basename}-${pkgver}"
	sed -i -e 's:truetype/freefont:TTF:g' modules/text_renderer/freetype.c

	msg 'Generating necessary files...'

	./bootstrap

	msg 'Generating done.'
	msg 'Configuring VLC...'


#disable all auto and default enabled modules that i dont need
	./configure \
#--disable-option-checking \
--enable-silent-rules=no \
--disable-silent-rules \
--enable-maintainer-mode=no \
--enable-dependency-tracking=no \
--disable-dependency-tracking \
--disable-libtool-lock \
--disable-nls \
--disable-rpath \
--enable-non-utf8=no \
#--enable-dbus=no \
--disable-dbus-control \
--enable-telepathy=no \
--enable-debug=no \
--enable-gprof=no \
--enable-cprof=no \
--enable-coverage=no \
#--disable-optimizations \
#--disable-mmx \
#--disable-sse \
--disable-neon \
--disable-altivec \
#--enable-optimize-memory=no \
--enable-run-as-root=no \
--disable-sout \
--disable-lua \
--disable-httpd \
--disable-vlm \
--enable-libproxy=no \
--enable-live555=no \
--enable-dc1394=no \
--enable-dv=no \
--enable-linsys=no \
#--enable-dvdread=no \
#--disable-dvdnav \
--disable-dshow \
--enable-bluray=no \
--enable-opencv=no \
--disable-smb \
--enable-sftp=no \
--disable-v4l2 \
--enable-pvr=no \
--disable-decklink \
--enable-gnomevfs=no \
--enable-vcdx=no \
--disable-vcd \
--disable-libcddb \
--enable-screen=no \
--enable-realrtsp=no \
--enable-macosx-eyetv=no \
--enable-macosx-qtkit=no \
--enable-dvbpsi=no \
--enable-gme=no \
--enable-sid=no \
--enable-ogg=no \
--enable-mux_ogg=no \
--enable-shout=no \
--disable-mkv \
--disable-mod \
--disable-mpc \
--enable-wma-fixed=no \
--enable-shine=no \
--enable-omxil=no \
--enable-iomx=no \
--enable-crystalhd=no \
--enable-mad=no \
#--enable-merge-ffmpeg=no \
#--enable-avcodec=no \
#--enable-libva=no \
--enable-dxva2=no \
--enable-switcher=no \
#--enable-avformat=no \
#--enable-swscale=no \
--enable-postproc=no \
--enable-faad=no \
--enable-twolame=no \
--enable-quicktime=no \
--enable-real=no \
--enable-a52=no \
--enable-dca=no \
--enable-flac=no \
--enable-libmpeg2=no \
--enable-vorbis=no \
--enable-tremor=no \
--enable-speex=no \
--enable-opus=no \
--enable-theora=no \
--enable-dirac=no \
--enable-schroedinger=no \
--enable-png=no \
#--enable-x264=no \
--enable-fluidsynth=no \
--enable-zvbi=no \
--enable-telx=no \
#--enable-libass=no \
--enable-kate=no \
--enable-tiger=no \
--enable-egl=no \
#--enable-xcb=no \
#--enable-xvideo=no \
#--enable-glx=no \
#--enable-sdl=no \
#--enable-sdl-image=no \
--enable-macosx-vout=no \
#--enable-freetype=no \
--enable-fribidi=no \
#--enable-fontconfig=no \
--enable-macosx-quartztext=no \
--enable-svg=no \
--enable-android-surface=no \
--enable-ios-vout=no \
--enable-directx=no \
--enable-direct2d=no \
--enable-wingdi=no \
--enable-directfb=no \
--enable-aa=no \
--enable-caca=no \
--enable-kva=no \
--enable-pulse=no \
#--enable-alsa=no \
--enable-oss=no \
--enable-portaudio=no \
--enable-waveout=no \
--enable-macosx-audio=no \
--enable-audioqueue=no \
--enable-jack=no \
--enable-opensles=no \
--enable-samplerate=no \
--enable-kai=no \
--enable-skins2=no \
--enable-libtar=no \
--enable-hildon=no \
#--enable-qt4=no \
--enable-macosx=no \
--enable-macosx-dialog-provider=no \
#--disable-ncurses \
--enable-xosd=no \
--enable-fbosd=no \
--enable-lirc=no \
--enable-visual=no \
--enable-goom=no \
--enable-projectm=no \
--disable-atmo \
--enable-bonjour=no \
#--enable-udev=no \
--enable-mtp=no \
--enable-upnp=no \
#--enable-libxml2=no \
--disable-libgcrypt \
--enable-gnutls=no \
--disable-taglib \
--enable-update-check=no \
--enable-growl=no \
--enable-notify=no \
--enable-media-library=no \
--enable-sqlite=no \
--enable-loader=no \
#--enable-vlc=no \
--enable-macosx-vlc-app=no

	msg 'Starting make...'

	make
	make DESTDIR=${pkgdir} install
}
