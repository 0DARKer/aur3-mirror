# Maintainer: taylorchu <tailinchu at gmail.com>

pkgname='vlc-ncurses'
basename='vlc'
pkgver=1.1.13
pkgrel=1
pkgdesc='VLC minus qt4 minus uncommon modules plus love'
arch=('i686' 'x86_64')
url='http://www.videolan.org/vlc/'
license='GPL'

depends=('libass' 'xcb-util-keysyms' 'ttf-freefont' 'fribidi' 'ncurses' 'ffmpeg' 'libxml2')
	
makedepends=('libass' 'xcb-util-keysyms' 'ttf-freefont' 'fribidi' 'ncurses' 'ffmpeg' 'libxml2')

options='!libtool'
conflicts='vlc'
provides='vlc'

source=("http://download.videolan.org/pub/videolan/${basename}/${pkgver}/${basename}-${pkgver}.tar.bz2")
md5sums=("9678fb7a04808b6e0de63746d35e4bb1")

build() {
	
	cd "${srcdir}/${basename}-${pkgver}"

	msg 'Generating necessary files...'

	./bootstrap

	msg 'Generating done.'
	msg 'Configuring VLC...'


#disable all auto and default enabled modules that i dont need
	./configure --prefix=/usr \
--disable-telepathy \
--disable-sout \
--disable-lua \
--disable-httpd \
--disable-vlm \
--disable-libproxy \
--disable-live555 \
--disable-linsys \
--disable-dshow \
--disable-smb \
--disable-v4l2 \
--disable-decklink \
--disable-vcd \
--disable-libcddb \
--disable-screen \
--disable-gme \
--disable-sid \
--disable-mkv \
--disable-mod \
--disable-mpc \
--disable-crystalhd \
--disable-switcher \
--disable-swscale \
--disable-postproc \
--disable-a52 \
--disable-png \
--disable-zvbi \
--disable-telx \
--disable-tiger \
--disable-sdl-image \
--disable-qt4 \
--disable-skins2 \
--disable-libtar \
--disable-visual \
--disable-projectm \
--disable-atmo \
--disable-libgcrypt \
--disable-gnutls \
--disable-taglib \
--disable-dc1394 \
--disable-dv \
--disable-bluray \
--disable-gnomevfs \
--disable-ogg \
--disable-mux_ogg \
--disable-shout \
--disable-twolame \
--disable-dca \
--disable-flac \
--disable-vorbis \
--disable-speex \
--disable-theora \
--disable-dirac \
--disable-schroedinger \
--disable-fluidsynth \
--disable-kate \
--disable-svg \
--disable-caca \
--disable-jack \
--disable-samplerate \
--disable-goom \
--disable-bonjour \
--disable-mtp \
--disable-upnp \
--disable-notify \
--disable-sqlite \
--disable-gles2 \
--disable-gles1 \
--disable-dvdread \
--disable-dvdnav \
--disable-opencv \
--disable-mad \
--disable-libmpeg2 \
--disable-pulse \
--disable-dxva2 \
--disable-glx \
--disable-libva \
--disable-xvideo \
--disable-udev \
--disable-remoteosd

	msg 'Starting make...'

	make || return 1
	make DESTDIR=${pkgdir} install || return 1
}
