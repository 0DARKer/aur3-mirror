diff -Naur src/plugins/Input/ffmpeg/decoder_ffmpeg.cpp src.patch/plugins/Input/ffmpeg/decoder_ffmpeg.cpp
--- src/plugins/Input/ffmpeg/decoder_ffmpeg.cpp	2011-04-15 22:08:40.000000000 +0400
+++ src.patch/plugins/Input/ffmpeg/decoder_ffmpeg.cpp	2011-04-24 11:13:36.000000000 +0400
@@ -121,7 +121,7 @@
     }
     qDebug("DecoderFFmpeg: detected format: %s", fmt->long_name);
 
-#if (LIBAVCODEC_VERSION_INT >= ((52<<16)+(105<<8)+0))
+#if (LIBAVFORMAT_VERSION_INT >= ((52<<16)+(105<<8)+0))
     m_stream = avio_alloc_context(m_input_buf, INPUT_BUFFER_SIZE, 0, this, ffmpeg_read, NULL, ffmpeg_seek);
     if(!m_stream)
     {
