#Contributor <Themaister> <maister@archlinux.us>

pkgname=ssnes-git
pkgver=20110115
pkgrel=1
pkgdesc="Simple Super Nintendo (SNES) Emulator using the libsnes core."

url="http://github.com/Themaister/SSNES"
arch=('i686' 'x86_64')

license=('GPL')
depends=('libsnes>=0.070' 'sdl>=1.2.10' 'libsamplerate')
optdepends=('alsa: ALSA audio output' 'rsound: RSound audio output' 'nvidia-cg-toolkit: Cg shader support' 'libxml2: bSNES-style XML shader support')

_gitroot="git://github.com/Themaister/SSNES.git"
_gitname="ssnes"

build() 
{
   cd $srcdir

   msg "Cloning SSNES from GIT"
   if [ -d $_gitname ]; then
      cd $_gitname
      git pull || return 1
   else
      git clone $_gitroot $_gitname || return 1
      cd $_gitname
   fi

   ./configure --prefix=/usr
   make || return 1
}

package()
{
   mkdir -p $pkgdir/etc
   mkdir -p $pkgdir/usr/bin
   mkdir -p $pkgdir/usr/share/man/man1
   cd $srcdir/$_gitname
   make install DESTDIR=$pkgdir || return 1
}


