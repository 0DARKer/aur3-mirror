# Maintainer: Bartek Piotrowski <barthalion@gmail.com>

pkgname=uclibc++
_pkgname=uClibc++
pkgver=0.2.2
pkgrel=2
pkgdesc='C++ standard library targeted towards the embedded systems/software market'
arch=('i686' 'x86_64')
license=('LGPL')
url="http://cxx.uclibc.org/"
depends=('gcc-libs')
source=(http://cxx.uclibc.org/src/$_pkgname-$pkgver.tar.bz2
	config)
md5sums=('1ceef3209cca88be8f1bd9de99735954'
	 'f77945eb7e9fb93d9b85a7e84473695b')
_makemenucfg="n"

build() {
    cd $_pkgname-$pkgver
    
    msg "Copying default configuration file"
    cat ../config >./.config
    
    if [ "$_makemenucfg" = "y" ]; then
        msg "Running make menuconfig"
        make menuconfig
    else
        msg "Using default config"
        make oldconfig
    fi
    
    make
    make PREFIX=$pkgdir install
}
