# Contributor: Lyman Li <lymanrb@gmail.com>

pkgname=scim-sunpinyin
pkgver=20090106
pkgrel=2
pkgdesc="A SLM (Statistical Language Model) based pinyin IME"
arch=('i686' 'x86_64')
url="http://www.opensolaris.org/os/project/input-method/"
license=('CDDL' 'LGPL')
makedepends=('autoconf' 'automake' 'gcc')
depends=('scim')
options=('!libtool')
source=(http://www.opensolaris.org/os/project/input-method/files/inputmethod-repo-snapshot-${pkgver}.tar.bz2
    http://src.opensolaris.org/source/raw/nv-g11n/inputmethod/sunpinyin/ime/data/lm_sc.t3g.le
    http://src.opensolaris.org/source/raw/nv-g11n/inputmethod/sunpinyin/ime/data/pydict_sc.bin.le)
md5sums=('a4dfa3bc9cacdab15cb2994105321b95'
    '7706ad1f66685ca55a7798815e8fd1b4'
    '084ae08e0bd87a689176649788d189b8')

build() {
	cd ${startdir}/src/inputmethod-repo-snapshot-${pkgver}/sunpinyin/ime
	cp ${startdir}/src/lm_sc.t3g.le data/
	cp ${startdir}/src/pydict_sc.bin.le data/

	./autogen.sh --prefix=/usr \
		--enable-scim \
		--disable-cle \
		--disable-debug || return 1
    
	make || return 1
	make DESTDIR=${startdir}/pkg install || return 1
}
