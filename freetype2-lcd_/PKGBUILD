# Maintainer: Anonymo <meowdib at gmail dot com>
# Maintainer: Luca Bennati <lucak3 at gmail dot com>

pkgname=freetype2-lcd_
pkgver=2.4.4
pkgrel=1
pkgdesc="TrueType font rendering library for LCD Displays"
arch=(i686 x86_64)
license=('GPL')
url="http://freetype.sourceforge.net"
depends=('zlib' 'cairo>=1.10.0' 'libxft-lcd')
provides=("freetype2=${pkgver}")
conflicts=('freetype2' 'freetype2-lcd')
options=('!libtool')
source=(http://downloads.sourceforge.net/sourceforge/freetype/freetype-${pkgver}.tar.bz2
	freetype-2-quantization_fix.patch
	ftoption.h)

build() {
  cd ${startdir}/src/freetype-${pkgver}
  cp ../../ftoption.h include/freetype/config/ftoption.h
  cp ../../freetype-2-quantization_fix.patch src/autofit/freetype-2-quantization_fix.patch
  cd src/autofit
  patch -p0 -i ./freetype-2-quantization_fix.patch || return 1
  cd ../../

  ./configure --prefix=/usr
  make || return 1
  make DESTDIR=${startdir}/pkg install
}

md5sums=('b3e2b6e2f1c3e0dffa1fd2a0f848b671'
         '385162f4a3e01653d55ab9a9be0c8808'
         '5a8171040609dc6f67048e955b5b1324')
