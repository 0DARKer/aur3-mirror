# Maintainer: Thomas Decoster <acid.sploit@gmail.com>
pkgname=e4rat-preload-lite
pkgver=0.1
pkgrel=1
epoch=
pkgdesc="Replacement for e4rat-preload, which takes less time to load the inodes. The savings come from using pure C with no external librairy references and by preloading only the first 100 files (both inodes and file contents) before starting /sbin/init, then continuing to load the remaining files in parallel with the normal boot sequence."
arch=('any')
url="http://e4rat-l.bananarocker.org/"
license=('GPL')
groups=()
depends=()
makedepends=()
checkdepends=()
optdepends=()
provides=()
conflicts=()
replaces=()
backup=()
options=()
install=
changelog=
source=($url$pkgname-$pkgver.tar.gz)
noextract=()
md5sums=('c2250f064da1c883f8f58f3af70cc7a8') #generate with 'makepkg -g'

build() {
  cd "$srcdir/$pkgname-$pkgver"
  gcc -std=c99 -Wall -O2 -o e4rat-preload-lite e4rat-preload-lite.c
  strip -s e4rat-preload-lite
  echo "Finished compiling e4rat-preload-lite"
}

check() {
  cd "$srcdir/$pkgname-$pkgver"
}

package() {
  cd "$srcdir/$pkgname-$pkgver"
  mkdir -p "$pkgdir/usr/sbin/"
  cp  e4rat-preload-lite "$pkgdir/usr/sbin/"
}

# vim:set ts=2 sw=2 et:
