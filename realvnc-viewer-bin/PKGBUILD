# Maintainer: Ethan Best <kc9ydn@gmail.com>
pkgname=realvnc-viewer-bin
pkgver=5.2.2
pkgrel=2
pkgdesc="RealVNC Viewer"
_pkgbin="VNC-Viewer-${pkgver}-linux"
url="http://www.realvnc.com/"
license=('custom')
arch=('i686' 'x86_64')
depends=('libx11')

[[ ${CARCH} = "i686" ]] && _pkgarch="-x86" && source=("${_pkgbin}${_pkgarch}::${url}/download/binary/1675" "${url}/assets/img/logo_48x48.png") && md5sums=('b6355c8a862b677717e672db0b541454' '9100b5eae8bb1c7835cd43f8c1bc0ae6')
[[ ${CARCH} = "x86_64" ]] && _pkgarch="-x64" && source=("${_pkgbin}${_pkgarch}::${url}/download/binary/1677" "${url}/assets/img/logo_48x48.png") && md5sums=('27f8e1f316e13f78d09d3af2e47537d0' '9100b5eae8bb1c7835cd43f8c1bc0ae6')

package() {
install -D -m 755 ${srcdir}/${_pkgbin}${_pkgarch} ${pkgdir}/usr/bin/${pkgname}
install -D -m 644 ${srcdir}/logo_48x48.png ${pkgdir}/usr/share/pixmaps/${pkgname}.png

cat > ${pkgname}.desktop << EoF
[Desktop Entry]
Type=Application
Categories=Application;Network;
Terminal=false
Exec=/usr/bin/${pkgname}
Icon=/usr/share/pixmaps/${pkgname}.png
Name=RealVNC Viewer
GenericName=Remote desktop client
Comment=Connect to VNC servers
EoF

install -D -m 644 ${srcdir}/${pkgname}.desktop ${pkgdir}/usr/share/applications/${pkgname}.desktop
}
