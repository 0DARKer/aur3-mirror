pkgname=perl-class-std-utils
pkgver=0.0.2
pkgrel=2
pkgdesc='Utility subroutines for building "inside-out" objects'
url="http://search.cpan.org/~dconway/Class-Std-Utils-$pkgver/"
depends=('perl>=5.8.4-1')
source=(http://search.cpan.org/CPAN/authors/id/D/DC/DCONWAY/Class-Std-Utils-$pkgver.tar.gz)
md5sums=('15a58448b074e482b2949e2cd892fbac')

build() {
  cd $startdir/src/Class-Std-Utils-$pkgver
  # Force module installation to "current" perl directories.
  /usr/bin/perl Makefile.PL \
      INSTALLARCHLIB=/usr/lib/perl5/current/${CARCH}-linux-thread-multi \
      INSTALLSITELIB=/usr/lib/perl5/site_perl/current \
      INSTALLSITEARCH=/usr/lib/perl5/site_perl/current/${CARCH}-linux-thread-multi
  /usr/bin/make || return 1
  /usr/bin/make install DESTDIR=$startdir/pkg

  # remove perllocal.pod, .packlist, and empty dirs.
  /bin/rm -rf $startdir/pkg/usr/lib/perl5/current
  /bin/rm -rf $startdir/pkg/usr/lib/perl5/site_perl/current/${CARCH}-linux-thread-multi
}
