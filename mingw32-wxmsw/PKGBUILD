# Contributor: Andre Klitzing <aklitzing () online () de>
_pkgname=wxMSW
_target=i486-mingw32
pkgname=mingw32-wxmsw
pkgver=2.8.9
pkgrel=1
pkgdesc="wxMSW is a port of wxWidgets for MS Windows"
arch=('i686' 'x86_64')
url="http://docs.wxwidgets.org/stable/wx_wxmswport.html"
license=('custom:wxWindows')
depends=('mingw32-runtime' 'mingw32-libpng' 'mingw32-expat' 'mingw32-zlib')
makedepends=('mingw32-w32api' 'mingw32-gcc' 'mingw32-binutils' 'hd2u')
install=wxmsw.install
source=(http://downloads.sourceforge.net/wxwindows/$_pkgname-$pkgver.tar.bz2)
md5sums=('d5bfdc320d8f401303b05f56b053a831')

build() {
  cd "$srcdir/$_pkgname-$pkgver"

  ./configure --prefix=/usr/${_target} --build=$CHOST --host=${_target} --with-msw --with-expat --enable-unicode --enable-shared || return 1
  make || return 1
  make DESTDIR="$pkgdir/" install

  msg "Get rid of stupid carriage return (^M problem) in all text files!"
  cd "$pkgdir/"
  find ./ -type f -exec dos2unix --d2u --skipbin {} \;
}

