# $Id$
# Contributor: Balwinder S "bsd" Dheeman (bdheeman AT gmail.com)
# Credits: Geoffroy Carrier <geoffroy.carrier@koon.fr>
# Maintainer: Balwinder S "bsd" Dheeman (bdheeman AT gmail.com)

pkgname=sleuthkit++
_pkgname=sleuthkit
pkgver=3.2.2
pkgrel=1
pkgdesc='File-system/disk-image Forensic analysis tools, supports AFF, EWF (EnCase), Ext2, Ext3, FAT, NTFS, UFS1/2, FFS and ISO9660'
url=http://www.sleuthkit.org/sleuthkit
arch=('i686' 'x86_64')
license=('GPL2' 'CPL' 'custom:IBM-PL')
depends=('expat')
makedepends=('afflib' 'libewf')
optdepends=('afflib: for (AFF) Advanced Forensics Format support [AUR]'
    'libewf: for (EWF) Expert Witness Compression Format support [AUR]')
provides=('sleuthkit')
conflicts=('sleuthkit')
replaces=('sleuthkit')
options=('!libtool')
changelog='ChangeLog'
source=(http://downloads.sourceforge.net/${_pkgname}/${_pkgname}-$pkgver.tar.gz
    'README.arch')


build() {
    cd "$srcdir/${_pkgname}-$pkgver"
    ./configure --prefix=/usr --mandir=/usr/share/man || return 1
    make || return 1
    make DESTDIR=$pkgdir install || return 1

    # make it nice...
    install -Dm644 licenses/IBM-LICENSE $pkgdir/usr/share/licenses/$pkgname/IBM-PL
    install -Dm644 $srcdir/README.arch $pkgdir/usr/share/licenses/$pkgname/README.arch
    mkdir -p $pkgdir/usr/share/licenses/common
    ln -s /usr/share/licenses/$pkgname/IBM-PL $pkgdir/usr/share/licenses/common/IBM-PL
}

# vim:set ts=4 sw=4 et:
md5sums=('bc6244a086e4e35215b8e1a776f63c5c'
         '0018e3098a22aaf6938d4051d5152738')
