# Maintainer: Peter Bui <pnutzh4x0r@gmail.com>
# Contributor: Techlive Zheng <techlivezheng@gmail.com>

pkgname=rtl8192se
pkgdesc="Drivers for Realtek 8192SE wireless chipset"
pkgver=2.6.0019.1207.2010
pkgrel=2
license=("GPL")
depends=('kernel26-headers' 'rtl8192se-firmware')
install="rtl8192se.install"
source=("http://www.nd.edu/~pbui/scratch/aur/${pkgname}_linux_${pkgver}.tar.gz")
arch=('i686' 'x86_64')
url="http://www.realtek.com.tw/"

build() {
    cd ${srcdir}/${pkgname}_linux_${pkgver}

    #sed -i 's/-DENABLE_LPS//' HAL/rtl8192/Makefile || return 1
    #sed -i 's/-DENABLE_LPS//' HAL/rtl8192/*/Makefile || return 1

    make || return 1
}

package_rtl8192se(){
    cd ${srcdir}/${pkgname}_linux_${pkgver}
    mkdir -p ${pkgdir}/lib/modules/$(uname -r)/kernel/drivers/net/wireless/
    cp -f HAL/rtl8192/r8192se_pci.ko ${pkgdir}/lib/modules/$(uname -r)/kernel/drivers/net/wireless/
}

md5sums=('2c122c209784452fd5bbbad3ef1f7fa1')
