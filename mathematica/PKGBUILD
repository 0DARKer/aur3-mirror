# Maintainer: Michael Pusterhofer <pusterhofer at student dot tugraz dot at>
pkgname=mathematica
pkgver=8.0.4
pkgrel=1
pkgdesc="A computational software program used in scientific, engineering, and mathematical fields and other areas of technical computing."
arch=(any)
url="http://www.wolfram.com/mathematica/"
license=('proprietary')
options=('!strip')
source=("Mathematica_${pkgver}_LINUX.sh")
md5sums=('02d4619b55c1d1289de651fdf896d29a')

PKGEXT=".pkg.tar"

# To build this package you need to place the mathematica-installer into your startdir
# If you don't own the installer you can download a trial version at http://www.wolfram.com/mathematica/trial

# Product Name: Mathematica for Students for Sites
# Version: 8.0.1
# URL: http://www.wolfram.com/solutions/education/students/

package() {
  #Extract and Install Mathematica
  echo "Extracting and installing mathematica:"
  chmod +x $srcdir/Mathematica_${pkgver}_LINUX.sh
  $srcdir/Mathematica_${pkgver}_LINUX.sh -- -execdir=$pkgdir/usr/bin -targetdir=$pkgdir/opt/Mathematica -auto

  #Fix absolute links
  echo "Fixing absolute symlinks"
  cd $pkgdir/usr/bin
  rm *
  ln -s ../../opt/Mathematica/Executables/math
  ln -s ../../opt/Mathematica/Executables/mathematica
  ln -s ../../opt/Mathematica/Executables/Mathematica
  ln -s ../../opt/Mathematica/Executables/mcc
  ln -s ../../opt/Mathematica/Executables/MathKernel
}

# vim:set ts=2 sw=2 et:
