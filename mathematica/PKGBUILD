# Maintainer: Michael Pusterhofer <pusterhofer at student dot tugraz dot at>
pkgname=mathematica
pkgver=8.0.0
pkgrel=2
pkgdesc="A computational software program used in scientific, engineering, and mathematical fields and other areas of technical computing."
arch=(any)
url="http://www.wolfram.com/mathematica/"
license=('proprietary')
source=("Mathematica_${pkgver}_Student_LINUX.sh")
md5sums=('cf60e53e636a22f36394f6f7bb54f193')

# To build this package you need to place the mathematica-installer into your startdir
# If you don't own the installer you can download a trial version at http://www.wolfram.com/mathematica/trial

# Product Name: Mathematica for Students for Sites
# Version: 8.0.0
# URL: http://www.wolfram.com/solutions/education/students/

package() {
  #Extract and Install Mathematica
  echo "Extracting and installing mathematica:"
  chmod +x $srcdir/Mathematica_${pkgver}_Student_LINUX.sh
  $srcdir/Mathematica_${pkgver}_Student_LINUX.sh -- -execdir=$pkgdir/usr/bin -targetdir=$pkgdir/opt/Mathematica -auto

  #Fix absolute links
  echo "Fixing absolute symlinks"
  cd $pkgdir/usr/bin
  rm *
  ln -s ../../opt/Mathematica/Executables/math
  ln -s ../../opt/Mathematica/Executables/mathematica
  ln -s ../../opt/Mathematica/Executables/Mathematica
  ln -s ../../opt/Mathematica/Executables/mcc
  ln -s ../../opt/Mathematica/Executables/MathKernel
}

# vim:set ts=2 sw=2 et:
