# Maintainer: archtux <antonio.arias99999@gmail.com>

pkgname=converseen
pkgver=0.3.2
pkgrel=2
pkgdesc="Converseen is a batch image converter and thumbnail creator. It supports more than 100 image formats. Translated to English, French, Italian, Czech, Hungarian and Polish."
arch=('i686' 'x86_64')
url="http://converseen.sourceforge.net/"
license=('GPL2')
depends=('graphicsmagick' 'imagemagick>6.6.6.9' 'qt')
source=(http://downloads.sourceforge.net/sourceforge/converseen/converseen-$pkgver.tar.bz2)
md5sums=('6bc14e961c41374160828564f8317069')

build() {
  cd $srcdir/$pkgname-$pkgver

  qmake
  make

  # Binary
  install -Dm755 converseen $pkgdir/usr/bin/converseen

  # Desktop icon
  install -Dm644 ./res/converseen.png     $pkgdir/usr/share/pixmaps/converseen.png
  install -Dm644 ./res/converseen.desktop $pkgdir/usr/share/applications/converseen.desktop

  cd ./loc
  # Czech translation
  install -Dm644 converseen_cs_CZ.qm $pkgdir/usr/share/converseen/converseen_cs_CZ.qm

  # Italian translation
  install -Dm644 converseen_it_IT.qm $pkgdir/usr/share/converseen/converseen_it_IT.qm

  # Polish translation
  install -Dm644 converseen_pl_PL.qm $pkgdir/usr/share/converseen/converseen_pl_PL.qm

  # Hungarian translation
  install -Dm644 converseen_hu_HU.qm $pkgdir/usr/share/converseen/converseen_hu_HU.qm

  # French translation
  install -Dm644 converseen_fr_FR.qm $pkgdir/usr/share/converseen/converseen_fr_FR.qm
}