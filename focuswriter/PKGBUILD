# Maintainer: Graeme Gott <graeme@gottcode.org>

pkgname=focuswriter
pkgver=1.4.3
pkgrel=1
pkgdesc="A simple fullscreen word processor"
arch=('i686' 'x86_64')
url="http://gottcode.org/${pkgname}/"
license=('GPL3')
if [ -e /usr/bin/qmake ] || [ ! -e /usr/bin/qmake-qt4 ]; then
  depends=('qt5-base' 'enchant' 'libzip')
else
  depends=('qt4' 'enchant' 'libzip')
fi
optdepends=('sdl_mixer: typewriter sound effects')
install=${pkgname}.install
source=(http://gottcode.org/${pkgname}/${pkgname}-${pkgver}-src.tar.bz2)
md5sums=('ac900e717cd1f5b9d81a3ff925db1cb2')
sha256sums=('4f4d36f92c5d5c784dbeac7f47e06d29d58ac893f33f3c79ade9e08c54ecf59e')

build() {
  cd "${srcdir}/${pkgname}-${pkgver}"
  if [ -e /usr/bin/qmake ]; then
    /usr/bin/qmake PREFIX=/usr
  else
    qmake-qt4 PREFIX=/usr
  fi
  make
}

package() {
  cd "${srcdir}/${pkgname}-${pkgver}"
  make INSTALL_ROOT="${pkgdir}/" install
}
