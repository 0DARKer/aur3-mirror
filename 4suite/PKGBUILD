# Maintainer: Jaroslav Lichtblau <dragonlord@aur.archlinux.org>

pkgname=4suite
pkgver=1.0.2
pkgrel=1
pkgdesc="A platform for XML processing and knowledge-management"
arch=('any')
url="http://foursuite.sourceforge.net/"
depends=('python24')
license=('GPL')
source=(http://downloads.sourceforge.net/sourceforge/foursuite/4Suite-XML-${pkgver}.tar.bz2)
md5sums=('b3e976a666899113d58f333518205968')

package() {
  cd ${srcdir}/4Suite-XML-${pkgver}
  python2.4 setup.py install --root=${pkgdir} --system

# python2.4 fix
  cd ${pkgdir}/usr/bin
  for file in $(find . -name '*.py' -print); do
    sed -i 's_^#!.*/usr/bin/python_#!/usr/bin/python2.4_' $file
    sed -i 's_^#!.*/usr/bin/env.*python_#!/usr/bin/env python2.4_' $file
  done  
}
