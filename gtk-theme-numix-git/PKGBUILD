# Maintainer: Diego <cdprincipe at gmail dot com>

pkgname=gtk-theme-numix-git
pkgver=113.17b1bf5
pkgrel=2
pkgdesc="A flat and light theme with a modern look that support Openbox, Xfce, Gnome, Unity and KDE"
arch=('any')
url="https://github.com/shimmerproject/Numix"
license=('GPL3')
depends=('gtk-engine-murrine')
makedepends=('git')
optdepends=('qtcurve-kde4')
provides=('gtk-theme-numix')
conflicts=('gtk-theme-numix')
source=('git://github.com/shimmerproject/Numix.git'
        'http://fc01.deviantart.net/fs70/f/2013/166/5/7/kde4___qtcurve___numix_by_half_left-d697cm0.zip')
md5sums=('SKIP'
         'ceef3c31e9ae593df518a9fea3cf93f3')


pkgver() {
  cd Numix
  echo $(git rev-list --count HEAD).$(git rev-parse --short HEAD)
}

package() {
  cd Numix

  # create theme dir
  install -d -m 755 "$pkgdir"/usr/share/themes/Numix

  # clean up
  rm -rf {.git,.gitignore,CREDITS,LICENSE,README}

  # install theme
  cp -r . "$pkgdir"/usr/share/themes/Numix/
  
  # Install Qt curve style
  install -d $pkgdir/usr/share/apps/QtCurve
  install -Dm755 $srcdir/Numix.qtcurve $pkgdir/usr/share/apps/QtCurve/

  # Install KDE color scheme
  install -d $pkgdir/opt/kde/share/apps/kdisplay/color-schemes
  install -Dm755 $srcdir/Numix.colors $pkgdir/opt/kde/share/apps/kdisplay/color-schemes/
}
