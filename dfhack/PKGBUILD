# Maintainer:  Elliott Seyler <emhs08@gmail.com>
pkgname=dfhack
_pkgver=0.40.10-r1
pkgver=0.40.10_r1
pkgrel=1
pkgdesc="A Dwarf Fortress memory access library and a set of basic tools that use it."
url="https://github.com/DFHack/dfhack"
arch=('i686' 'x86_64')
license=('custom')
depends=('dwarffortress=0.40.10')
if test "$CARCH" == "x86_64"; then
  depends+=(lib32-libpng12 lib32-libjpeg6)
fi
conflicts=(dfhack-git)
source=("$pkgname-$pkgver.tar.gz::http://dffd.wimbli.com/download.php?id=9553&f=dfhack-0.40.10-r1-Linux.tar.gz" "dwarffortress-hacked")
sha256sums=('acf3a639bd4da776a2c4f3fa6f432aa8fea97bbac24022dece0404c4649b3312'
            '8d68139fb2cbb49a25999462974bff5c40ba23028c823fb666507fbc151ac52d')
package() {
  cd $srcdir
  mkdir -p $pkgdir/opt/dwarffortress
  cp -r hack stonesense dfhack dfhack-run dfhack.init-example $pkgdir/opt/dwarffortress
  mkdir -p $pkgdir/usr/bin
  cp dwarffortress-hacked $pkgdir/usr/bin/dfhack
}
