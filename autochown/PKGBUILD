#Maintainer: Xyne <ac xunilhcra enyx, backwards>
pkgname=autochown
pkgver=2012.10
pkgrel=1
pkgdesc='Monitor multiple directories using glob patterns and automatically adjust file ownership and permissions.'
arch=(i686 x86_64)
license=(GPL)
url="http://xyne.archlinux.ca/projects/autochown"
makedepends=(cmake rabbit_tree)
source=(
  http://xyne.archlinux.ca/projects/autochown/archives/autochown-2012.10.tar.xz
  http://xyne.archlinux.ca/projects/autochown/archives/autochown-2012.10.tar.xz.sig
)
sha512sums=(
  1215910767747609b5d232912d766ad2d7549209e2ae74deac9598383d07b08f1974ed890521119cf87199b83b1aeb4d5c63b3443fe05852179c899dbf7ed75e
  11f611468cc4791745ceb4f9ba4624a0d63be86dc0facff5bca74f1a0db60ee0c11a75214db6eabff71380cdfa445348177e6e3635a38533818ad0f82916da7b
)
md5sums=(
  52b5abdeb0a0a9fbdc10c2089dc70b13
  de87dbed7b6a1e4ef0fe7880b2dd5ae7
)

build ()
{
  mkdir -p "$srcdir/build"
  rm -fr "$srcdir/build/"*
  cd -- "$srcdir/build"
  cmake ../"$pkgname-$pkgver" -DCMAKE_INSTALL_PREFIX=/usr
  make
}

package ()
{
  cd -- "${srcdir}/${pkgname}-${pkgver}"
  install -D -m755 "${pkgname}d" "$pkgdir/etc/rc.d/${pkgname}d";
  install -Dm644 "${pkgname}d.conf" "${pkgdir}/etc/${pkgname}d.conf"
  install -Dm644 "man/${pkgname}.1.gz" "${pkgdir}/usr/share/man/man1/${pkgname}.1.gz"

  cd -- "$srcdir/build"
  make install DESTDIR="$pkgdir"
}


# vim: set ts=2 sw=2 et:
