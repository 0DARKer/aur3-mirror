# This is an example PKGBUILD file. Use this as a start to creating your own,
# and remove these comments. For more information, see 'man PKGBUILD'.
# NOTE: Please fill out the license field for your package! If it is unknown,
# then please put 'unknown'.

# Maintainer: Your Name <youremail@domain.com>
pkgname=systemc
pkgver=2.2.0
pkgrel=1
pkgdesc=""
arch=('i686' 'x86_64')
url="http://www.systemc.org/home/"
license=('custom')
groups=()
depends=()
makedepends=()
optdepends=()
provides=()
conflicts=()
replaces=()
backup=()
options=()
install=
changelog=
source=($pkgname-$pkgver.tgz systemc-2.2.0_64.patch)
noextract=()
md5sums=('ccd0a9b8987b2902de647cfd0794e668'
         '44effaed5da37d137daed11961386b99')

build() {
  cd "$srcdir/$pkgname-$pkgver"
  patch -p1 < ../systemc-2.2.0_64.patch
  mkdir objtmp
  cd objtmp
  ../configure
  make
  make install
}

package() {
  cd "$srcdir/$pkgname-$pkgver"
  mkdir -p "$pkgdir/usr/lib"
  install -m 644 objtmp/src/libsystemc.a "$pkgdir/usr/lib/"
  mkdir -p "$pkgdir/usr/include"
  install -m 644 src/systemc src/systemc.h "$pkgdir/usr/include/"
  cp -r include/sysc "$pkgdir/usr/include/"
  chmod -R a=rX,u+w "$pkgdir/usr/include/sysc"
  mkdir -p "$pkgdir/usr/share/doc/$pkgname-$pkgver"
  cp -r docs/* "$pkgdir/usr/share/doc/$pkgname-$pkgver/"
  chmod -R a=rX,u+w "$pkgdir/usr/share/doc/$pkgname-$pkgver/"
}

# vim:set ts=2 sw=2 et:
