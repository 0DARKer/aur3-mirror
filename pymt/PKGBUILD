# Maintainer: SpepS <dreamspepser at yahoo dot it>
# Contributor: Ryan Coyner <rcoyner@gmail.com>

pkgname=pymt
pkgver=0.5.1
pkgrel=1
pkgdesc="An open source library for developing multi-touch applications"
arch=(i686 x86_64)
url="http://pymt.eu/"
license=('GPL')
depends=('python2' 'python-opengl' 'python-pygame' 'python-imaging'
         'gstreamer0.10-python' 'cython' 'mtdev')
conflicts=('pymt-git')
source=("http://github.com/tito/$pkgname/tarball/$pkgver")
md5sums=('58f410fc4410e0ca46fce49697626ba0')

build() {

  cd "$srcdir/tito-$pkgname-90ded4b"

  # Python2 fix
  sed \
        -e "s_env python_&2_" \
        -e "s_bin/python_&2_" \
        -i `grep -rlE "(env python|bin/python)" .`

  # Build Fix
  sed -i "111 s_\$_ 'css',_" setup.py

}

package() {

  cd "$srcdir/tito-$pkgname-90ded4b"

  export PYTHON="python2"

  python2 setup.py install --prefix=/usr --root="$pkgdir/"
}

# vim:set ts=2 sw=2 et:
