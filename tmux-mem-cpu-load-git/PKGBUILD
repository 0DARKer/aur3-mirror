# Maintainer: Daniel YC Lin <dlin.tw at gmail>

pkgname=tmux-mem-cpu-load-git
pkgver=20130219
pkgrel=1
pkgdesc="CPU, RAM memory, and load monitor for use with tmux"
url="https://github.com/thewtex/tmux-mem-cpu-load"
arch=('i686' 'x86_64' 'sh4')
license=('APACHE')
depends=(gcc-libs)
makedepends=('cmake>=2.6')
source=()

_gitroot=https://github.com/thewtex/tmux-mem-cpu-load.git
_gitname=tmux-mem-cpu-load

build() {
  cd $srcdir
  msg "Connecting to GIT server...."

  if [ -d ${srcdir}/$_gitname ] ; then
    cd $_gitname && git pull origin
    msg "The local files are updated."
  else
	git clone $_gitroot
	cd ${srcdir}/$_gitname
  fi

  msg "GIT checkout done or server timeout"

  cmake .
  make
}

package() {
  cd ${srcdir}/$_gitname
  mkdir -p $pkgdir/usr/bin
  cp ${srcdir}/$_gitname/$_gitname $pkgdir/usr/bin
}
