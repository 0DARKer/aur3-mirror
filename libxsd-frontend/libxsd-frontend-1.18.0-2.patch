diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/makefile xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/makefile
--- libxsd-frontend-1.18.0/xsd-frontend/makefile	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/makefile	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 # file      : xsd-frontend/makefile
 # author    : Boris Kolpackov <boris@codesynthesis.com>
-# copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+# copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 # license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 include $(dir $(lastword $(MAKEFILE_LIST)))../build/bootstrap.make
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/parser.cxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/parser.cxx
--- libxsd-frontend-1.18.0/xsd-frontend/parser.cxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/parser.cxx	2012-06-03 12:02:29.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/parser.cxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #include <xsd-frontend/types.hxx>
@@ -107,43 +107,6 @@
       String name_;
     };
 
-    // Trim leading and trailing whitespaces.
-    //
-    template <typename C>
-    Cult::StringTemplate<C>
-    trim (Cult::StringTemplate<C> const& s)
-    {
-      typedef Cult::StringTemplate<C> String;
-
-      Size size (s.size ());
-
-      if (size == 0)
-        return s;
-
-      C const* f (s.c_str ());
-      C const* l (f + size);
-
-      C const* of (f);
-
-      while (f < l &&
-             (*f == C (0x20) || *f == C (0x0A) ||
-              *f == C (0x0D) || *f == C (0x09)))
-        ++f;
-
-      --l;
-
-      C const* ol (l);
-
-      while (l > f &&
-             (*l == C (0x20) || *l == C (0x0A) ||
-              *l == C (0x0D) || *l == C (0x09)))
-        --l;
-
-      if (f != of || l != ol)
-        return f <= l ? String (f, l - f + 1) : String ();
-      else
-        return s;
-    }
 
     // Name cache. We only support maximum two nodes with the same
     // name in the cache (e.g., element and type). For (rare) cases
@@ -1311,7 +1274,11 @@
     operator () (SemanticGraph::Path const& x,
                  SemanticGraph::Path const& y) const
     {
+#if !defined(BOOST_FILESYSTEM_VERSION) || BOOST_FILESYSTEM_VERSION == 2
         return x.native_file_string () < y.native_file_string ();
+#else
+        return x.string () < y.string ();
+#endif
     }
   };
 
@@ -1664,9 +1631,15 @@
       friend Boolean
       operator< (SchemaId const& x, SchemaId const& y)
       {
+#if !defined(BOOST_FILESYSTEM_VERSION) || BOOST_FILESYSTEM_VERSION == 2
         return x.path_.native_file_string () < y.path_.native_file_string ()
           || (x.path_.native_file_string () == y.path_.native_file_string ()
               && x.ns_ < y.ns_);
+#else
+        return x.path_.string () < y.path_.string ()
+          || (x.path_.string () == y.path_.string ()
+              && x.ns_ < y.ns_);
+#endif
       }
 
     private:
@@ -1683,28 +1656,12 @@
 
     // Path stack for diagnostic.
     //
-    struct PathPair
-    {
-      PathPair (SemanticGraph::Path const& r, SemanticGraph::Path const& a)
-          : rel (r), abs (a)
-      {
-      }
-
-      SemanticGraph::Path rel, abs;
-    };
-
-    Cult::Containers::Stack<PathPair> file_stack_;
+    Cult::Containers::Stack<SemanticGraph::Path> file_stack_;
 
     SemanticGraph::Path const&
     file ()
     {
-      return file_stack_.top ().rel;
-    }
-
-    SemanticGraph::Path const&
-    abs_file ()
-    {
-      return file_stack_.top ().abs;
+      return file_stack_.top ();
     }
 
     // Members with default/fixed values (needed for QName handling).
@@ -1904,7 +1861,7 @@
       throw InvalidSchema ();
 
     XML::Element root (d->getDocumentElement ());
-    String ns (trim (root["targetNamespace"]));
+    String ns (root["targetNamespace"]);
 
     if (trace_)
       wcout << "target namespace: " << ns << endl;
@@ -1930,7 +1887,7 @@
 
       s_ = cur_ = rs.get ();
       {
-        file_stack_.push (PathPair (tu, abs_path));
+        file_stack_.push (tu);
 
         {
           push_scope (
@@ -2146,7 +2103,7 @@
         throw InvalidSchema ();
 
       XML::Element root (d->getDocumentElement ());
-      String ns (trim (root["targetNamespace"]));
+      String ns (root["targetNamespace"]);
 
       if (trace_)
         wcout << "target namespace: " << ns << endl;
@@ -2172,7 +2129,7 @@
       cur_ = &s;
 
       {
-        file_stack_.push (PathPair (tu, abs_path));
+        file_stack_.push (tu);
 
         {
           push_scope (
@@ -2364,10 +2321,10 @@
     Boolean old_qa (qualify_attribute_);
     Boolean old_qe (qualify_element_);
 
-    if (String af = trim (s["attributeFormDefault"]))
+    if (String af = s["attributeFormDefault"])
       qualify_attribute_ = af == L"qualified";
 
-    if (String ef = trim (s["elementFormDefault"]))
+    if (String ef = s["elementFormDefault"])
       qualify_element_ = ef == L"qualified";
 
     push (s);
@@ -2414,24 +2371,22 @@
   import (XML::Element const& i)
   {
     NarrowString loc (
-      trim (
-        XML::transcode_to_narrow (
-          i.dom_element ()->getAttribute (
-            XML::XMLChString ("schemaLocation").c_str ()))));
+      XML::transcode_to_narrow (
+        i.dom_element ()->getAttribute (
+          XML::XMLChString ("schemaLocation").c_str ())));
 
     if (loc_translator_)
       loc = loc_translator_->translate (loc);
 
-    String ins (trim (i["namespace"]));
-
     // Ignore empty <import>.
     //
-    if (!loc && !ins)
+    if (!loc && !i["namespace"])
       return;
 
     Path path, rel_path, abs_path;
     try
     {
+#if !defined(BOOST_FILESYSTEM_VERSION) || BOOST_FILESYSTEM_VERSION == 2
       try
       {
         path = Path (loc);
@@ -2442,6 +2397,10 @@
         //
         path = Path (loc, boost::filesystem::native);
       }
+#else
+      // The new ABI does not have a fallback native representation
+      path = Path (loc.c_str());
+#endif
 
       if (path.is_complete ())
       {
@@ -2449,11 +2408,8 @@
       }
       else
       {
-        // Use abs_file to construct the absolute path to avoid
-        // hitting system path limits with '..' directories.
-        //
         rel_path = file ().branch_path () / path;
-        abs_path = system_complete (abs_file ().branch_path () / path);
+        abs_path = system_complete (rel_path);
       }
 
       abs_path.normalize ();
@@ -2468,7 +2424,7 @@
       return;
     }
 
-    SchemaId schema_id (abs_path, ins);
+    SchemaId schema_id (abs_path, i["namespace"]);
 
     if (schema_map_.find (schema_id) != schema_map_.end ())
     {
@@ -2482,7 +2438,7 @@
     if (XML::AutoPtr<Xerces::DOMDocument> d  = dom (abs_path, false))
     {
       XML::Element r (d->getDocumentElement ());
-      String ns (trim (r["targetNamespace"]));
+      String ns (r["targetNamespace"]);
 
       if (trace_)
         wcout << "target namespace: " << ns << endl;
@@ -2500,7 +2456,7 @@
       cur_chameleon_ = false;
 
       {
-        file_stack_.push (PathPair (rel_path, abs_path));
+        file_stack_.push (rel_path);
 
         {
           push_scope (
@@ -2528,10 +2484,9 @@
   include (XML::Element const& i)
   {
     NarrowString loc (
-      trim (
-        XML::transcode_to_narrow (
-          i.dom_element ()->getAttribute (
-            XML::XMLChString ("schemaLocation").c_str ()))));
+      XML::transcode_to_narrow (
+        i.dom_element ()->getAttribute (
+          XML::XMLChString ("schemaLocation").c_str ())));
 
     if (loc_translator_)
       loc = loc_translator_->translate (loc);
@@ -2539,6 +2494,7 @@
     Path path, rel_path, abs_path;
     try
     {
+#if !defined(BOOST_FILESYSTEM_VERSION) || BOOST_FILESYSTEM_VERSION == 2
       try
       {
         path = Path (loc);
@@ -2549,6 +2505,10 @@
         //
         path = Path (loc, boost::filesystem::native);
       }
+#else
+      // The new API does not have a fallback native representation.
+      path = Path (loc.c_str());
+#endif
 
       if (path.is_complete ())
       {
@@ -2556,11 +2516,8 @@
       }
       else
       {
-        // Use abs_file to construct the absolute path to avoid
-        // hitting system path limits with '..' directories.
-        //
         rel_path = file ().branch_path () / path;
-        abs_path = system_complete (abs_file ().branch_path () / path);
+        abs_path = system_complete (rel_path);
       }
 
       abs_path.normalize ();
@@ -2602,7 +2559,7 @@
     if (XML::AutoPtr<Xerces::DOMDocument> d  = dom (abs_path, false))
     {
       XML::Element r (d->getDocumentElement ());
-      String ns (trim (r["targetNamespace"])), cur_ns;
+      String ns (r["targetNamespace"]), cur_ns;
 
       Schema& s (s_->new_node<Schema> (rel_path, r.line (), r.column ()));
       s_->new_edge<Implies> (s, *xml_schema_, xml_schema_path_);
@@ -2635,7 +2592,7 @@
       cur_chameleon_ = chameleon;
 
       {
-        file_stack_.push (PathPair (rel_path, abs_path));
+        file_stack_.push (rel_path);
 
         {
           push_scope (
@@ -2662,7 +2619,7 @@
   Void Parser::Impl::
   element_group (XML::Element const& g, Boolean in_compositor)
   {
-    if (String name = trim (g["name"]))
+    if (String name = g["name"])
     {
       ElementGroup& group (
         s_->new_node<ElementGroup> (file (), g.line (), g.column ()));
@@ -2702,7 +2659,7 @@
       pop ();
       pop_scope ();
     }
-    else if (String ref = trim (g["ref"]))
+    else if (String ref = g["ref"])
     {
       if (trace_)
         wcout << "element-group-ref " << ref << endl;
@@ -2726,8 +2683,7 @@
 
           ElementGroupRef ref (
             uq_name, ns_name,
-            parse_min (trim (g["minOccurs"])),
-            parse_max (trim (g["maxOccurs"])),
+            parse_min (g["minOccurs"]), parse_max (g["maxOccurs"]),
             c, scope ());
 
           if (!c.context ().count ("element-group-refs"))
@@ -2745,8 +2701,7 @@
 
           ElementGroupRef ref (
             uq_name, ns_name,
-            parse_min (trim (g["minOccurs"])),
-            parse_max (trim (g["maxOccurs"])),
+            parse_min (g["minOccurs"]), parse_max (g["maxOccurs"]),
             s);
 
           s.context ().set ("element-group-ref", ref);
@@ -2827,7 +2782,7 @@
 
     List& node (s_->new_node<List> (file (), t.line (), t.column ()));
 
-    if (String item_type = trim (l["itemType"]))
+    if (String item_type = l["itemType"])
     {
       if (trace_)
         wcout << "item type: " << fq_name (l, item_type) << endl;
@@ -2877,7 +2832,7 @@
       pop ();
     }
 
-    if (String name = trim (t["name"]))
+    if (String name = t["name"])
       s_->new_edge<Names> (scope (), node, name);
 
     return &node;
@@ -2930,7 +2885,7 @@
 
     Boolean has_members (false);
 
-    if (String members = trim (u["memberTypes"]))
+    if (String members = u["memberTypes"])
     {
       // Don't bother trying to resolve member types at this point
       // since the order is important so we would have to insert
@@ -3030,7 +2985,7 @@
       valid_ = false;
     }
 
-    if (String name = trim (t["name"]))
+    if (String name = t["name"])
       s_->new_edge<Names> (scope (), node, name);
 
     return &node;
@@ -3039,7 +2994,7 @@
   Type* Parser::Impl::
   restriction (XML::Element const& r, XML::Element const& t)
   {
-    String base (trim (r["base"]));
+    String base (r["base"]);
     Type* base_type (0);
 
     if (base)
@@ -3096,7 +3051,6 @@
 
     Facets facets;
     Restricts* restricts (0);
-    String pattern;
 
     while (more ())
     {
@@ -3123,7 +3077,7 @@
           else
             restricts = set_type<Restricts> (base, r, node);
 
-          if (String name = trim (t["name"]))
+          if (String name = t["name"])
             s_->new_edge<Names> (scope (), static_cast<Nameable&> (node), name);
 
           rv = &node;
@@ -3140,16 +3094,10 @@
                name == L"length" ||
                name == L"minLength" ||
                name == L"maxLength" ||
-               name == L"whiteSpace")
-      {
-        facets[name] = trim (e["value"]);
-      }
-      else if (name == L"pattern")
+               name == L"whiteSpace" ||
+               name == L"pattern")
       {
-        if (pattern)
-          pattern += L'|';
-
-        pattern += e["value"];
+        facets[name] = e["value"];
       }
       else
       {
@@ -3161,9 +3109,6 @@
       }
     }
 
-    if (pattern)
-      facets[L"pattern"] = pattern;
-
     if (enum_)
       pop_scope ();
     else
@@ -3175,7 +3120,7 @@
       else
         restricts = set_type<Restricts> (base, r, node);
 
-      if (String name = trim (t["name"]))
+      if (String name = t["name"])
         s_->new_edge<Names> (scope (), node, name);
 
       rv = &node;
@@ -3224,10 +3169,9 @@
 
     Complex& node (s_->new_node<Complex> (file (), t.line (), t.column ()));
 
-    if (String m = trim (t["mixed"]))
-      node.mixed_p (m == L"true" || m == L"1");
+    node.mixed_p (t["mixed"] == L"true" || t["mixed"] == L"1");
 
-    if (String name = trim (t["name"]))
+    if (String name = t["name"])
       s_->new_edge<Names> (scope (), node, name);
 
     r = &node;
@@ -3268,10 +3212,7 @@
 
         if (c)
           s_->new_edge<ContainsCompositor> (
-            node,
-            *c,
-            parse_min (trim (e["minOccurs"])),
-            parse_max (trim (e["maxOccurs"])));
+            node, *c, parse_min (e["minOccurs"]), parse_max (e["maxOccurs"]));
 
         while (more ())
         {
@@ -3343,10 +3284,8 @@
     if (in_compositor)
     {
       s_->new_edge<ContainsParticle> (
-        compositor (),
-        node,
-        parse_min (trim (c["minOccurs"])),
-        parse_max (trim (c["maxOccurs"])));
+        compositor (), node,
+        parse_min (c["minOccurs"]), parse_max (c["maxOccurs"]));
     }
 
     push_compositor (node);
@@ -3389,10 +3328,8 @@
     if (in_compositor)
     {
       s_->new_edge<ContainsParticle> (
-        compositor (),
-        node,
-        parse_min (trim (s["minOccurs"])),
-        parse_max (trim (s["maxOccurs"])));
+        compositor (), node,
+        parse_min (s["minOccurs"]), parse_max (s["maxOccurs"]));
     }
 
     push_compositor (node);
@@ -3453,8 +3390,10 @@
   Void Parser::Impl::
   complex_content (XML::Element const& c, Complex& type)
   {
-    if (String m = trim (c["mixed"]))
-      type.mixed_p (m == L"true" || m == L"1");
+    if (c.attribute_p ("mixed"))
+    {
+      type.mixed_p (c["mixed"] == L"true" || c["mixed"] == L"1");
+    }
 
     push (c);
 
@@ -3482,7 +3421,7 @@
     if (trace_)
       wcout << "extension base: " << fq_name (e, e["base"]) << endl;
 
-    set_type<Extends> (trim (e["base"]), e, dynamic_cast<Complex&> (scope ()));
+    set_type<Extends> (e["base"], e, dynamic_cast<Complex&> (scope ()));
 
     push (e);
 
@@ -3511,7 +3450,7 @@
   Void Parser::Impl::
   simple_content_restriction (XML::Element const& r)
   {
-    String base (trim (r["base"]));
+    String base (r["base"]);
     Type* base_type (0);
 
     if (trace_ && base)
@@ -3558,7 +3497,6 @@
     }
 
     Facets facets;
-    String pattern;
 
     while (more ())
     {
@@ -3594,16 +3532,10 @@
                name == L"length" ||
                name == L"minLength" ||
                name == L"maxLength" ||
-               name == L"whiteSpace")
-      {
-        facets[name] = trim (e["value"]);
-      }
-      else if (name == L"pattern")
+               name == L"whiteSpace" ||
+               name == L"pattern")
       {
-        if (pattern)
-          pattern += L'|';
-
-        pattern += e["value"];
+        facets[name] = e["value"];
       }
       else if (name == L"attribute")
       {
@@ -3630,9 +3562,6 @@
       }
     }
 
-    if (pattern)
-      facets[L"pattern"] = pattern;
-
     Complex& type (dynamic_cast<Complex&> (scope ()));
     Restricts* restricts = set_type<Restricts> (base, r, type);
 
@@ -3653,7 +3582,7 @@
     if (trace_)
       wcout << "extension base: " << fq_name (e, e["base"]) << endl;
 
-    set_type<Extends> (trim (e["base"]), e, dynamic_cast<Complex&> (scope ()));
+    set_type<Extends> (e["base"], e, dynamic_cast<Complex&> (scope ()));
 
     push (e);
 
@@ -3681,10 +3610,7 @@
 
       if (c)
         s_->new_edge<ContainsCompositor> (
-          type,
-          *c,
-          parse_min (trim (e["minOccurs"])),
-          parse_max (trim (e["maxOccurs"])));
+          type, *c, parse_min (e["minOccurs"]), parse_max (e["maxOccurs"]));
 
       while (more ())
       {
@@ -3713,10 +3639,7 @@
     if (trace_)
       wcout << "restriction base: " << fq_name (e, e["base"]) << endl;
 
-    set_type<Restricts> (
-      trim (e["base"]),
-      e,
-      dynamic_cast<Complex&> (scope ()));
+    set_type<Restricts> (e["base"], e, dynamic_cast<Complex&> (scope ()));
 
     // @@
     // For now we simply skip the contents unless the base is anyType
@@ -3727,7 +3650,7 @@
     //
     if (!proper_restriction_)
     {
-      String base (trim (e["base"]));
+      String base (e["base"]);
       String uq_name (unqualified_name (base));
       String ns_name (namespace_name (e, base));
 
@@ -3761,10 +3684,7 @@
 
       if (c)
         s_->new_edge<ContainsCompositor> (
-          type,
-          *c,
-          parse_min (trim (e["minOccurs"])),
-          parse_max (trim (e["maxOccurs"])));
+          type, *c, parse_min (e["minOccurs"]), parse_max (e["maxOccurs"]));
 
       while (more ())
       {
@@ -3792,13 +3712,13 @@
   {
     Boolean qualified (global ? true : qualify_element_);
 
-    if (String form = trim (e["form"]))
+    if (String form = e["form"])
       qualified = form == L"qualified";
 
     if (trace_)
       wcout << "element qualified: " << qualified << endl;
 
-    if (String name = trim (e["name"]))
+    if (String name = e["name"])
     {
       if (trace_)
         wcout << "element name '" << name << "'" << endl;
@@ -3815,10 +3735,8 @@
       if (!global)
       {
         s_->new_edge<ContainsParticle> (
-          compositor (),
-          node,
-          parse_min (trim (e["minOccurs"])),
-          parse_max (trim (e["maxOccurs"])));
+          compositor (), node,
+          parse_min (e["minOccurs"]), parse_max (e["maxOccurs"]));
       }
 
       // Default and fixed values are mutually exclusive.
@@ -3836,7 +3754,7 @@
 
       if (global)
       {
-        if (String sg = trim (e["substitutionGroup"]))
+        if (String sg = e["substitutionGroup"])
         {
           if (trace_)
             wcout << "substitutes " << sg << endl;
@@ -3860,7 +3778,7 @@
         }
       }
 
-      if (String type = trim (e["type"]))
+      if (String type = e["type"])
       {
         if (trace_)
           wcout << "element type " << fq_name (e, type) << endl;
@@ -3933,7 +3851,7 @@
         pop ();
       }
     }
-    else if (String ref = trim (e["ref"]))
+    else if (String ref = e["ref"])
     {
       Element& node (
         s_->new_node<Element> (
@@ -3942,10 +3860,8 @@
       // Ref can only be in compositor.
       //
       s_->new_edge<ContainsParticle> (
-        compositor (),
-        node,
-        parse_min (trim (e["minOccurs"])),
-        parse_max (trim (e["maxOccurs"])));
+        compositor (), node,
+        parse_min (e["minOccurs"]), parse_max (e["maxOccurs"]));
 
 
       // Default and fixed values are mutually exclusive.
@@ -4174,7 +4090,7 @@
   {
     Boolean optional (true);
 
-    String use (trim (a["use"]));
+    String use (a["use"]);
 
     if (use == L"prohibited")
       return;
@@ -4183,10 +4099,10 @@
 
     Boolean qualified (global ? true : qualify_attribute_);
 
-    if (String form = trim (a["form"]))
+    if (String form = a["form"])
       qualified = form == L"qualified";
 
-    if (String name = trim (a["name"]))
+    if (String name = a["name"])
     {
       if (trace_)
         wcout << "attribute '" << name << "'" << endl;
@@ -4214,7 +4130,7 @@
         default_values_.push_back (&node);
       }
 
-      if (String type = trim (a["type"]))
+      if (String type = a["type"])
       {
         if (trace_)
           wcout << "attribute type: '" << fq_name (a, type) << "'" << endl;
@@ -4286,7 +4202,7 @@
         pop ();
       }
     }
-    else if (String ref = trim (a["ref"]))
+    else if (String ref = a["ref"])
     {
       Attribute& node (
         s_->new_node<Attribute> (
@@ -4429,7 +4345,7 @@
   Void Parser::Impl::
   attribute_group (XML::Element const& g)
   {
-    if (String name = trim (g["name"]))
+    if (String name = g["name"])
     {
       // Global definition.
       //
@@ -4468,7 +4384,7 @@
       pop ();
       pop_scope ();
     }
-    else if (String ref = trim (g["ref"]))
+    else if (String ref = g["ref"])
     {
       if (trace_)
         wcout << "attribute-group-ref " << ref << endl;
@@ -4531,19 +4447,14 @@
     if (trace_)
       wcout << "any" << endl;
 
-    String namespaces (trim (a["namespace"]));
-
-    if (!namespaces)
-      namespaces = L"##any";
+    String namespaces (a["namespace"] ? a["namespace"] : L"##any");
 
     Any& any (
       s_->new_node<Any> (file (), a.line (), a.column (), namespaces));
 
     s_->new_edge<ContainsParticle> (
-      compositor (),
-      any,
-      parse_min (trim (a["minOccurs"])),
-      parse_max (trim (a["maxOccurs"])));
+      compositor (), any,
+      parse_min (a["minOccurs"]), parse_max (a["maxOccurs"]));
 
     // Parse annotation.
     //
@@ -4580,10 +4491,7 @@
     if (trace_)
       wcout << "anyAttribute" << endl;
 
-    String namespaces (trim (a["namespace"]));
-
-    if (!namespaces)
-      namespaces = L"##any";
+    String namespaces (a["namespace"] ? a["namespace"] : L"##any");
 
     AnyAttribute& any (
       s_->new_node<AnyAttribute> (
@@ -4665,7 +4573,7 @@
       {
         // See if we've got 'xse:refType' attribute.
         //
-        if (String ref_type = trim (e.attribute (xse, "refType")))
+        if (String ref_type = e.attribute (xse, "refType"))
         {
           if (trace_)
             wcout << "found refType attribute '" << ref_type << "'" << endl;
@@ -4786,9 +4694,14 @@
         return true;
 
 
+#if !defined(BOOST_FILESYSTEM_VERSION) || BOOST_FILESYSTEM_VERSION == 2
       XSDFrontend::SemanticGraph::Path abs_path (
         XML::transcode_to_narrow (e.getLocation ()->getURI ()),
         boost::filesystem::native);
+#else
+      XSDFrontend::SemanticGraph::Path abs_path (
+        XML::transcode_to_narrow (e.getLocation ()->getURI ()).c_str());
+#endif
 
       XSDFrontend::SemanticGraph::Path rel_path (ctx_.file (abs_path));
 
@@ -4841,8 +4754,12 @@
           base_ (base),
           ctx_ (ctx)
     {
+#if !defined(BOOST_FILESYSTEM_VERSION) || BOOST_FILESYSTEM_VERSION == 2
       setSystemId (XML::XMLChString (
                      String (abs_.native_file_string ())).c_str ());
+#else
+      setSystemId (XML::XMLChString (String (abs_.string ())).c_str ());
+#endif
     }
 
     virtual Xerces::BinInputStream*
@@ -4915,8 +4832,12 @@
 
       // base_uri should be a valid path by now.
       //
+#if !defined(BOOST_FILESYSTEM_VERSION) || BOOST_FILESYSTEM_VERSION == 2
       Path base (XML::transcode_to_narrow (base_uri),
                  boost::filesystem::native);
+#else
+      Path base (XML::transcode_to_narrow (base_uri).c_str());
+#endif
 
       if (prv_id == 0)
       {
@@ -4942,6 +4863,7 @@
       {
         Path path;
 
+#if !defined(BOOST_FILESYSTEM_VERSION) || BOOST_FILESYSTEM_VERSION == 2
         try
         {
           path = Path (path_str);
@@ -4952,6 +4874,10 @@
           //
           path = Path (path_str, boost::filesystem::native);
         }
+#else
+      // The new ABI does not have a fallback native representation
+      path = Path (path_str.c_str());
+#endif
 
         Path base_dir (base.branch_path ());
 
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/parser.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/parser.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/parser.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/parser.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/parser.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_PARSER_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/schema-dom-parser.cxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/schema-dom-parser.cxx
--- libxsd-frontend-1.18.0/xsd-frontend/schema-dom-parser.cxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/schema-dom-parser.cxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/schema-dom-parser.cxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #include <xsd-frontend/schema-dom-parser.hxx>
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/schema-dom-parser.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/schema-dom-parser.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/schema-dom-parser.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/schema-dom-parser.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/schema-dom-parser.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_SCHEMA_DOM_PARSER_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/annotation.cxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/annotation.cxx
--- libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/annotation.cxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/annotation.cxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/semantic-graph/annotation.cxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2006-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2006-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #include <xsd-frontend/semantic-graph/annotation.hxx>
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/annotation.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/annotation.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/annotation.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/annotation.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/semantic-graph/annotation.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2006-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2006-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_SEMANTIC_GRAPH_ANNOTATION_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/any-attribute.cxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/any-attribute.cxx
--- libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/any-attribute.cxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/any-attribute.cxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/semantic-graph/any-attribute.cxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #include <xsd-frontend/semantic-graph/any-attribute.hxx>
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/any-attribute.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/any-attribute.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/any-attribute.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/any-attribute.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/semantic-graph/any-attribute.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_SEMANTIC_GRAPH_ANY_ATTRIBUTE_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/any.cxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/any.cxx
--- libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/any.cxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/any.cxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/semantic-graph/any.cxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #include <xsd-frontend/semantic-graph/any.hxx>
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/any.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/any.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/any.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/any.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/semantic-graph/any.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_SEMANTIC_GRAPH_ANY_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/attribute.cxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/attribute.cxx
--- libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/attribute.cxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/attribute.cxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/semantic-graph/attribute.cxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #include <xsd-frontend/semantic-graph/attribute.hxx>
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/attribute-group.cxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/attribute-group.cxx
--- libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/attribute-group.cxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/attribute-group.cxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/semantic-graph/attribute-group.cxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2006-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2006-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #include <xsd-frontend/semantic-graph/attribute-group.hxx>
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/attribute-group.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/attribute-group.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/attribute-group.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/attribute-group.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/semantic-graph/attribute-group.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2006-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2006-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_SEMANTIC_GRAPH_ATTRIBUTE_GROUP_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/attribute.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/attribute.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/attribute.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/attribute.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/semantic-graph/attribute.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_SEMANTIC_GRAPH_ATTRIBUTE_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/complex.cxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/complex.cxx
--- libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/complex.cxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/complex.cxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/semantic-graph/complex.cxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #include <xsd-frontend/semantic-graph/complex.hxx>
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/complex.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/complex.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/complex.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/complex.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/semantic-graph/complex.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_SEMANTIC_GRAPH_COMPLEX_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/compositors.cxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/compositors.cxx
--- libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/compositors.cxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/compositors.cxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/semantic-graph/compositor.cxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2006-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2006-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #include <xsd-frontend/semantic-graph/compositors.hxx>
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/compositors.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/compositors.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/compositors.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/compositors.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/semantic-graph/compositors.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2006-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2006-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_SEMANTIC_GRAPH_COMPOSITORS_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/element.cxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/element.cxx
--- libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/element.cxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/element.cxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/semantic-graph/element.cxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #include <xsd-frontend/semantic-graph/element.hxx>
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/element-group.cxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/element-group.cxx
--- libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/element-group.cxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/element-group.cxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/semantic-graph/element-group.cxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2006-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2006-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #include <xsd-frontend/semantic-graph/element-group.hxx>
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/element-group.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/element-group.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/element-group.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/element-group.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/semantic-graph/element-group.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2006-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2006-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_SEMANTIC_GRAPH_ELEMENT_GROUP_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/element.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/element.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/element.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/element.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/semantic-graph/element.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_SEMANTIC_GRAPH_ELEMENT_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/elements.cxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/elements.cxx
--- libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/elements.cxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/elements.cxx	2012-06-03 12:02:29.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/semantic-graph/elements.cxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #include <algorithm>
@@ -342,5 +342,9 @@
 std::wostream&
 operator<< (std::wostream& os, XSDFrontend::SemanticGraph::Path const& path)
 {
+#if !defined(BOOST_FILESYSTEM_VERSION) || BOOST_FILESYSTEM_VERSION == 2
   return os << path.native_file_string ().c_str ();
+#else
+  return os << path.string ().c_str ();
+#endif
 }
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/elements.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/elements.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/elements.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/elements.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/semantic-graph/elements.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_SEMANTIC_GRAPH_ELEMENTS_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/enumeration.cxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/enumeration.cxx
--- libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/enumeration.cxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/enumeration.cxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/semantic-graph/enumeration.cxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #include <xsd-frontend/semantic-graph/enumeration.hxx>
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/enumeration.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/enumeration.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/enumeration.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/enumeration.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/semantic-graph/enumeration.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_SEMANTIC_GRAPH_ENUMERATION_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/fundamental.cxx.m4 xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/fundamental.cxx.m4
--- libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/fundamental.cxx.m4	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/fundamental.cxx.m4	2010-04-27 22:31:24.000000000 +0300
@@ -2,7 +2,7 @@
 
 # file      : xsd-frontend/semantic-graph/fundamental.cxx.m4
 # author    : Boris Kolpackov <boris@codesynthesis.com>
-# copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+# copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 # license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 include(`fundamental.m4')
@@ -43,7 +43,7 @@
 dnl
 // file      : xsd-frontend/semantic-graph/fundamental.cxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 // Note, that this file is automatically generated!
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/fundamental.hxx.m4 xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/fundamental.hxx.m4
--- libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/fundamental.hxx.m4	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/fundamental.hxx.m4	2010-04-27 22:31:24.000000000 +0300
@@ -2,7 +2,7 @@
 
 # file      : xsd-frontend/semantic-graph/fundamental.hxx.m4
 # author    : Boris Kolpackov <boris@codesynthesis.com>
-# copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+# copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 # license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 include(`fundamental.m4')
@@ -28,7 +28,7 @@
 dnl
 // file      : xsd-frontend/semantic-graph/fundamental.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 // Note, that this file is automatically generated!
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/fundamental.m4 xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/fundamental.m4
--- libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/fundamental.m4	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/fundamental.m4	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 # file      : xsd-frontend/semantic-graph/fundamental.m4
 # author    : Boris Kolpackov <boris@codesynthesis.com>
-# copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+# copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 # license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 define(`upcase', `translit(`$*', `a-z', `A-Z')')
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/list.cxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/list.cxx
--- libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/list.cxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/list.cxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/semantic-graph/list.cxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #include <xsd-frontend/semantic-graph/list.hxx>
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/list.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/list.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/list.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/list.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/semantic-graph/list.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_SEMANTIC_GRAPH_LIST_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/namespace.cxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/namespace.cxx
--- libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/namespace.cxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/namespace.cxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/semantic-graph/namespace.cxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #include <xsd-frontend/semantic-graph/namespace.hxx>
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/namespace.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/namespace.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/namespace.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/namespace.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/semantic-graph/namespace.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_SEMANTIC_GRAPH_NAMESPACE_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/particle.cxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/particle.cxx
--- libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/particle.cxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/particle.cxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/semantic-graph/particle.cxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2006-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2006-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #include <xsd-frontend/semantic-graph/particle.hxx>
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/particle.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/particle.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/particle.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/particle.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/semantic-graph/particle.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2006-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2006-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_SEMANTIC_GRAPH_PARTICLE_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/schema.cxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/schema.cxx
--- libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/schema.cxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/schema.cxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/semantic-graph/schema.cxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #include <xsd-frontend/semantic-graph/schema.hxx>
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/schema.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/schema.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/schema.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/schema.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/semantic-graph/schema.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_SEMANTIC_GRAPH_SCHEMA_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/union.cxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/union.cxx
--- libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/union.cxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/union.cxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/semantic-graph/union.cxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #include <xsd-frontend/semantic-graph/union.hxx>
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/union.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/union.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/semantic-graph/union.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph/union.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/semantic-graph/union.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_SEMANTIC_GRAPH_UNION_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/semantic-graph.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/semantic-graph.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/semantic-graph.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/semantic-graph.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_SEMANTIC_GRAPH_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/transformations/anonymous.cxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/transformations/anonymous.cxx
--- libxsd-frontend-1.18.0/xsd-frontend/transformations/anonymous.cxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/transformations/anonymous.cxx	2012-06-03 12:02:29.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/transformations/anonymous.cxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2006-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2006-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #include <xsd-frontend/transformations/anonymous.hxx>
@@ -275,7 +275,11 @@
             }
             catch (SemanticGraph::InvalidPath const&)
             {
+#if !defined(BOOST_FILESYSTEM_VERSION) || BOOST_FILESYSTEM_VERSION == 2
               file_str = file.native_file_string ();
+#else
+              file_str = file.string ();
+#endif
             }
 
             String name (
@@ -358,7 +362,11 @@
                 }
                 catch (SemanticGraph::InvalidPath const&)
                 {
+#if !defined(BOOST_FILESYSTEM_VERSION) || BOOST_FILESYSTEM_VERSION == 2
                   file_str = file.native_file_string ();
+#else
+                  file_str = file.string ();
+#endif
                 }
               }
 
@@ -441,7 +449,11 @@
             }
             catch (SemanticGraph::InvalidPath const&)
             {
+#if !defined(BOOST_FILESYSTEM_VERSION) || BOOST_FILESYSTEM_VERSION == 2
               file_str = file.native_file_string ();
+#else
+              file_str = file.string ();
+#endif
             }
 
             String name (
@@ -639,7 +651,11 @@
         }
         catch (SemanticGraph::InvalidPath const&)
         {
+#if !defined(BOOST_FILESYSTEM_VERSION) || BOOST_FILESYSTEM_VERSION == 2
           file_str = file.native_file_string ();
+#else
+          file_str = file.string ();
+#endif
         }
 
         String name (
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/transformations/anonymous.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/transformations/anonymous.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/transformations/anonymous.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/transformations/anonymous.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/transformations/anonymous.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2006-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2006-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_TRANSFORMATIONS_ANONYMOUS_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/transformations/enum-synthesis.cxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/transformations/enum-synthesis.cxx
--- libxsd-frontend-1.18.0/xsd-frontend/transformations/enum-synthesis.cxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/transformations/enum-synthesis.cxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/transformations/enum-synthesis.cxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2006-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2006-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #include <xsd-frontend/transformations/enum-synthesis.hxx>
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/transformations/enum-synthesis.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/transformations/enum-synthesis.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/transformations/enum-synthesis.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/transformations/enum-synthesis.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/transformations/enum-synthesis.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2006-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2006-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_TRANSFORMATIONS_ENUM_SYNTHESIS_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/transformations/restriction.cxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/transformations/restriction.cxx
--- libxsd-frontend-1.18.0/xsd-frontend/transformations/restriction.cxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/transformations/restriction.cxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/transformations/restriction.cxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2006-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2006-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #include <xsd-frontend/transformations/restriction.hxx>
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/transformations/restriction.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/transformations/restriction.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/transformations/restriction.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/transformations/restriction.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/transformations/restriction.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2006-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2006-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_TRANSFORMATIONS_RESTRICTION_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/transformations/schema-per-type.cxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/transformations/schema-per-type.cxx
--- libxsd-frontend-1.18.0/xsd-frontend/transformations/schema-per-type.cxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/transformations/schema-per-type.cxx	2012-06-03 12:02:29.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/transformations/schema-per-type.cxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2006-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2006-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #include <xsd-frontend/transformations/schema-per-type.hxx>
@@ -167,7 +167,11 @@
 
             try
             {
+#if !defined(BOOST_FILESYSTEM_VERSION) || BOOST_FILESYSTEM_VERSION == 2
               path = Path (file_name);
+#else
+              path = Path (file_name.c_str());
+#endif
             }
             catch (InvalidPath const&)
             {
@@ -349,6 +353,7 @@
         //
         NarrowString abs_path;
 
+#if !defined(BOOST_FILESYSTEM_VERSION) || BOOST_FILESYSTEM_VERSION == 2
         // Try to use the portable representation of the path. If that
         // fails, fall back to the native representation.
         //
@@ -360,9 +365,17 @@
         {
           abs_path = path.native_file_string ();
         }
+#else
+        // The new ABI does not have a fallback native representation
+        abs_path = path.string ();
+#endif
 
         NarrowString tf (trans_.translate_schema (abs_path));
+#if !defined(BOOST_FILESYSTEM_VERSION) || BOOST_FILESYSTEM_VERSION == 2
         NarrowString file (tf ? tf : path.leaf ());
+#else
+        NarrowString file (tf ? tf : path.filename ().string());
+#endif
 
         Size p (file.rfind ('.'));
         NarrowString ext (
@@ -389,7 +402,11 @@
 
         try
         {
+#if !defined(BOOST_FILESYSTEM_VERSION) || BOOST_FILESYSTEM_VERSION == 2
           (*i)->context ().set ("renamed", SemanticGraph::Path (new_name));
+#else
+          (*i)->context ().set ("renamed", SemanticGraph::Path (new_name.c_str()));
+#endif
         }
         catch (SemanticGraph::InvalidPath const&)
         {
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/transformations/schema-per-type.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/transformations/schema-per-type.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/transformations/schema-per-type.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/transformations/schema-per-type.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/transformations/schema-per-type.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2006-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2006-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_TRANSFORMATIONS_SCHEMA_PER_TYPE_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/transformations/simplifier.cxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/transformations/simplifier.cxx
--- libxsd-frontend-1.18.0/xsd-frontend/transformations/simplifier.cxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/transformations/simplifier.cxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/transformations/simplifier.cxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2006-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2006-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #include <xsd-frontend/transformations/simplifier.hxx>
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/transformations/simplifier.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/transformations/simplifier.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/transformations/simplifier.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/transformations/simplifier.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/transformations/simplifier.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2006-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2006-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_TRANSFORMATIONS_SIMPLIFIER_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/traversal/any-attribute.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/any-attribute.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/traversal/any-attribute.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/any-attribute.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/traversal/any-attribute.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_TRAVERSAL_ANY_ATTRIBUTE_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/traversal/any.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/any.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/traversal/any.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/any.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/traversal/any.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_TRAVERSAL_ANY_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/traversal/attribute.cxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/attribute.cxx
--- libxsd-frontend-1.18.0/xsd-frontend/traversal/attribute.cxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/attribute.cxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/traversal/attribute.cxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #include <xsd-frontend/traversal/attribute.hxx>
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/traversal/attribute-group.cxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/attribute-group.cxx
--- libxsd-frontend-1.18.0/xsd-frontend/traversal/attribute-group.cxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/attribute-group.cxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/traversal/attribute-group.cxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2006-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2006-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #include <xsd-frontend/traversal/attribute-group.hxx>
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/traversal/attribute-group.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/attribute-group.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/traversal/attribute-group.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/attribute-group.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/traversal/attribute-group.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2006-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2006-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_TRAVERSAL_ATTRIBUTE_GROUP_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/traversal/attribute.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/attribute.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/traversal/attribute.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/attribute.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/traversal/attribute.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_TRAVERSAL_ATTRIBUTE_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/traversal/complex.cxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/complex.cxx
--- libxsd-frontend-1.18.0/xsd-frontend/traversal/complex.cxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/complex.cxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/traversal/complex.cxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #include <xsd-frontend/traversal/complex.hxx>
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/traversal/complex.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/complex.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/traversal/complex.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/complex.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/traversal/complex.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_TRAVERSAL_COMPLEX_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/traversal/compositors.cxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/compositors.cxx
--- libxsd-frontend-1.18.0/xsd-frontend/traversal/compositors.cxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/compositors.cxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/traversal/compositors.cxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2006-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2006-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #include <xsd-frontend/traversal/compositors.hxx>
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/traversal/compositors.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/compositors.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/traversal/compositors.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/compositors.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/traversal/compositors.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2006-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2006-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_TRAVERSAL_COMPOSITORS_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/traversal/element.cxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/element.cxx
--- libxsd-frontend-1.18.0/xsd-frontend/traversal/element.cxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/element.cxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/traversal/element.cxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #include <xsd-frontend/traversal/element.hxx>
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/traversal/element-group.cxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/element-group.cxx
--- libxsd-frontend-1.18.0/xsd-frontend/traversal/element-group.cxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/element-group.cxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/traversal/element-group.cxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2006-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2006-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #include <xsd-frontend/traversal/element-group.hxx>
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/traversal/element-group.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/element-group.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/traversal/element-group.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/element-group.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/traversal/element-group.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2006-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2006-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_TRAVERSAL_ELEMENT_GROUP_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/traversal/element.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/element.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/traversal/element.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/element.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/traversal/element.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_TRAVERSAL_ELEMENT_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/traversal/elements.cxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/elements.cxx
--- libxsd-frontend-1.18.0/xsd-frontend/traversal/elements.cxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/elements.cxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/traversal/elements.cxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #include <xsd-frontend/traversal/elements.hxx>
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/traversal/elements.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/elements.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/traversal/elements.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/elements.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/traversal/elements.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_TRAVERSAL_ELEMENTS_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/traversal/elements.txx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/elements.txx
--- libxsd-frontend-1.18.0/xsd-frontend/traversal/elements.txx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/elements.txx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/traversal/elements.txx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 namespace XSDFrontend
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/traversal/enumeration.cxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/enumeration.cxx
--- libxsd-frontend-1.18.0/xsd-frontend/traversal/enumeration.cxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/enumeration.cxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/traversal/enumeration.cxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #include <xsd-frontend/traversal/enumeration.hxx>
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/traversal/enumeration.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/enumeration.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/traversal/enumeration.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/enumeration.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/traversal/enumeration.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_TRAVERSAL_ENUMERATION_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/traversal/fundamental.cxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/fundamental.cxx
--- libxsd-frontend-1.18.0/xsd-frontend/traversal/fundamental.cxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/fundamental.cxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/traversal/fundamental.cxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #include <xsd-frontend/traversal/fundamental.hxx>
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/traversal/fundamental.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/fundamental.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/traversal/fundamental.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/fundamental.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/traversal/fundamental.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_TRAVERSAL_FUNDAMENTAL_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/traversal/list.cxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/list.cxx
--- libxsd-frontend-1.18.0/xsd-frontend/traversal/list.cxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/list.cxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/traversal/list.cxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #include <xsd-frontend/traversal/list.hxx>
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/traversal/list.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/list.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/traversal/list.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/list.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/traversal/list.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_TRAVERSAL_LIST_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/traversal/namespace.cxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/namespace.cxx
--- libxsd-frontend-1.18.0/xsd-frontend/traversal/namespace.cxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/namespace.cxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/traversal/namespace.cxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #include <xsd-frontend/traversal/namespace.hxx>
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/traversal/namespace.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/namespace.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/traversal/namespace.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/namespace.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/traversal/namespace.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_TRAVERSAL_NAMESPACE_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/traversal/particle.cxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/particle.cxx
--- libxsd-frontend-1.18.0/xsd-frontend/traversal/particle.cxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/particle.cxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/traversal/particle.cxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2006-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2006-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #include <xsd-frontend/traversal/particle.hxx>
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/traversal/particle.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/particle.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/traversal/particle.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/particle.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/traversal/particle.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2006-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2006-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_TRAVERSAL_PARTICLE_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/traversal/schema.cxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/schema.cxx
--- libxsd-frontend-1.18.0/xsd-frontend/traversal/schema.cxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/schema.cxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/traversal/schema.cxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #include <xsd-frontend/traversal/schema.hxx>
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/traversal/schema.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/schema.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/traversal/schema.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/schema.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/traversal/schema.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_TRAVERSAL_SCHEMA_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/traversal/union.cxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/union.cxx
--- libxsd-frontend-1.18.0/xsd-frontend/traversal/union.cxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/union.cxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/traversal/union.cxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #include <xsd-frontend/traversal/union.hxx>
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/traversal/union.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/union.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/traversal/union.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal/union.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/traversal/union.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_TRAVERSAL_UNION_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/traversal.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/traversal.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/traversal.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/traversal.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_TRAVERSAL_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/types.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/types.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/types.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/types.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/types.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_TYPES_HXX
diff -Nurd libxsd-frontend-1.18.0/xsd-frontend/xml.hxx xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/xml.hxx
--- libxsd-frontend-1.18.0/xsd-frontend/xml.hxx	2011-02-14 16:15:39.000000000 +0200
+++ xsd-3.3.0-2+dep/libxsd-frontend/xsd-frontend/xml.hxx	2010-04-27 22:31:24.000000000 +0300
@@ -1,6 +1,6 @@
 // file      : xsd-frontend/xml.hxx
 // author    : Boris Kolpackov <boris@codesynthesis.com>
-// copyright : Copyright (c) 2005-2011 Code Synthesis Tools CC
+// copyright : Copyright (c) 2005-2010 Code Synthesis Tools CC
 // license   : GNU GPL v2 + exceptions; see accompanying LICENSE file
 
 #ifndef XSD_FRONTEND_XML_HXX
