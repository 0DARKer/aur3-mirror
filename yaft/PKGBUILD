# Maintainer: haru <haru at nak dot ics dot keio dot ac dot jp>
pkgname=yaft
pkgver=0.1.6
pkgrel=1
pkgdesc="A simple framebuffer terminal"
arch=('i686' 'x86_64')
url="http://www.nak.ics.keio.ac.jp/~haru/yaft"
license=('MIT')
makedepends=('ncurses')
source=($url/release/$pkgname-$pkgver.tar.gz)
md5sums=('cbd43b29a572d638dea0007020d0853c')

build() {
  cd $srcdir/$pkgname-$pkgver

  make
}

package() {
  cd $srcdir/$pkgname-$pkgver

  mkdir -p $pkgdir/usr/share/terminfo
  tic -o $pkgdir/usr/share/terminfo yaft.src

  install -Dm755 $srcdir/$pkgname-$pkgver/$pkgname $pkgdir/usr/bin/$pkgname
  install -Dm644 {$srcdir/$pkgname-$pkgver,$pkgdir/usr/share/$pkgname/fonts/}/milkjf-iso8859.yaft
  install -Dm644 {$srcdir/$pkgname-$pkgver,$pkgdir/usr/share/$pkgname/fonts/}/milkjf-jis0201.yaft
  install -Dm644 {$srcdir/$pkgname-$pkgver,$pkgdir/usr/share/$pkgname/fonts/}/milkjf-jis0208.yaft
  install -Dm644 {$srcdir/$pkgname-$pkgver,$pkgdir/usr/share/$pkgname/alias/}/ambiguous-half.alias
  install -Dm644 {$srcdir/$pkgname-$pkgver,$pkgdir/usr/share/$pkgname/alias/}/ambiguous-wide.alias
}
