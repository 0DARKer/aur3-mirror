# Maintainer: Jonne Hass <me@mrzyx.de>
pkgname=hades
pkgver=0.98f
pkgrel=1
pkgdesc="Hamburg Design System, a framework for interactive simulation."
arch=('any')
url="http://tams-www.informatik.uni-hamburg.de/applets/hades/"
license=('custom')
depends=('java-runtime')
makedepends=('unzip' 'imagemagick')
source=("http://tams-www.informatik.uni-hamburg.de/applets/hades/archive/$pkgname.jar"
        'hades'
        'hades.desktop'
        'LICENSE')
noextract=("$pkgname.jar")
md5sums=('4f104e2043409d44971eb653a27f9fee'
         '1b047459e66bbf7034529ea692494651'
         '8c3e9b529717672fa83c563e2150eabe'
         '03060d8220e2b702d585cb82de751e1d')

build() {
  cd "$srcdir"
  unzip "$pkgname.jar" "hades/gui/images/hades.gif" -d ./pixmaps
  convert "pixmaps/hades/gui/images/hades.gif" "pixmaps/$pkgname.png"
}

package() {
  cd "$srcdir"
  mkdir -p "$pkgdir/usr/share/java/$pkgname"
  mkdir -p "$pkgdir/usr/bin"
  mkdir -p "$pkgdir/usr/share/pixmaps"
  mkdir -p "$pkgdir/usr/share/applications"
  mkdir -p "$pkgdir/usr/share/licenses"
  
  cp "$pkgname.jar"         "$pkgdir/usr/share/java/$pkgname/$pkgname.jar"
  cp "hades"                "$pkgdir/usr/bin/hades"
  cp "pixmaps/$pkgname.png" "$pkgdir/usr/share/pixmaps/$pkgname.png"
  cp "hades.desktop"        "$pkgdir/usr/share/applications"
  cp "LICENSE"              "$pkgdir/usr/share/licenses/$pkgname"
}

# vim:set ts=2 sw=2 et:
