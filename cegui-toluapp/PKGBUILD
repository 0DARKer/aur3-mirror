# Maintainer: Bassam Jabbour <bassam.jabbour at gmail.com>

pkgname=cegui-toluapp
pkgver=0.7.5
pkgrel=2
pkgdesc="A free library providing windowing and widgets for graphics APIs/engines"
arch=(i686 x86_64)
url="http://www.cegui.org.uk"
options=('!libtool')
license=("MIT")
depends=('pcre' 'freetype2' 'toluapp' 'expat' 'libxml2' 'devil' 'freeglut' 'silly')
optdepends=('freeglut: OpenGL renderer support'
'ogre: Ogre renderer support'
'irrlicht: Irrlicht renderer support'
'directfb: DirectFB renderer support'
'freeimage: image library support')
conflicts=('cegui' 'cegui-0.7')
source=(http://downloads.sourceforge.net/project/crayzedsgui/CEGUI%20Mk-2/$pkgver/CEGUI-$pkgver.tar.gz)

build() {
	cd "${srcdir}/CEGUI-${pkgver}"

	sed -i '1i#include <cstddef>' cegui/include/CEGUIString.h
	./configure --prefix=/usr --sysconfdir=/etc \
			--enable-devil --enable-silly \
			--disable-xerces-c \
			--with-default-image-codec=SILLYImageCodec
	make

}

package() {
        cd "${srcdir}/CEGUI-${pkgver}"

	make DESTDIR=${pkgdir}/ install

	install -D -m644 doc/COPYING "${pkgdir}/pkg/usr/share/licenses/$pkgname/COPYING"

}
md5sums=('38c79d1fdfaaa10f481c99a2ac479516')
