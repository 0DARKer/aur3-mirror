--- 12.6/common/lib/modules/fglrx/build_mod/firegl_public.c	2012-05-29 22:18:09.000000000 +0200
+++ 12.6/common/lib/modules/fglrx/build_mod/firegl_public.c		2012-06-01 19:34:39.221637200 +0200
@@ -4156,7 +4156,7 @@
 {
     unsigned int p;
     KCL_DEBUG5(FN_FIREGL_KAS, "%d\n", level_init);
-    for_each_cpu_mask(p, cpu_possible_map)
+    for (p=0; p<CPUS_NUMBER; p++)
     {
         KCL_DEBUG1(FN_FIREGL_KAS,"Setting initial execution level for CPU # %d\n", p);
         preempt_disable();
