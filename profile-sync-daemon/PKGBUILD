# Maintainer: graysky <graysky AT archlinux DOT us>

pkgname='profile-sync-daemon'
_pkgname_short='psd'
pkgver=2.3
pkgrel=2
pkgdesc='Symlinks and syncs browser profile dirs to RAM thus reducing HDD/SDD calls and speeding-up browsers.'
arch=('any')
url='https://wiki.archlinux.org/index.php/Profile-sync-daemon'
license=('GPL')
depends=('rsync')
optdepends=('cron: allow hourly (default) or periodic syncs of tmpfs <--> HDD/SDD storage')
conflicts=('firefox-sync' 'firefox-tmpfs-daemon' 'chromium-tmpfs' 'tmpfs-store')
replaces=('sync-browsers-daemon')
source="https://github.com/graysky2/profile-sync-daemon/raw/master/$_pkgname_short-source.tar.gz"
backup=("etc/$_pkgname_short.conf")
install=readme.install
sha256sums=('35cd8c78f3a31432da66c56c4eece9be54bacbf61fdb5352629b496d79e1d18f')

package() {
	cd "$srcdir/$_pkgname_short-source"
	install -Dm 755 $pkgname "$pkgdir/usr/bin/$pkgname"
	install -Dm 644 $_pkgname_short.conf "$pkgdir/etc/$_pkgname_short.conf"
	install -Dm 755 rc.$_pkgname_short "$pkgdir/etc/rc.d/$_pkgname_short"
	install -Dm 755 $_pkgname_short.cron.hourly "$pkgdir/etc/cron.hourly/$_pkgname_short-update"
}
