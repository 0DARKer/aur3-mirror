# Maintainer: James Rayner <james@archlinux.org> 
pkgname=netcfg-git
pkgver=20090216
pkgrel=1
pkgdesc="Network configuration and profile scripts"
url="http://archlinux.org"
license=("BSD")
arch=('any')
backup=(etc/iftab)
depends=(coreutils net-tools "dhcpcd>=4.0")
optdepends=(dialog "Console based menu selection" \ 
            netcfg-wireless-git "WPA/dbus based wireless support")
conflicts=(netcfg)
provides=(netcfg)

source=()
_gitname="netcfg"
_gitroot="git://projects.archlinux.org/${_gitname}"


build() {
    cd ${startdir}/src
    msg "Connecting to ${_gitroot} GIT server...."
    if [[ -d ${startdir}/src/${_gitname} ]] ; then
        cd ${_gitname}
        git pull origin || return 1
        msg "The local files are updated."
    else
        git clone ${_gitroot} || return 1
    fi
    msg "GIT checkout done"
    msg "Starting make..."

    cd netcfg
    sed -i 's|/man/|/share/man/|' Makefile
    make DESTDIR=$startdir/pkg install
    install -D -m644 LICENSE $startdir/pkg/usr/share/licenses/netcfg/LICENSE
    ln -s /usr/bin/netcfg2 $startdir/pkg/usr/bin/netcfg 
}



# vim:set ts=4 sw=4 et:


