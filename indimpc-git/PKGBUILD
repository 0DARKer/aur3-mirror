# Author: Felipe Morales <hel.sheep@gmail.com>
# Maintainer: <grawity@gmail.com>
pkgname=indimpc-git
pkgver=20110707
pkgrel=1
pkgdesc="Minimalistic MPD client with support for multimedia keys and notifications"
arch=(any)
url="https://github.com/fmoralesc/indimpc"
license=("GPL")
depends=("dbus-python" "python-notify" "python-mpd")
source=("indimpc.desktop")
sha1sums=('3df59a5d71cdb187b57e499a40468fa76c5e35ce')

_gitroot="git://github.com/fmoralesc/indimpc.git"
_gitname="indimpc"

build() {
  cd "$srcdir"

  msg "Updating source code..."
  if [[ -d $_gitname ]]; then
    cd "$_gitname" && git pull origin
  else
    git clone "$_gitroot" "$_gitname"
  fi
}

package() {
  cd "$srcdir/$_gitname"
  install -Dm0755 "indimpc.py" "$pkgdir/usr/bin/indimpc"
  install -Dm0755 "$srcdir/indimpc.desktop" "$pkgdir/etc/xdg/autostart/indimpc.desktop"
}
