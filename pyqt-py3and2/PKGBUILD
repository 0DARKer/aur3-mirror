# PyQt 4.6 for Python3 and 2.6: Installer: Arch
# Contributor: Ivo Benner <ivo.benner[at]web.de>

pkgname=pyqt-py3and2
realname=PyQt
filename=pyqt
pkgver=4.8.2
pkgdate=20201227
pkgrel=1
pkgdesc="Python3.x and Python2.x bindings for the Qt toolkit."
arch=('any')
url="http://www.riverbankcomputing.co.uk/software/${filename}/"
license=('GPL3')
provides=('pyqt' 'pyqt4')
depends=('sip-py3and2>=4.12' 'qt' 'qscintilla' 'sqlite3' 'dbus' 'python2' 'python')
conflicts=('pyqt' 'pyqt4')
replaces=('pyqt' 'pyqt4')
options=(!emptydirs)

source=(http://www.riverbankcomputing.co.uk/static/Downloads/${realname}4/${realname}-x11-gpl-${pkgver}.tar.gz)
md5sums=('142a32f126f205a2bd77f6a9910f5333')

build() {
  cd ${srcdir}/${realname}-x11-gpl-${pkgver}


  echo yes | python2 configure.py || return 1
  make clean
  make || return 1
  make DESTDIR=${pkgdir} install || return 1

  make clean  
  echo yes | python3 configure.py || return 1
  make || return 1
  make DESTDIR=${pkgdir} install || return 1
}
