# Contributor: <nixtrian@gmail.com>
pkgname="fragmentarium"
pkgver=20110123
pkgrel=1
pkgdesc="Fragmentarium is an open source, cross-platform IDE for exploring pixel based graphics on the GPU"
url="http://syntopia.github.com/Fragmentarium/"
license=('GPL')
arch=('i686' 'x86_64')
depends=('qt')
makedepends=("git")
source=()
md5sums=()

_gitroot="https://github.com/Syntopia/Fragmentarium.git"
_gitname="Fragmentarium"

build() {
	cd $srcdir

	if [ -d $srcdir/$_gitname ] ; then
		cd $_gitname && git pull
		cd ..
	  else
		git clone $_gitroot
	fi
rm -rf $_gitname-build
cp -rf $_gitname{,-build}
cd $_gitname-build/Fragmentarium-Source
qmake -project -after "CONFIG+=opengl" -after "QT+=xml opengl script"
qmake
make
install -d -m755 $pkgdir/usr/bin || return 1
install -m755 Fragmentarium-Source $pkgdir/usr/bin/fragmentarium || return 1
#install -d -m755 "Build - Linux/Fragmentarium/Examples" /usr/share/fragmentarium/examples || return 1
#install -m755 "Build - Linux/Fragmentarium/Examples" /usr/share/fragmentarium/examples || return 1
#install -d -m755 "Build - Linux/Fragmentarium/Misc" /usr/share/fragmentarium/doc || return 1
}


