# Maintainer: David Pugnasse <dapangus@gmail.com>
pkgname=pmd
pkgver=4.2.5
pkgrel=4
pkgdesc="A java source code scanner for detecting possible bugs, dead code, overcomplicated expressions and more"
arch=('any')
url="http://pmd.sourceforge.net/"
license=('custom:BSD-style')
depends=('java-environment')
source=(http://sourceforge.net/projects/pmd/files/pmd/${pkgver}/pmd-bin-${pkgver}.zip
cpd pmd pmd-designer)
md5sums=('dbd3bac591d92d9138151a0397f76d24'
'cc5f0fe5c17dcf0fa05355076a40f419'
'28f89daf13df9e3c4e2a6ec9485b39f9'
'6bebf425b99578ef36af88399d05d1f5')

build() {
  install -dm755 ${pkgdir}/usr/share/{java,licenses}/${pkgname}
  install -m644 $srcdir/${pkgname}-${pkgver}/etc/LICENSE.txt ${pkgdir}/usr/share/licenses/${pkgname}/LICENSE
  install -m644 $srcdir/${pkgname}-${pkgver}/lib/*.jar -t ${pkgdir}/usr/share/java/${pkgname}

  install -Dm755 cpd ${pkgdir}/usr/bin/cpd
  install -Dm755 pmd ${pkgdir}/usr/bin/pmd
  install -Dm755 pmd-designer ${pkgdir}/usr/bin/pmd-designer
}

# vim:set ts=2 sw=2 et:
