--- usr/lib/python2.7/site-packages/nautilus_image_manipulator/NautilusImageManipulatorDialog.py.old	2012-01-26 18:04:13.000000000 -0200
+++ usr/lib/python2.7/site-packages/nautilus_image_manipulator/NautilusImageManipulatorDialog.py	2012-02-16 12:17:04.036932482 -0200
@@ -375,8 +375,19 @@
         """Read the ini file to get the previous configuration. The ini file is located at ~/.nautilus-image-manipulator.ini.
         
         If no previous values are found, sets the UI to default values."""
-        self.configFilename = os.path.expanduser("~/.nautilus-image-manipulator.ini")
+        iniFile = os.path.join(os.getenv("HOME"), ".nautilus-image-manipulator.ini")
+        self.configFilename = os.path.expanduser(iniFile)
         self.config = ConfigParser.ConfigParser()
+
+        """Setting a default config file if it doesn't exist"""
+        if not os.path.isfile(iniFile):
+        	try:
+        		newconfig = open(iniFile, "w")
+        		newconfig.write("[Resize]\n[Output]\n[Sending]")
+        		newconfig.close()
+        	except IOError as e:
+        		print 'Could not create initial config file.'
+         
         self.config.read(self.configFilename)
         
         # TODO: Make sure that the values read from the ini file are valid, else use default values
