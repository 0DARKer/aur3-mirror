From bfd6e7c7618a29bc95c344d17ea9c15d70932ec2 Mon Sep 17 00:00:00 2001
From: Marcel Holtmann <marcel@holtmann.org>
Date: Mon, 30 Apr 2012 01:35:23 +0200
Subject: [PATCH] notifier: Return offline as global state if offline mode is
 enabled

---
 src/notifier.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/src/notifier.c b/src/notifier.c
index b328a2a..55cea74 100644
--- a/src/notifier.c
+++ b/src/notifier.c
@@ -106,15 +106,15 @@ connman_bool_t __connman_notifier_is_connected(void)
 
 static const char *evaluate_notifier_state(void)
 {
+	if ( __connman_technology_get_offlinemode() == TRUE)
+		return "offline";
+
 	if (notifier_is_online() == TRUE)
 		return "online";
 
 	if (__connman_notifier_is_connected() == TRUE)
 		return "ready";
 
-	if ( __connman_technology_get_offlinemode() == TRUE)
-		return "offline";
-
 	return "idle";
 }
 
-- 
1.7.10

