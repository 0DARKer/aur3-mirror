# Maintainer: Jake VanderKolk <jakevanderkolk@gmail.com>
pkgname=hostsblock
pkgver=0.7
pkgrel=1
pkgdesc="A script and cronjob that downloads, sorts, and installs multiple ad- and malware-blocking hosts files."
arch=(any)
url="https://bbs.archlinux.org/viewtopic.php?id=139784"
license=('GPL')
depends=(gzip bash curl grep sed coreutils)
optdepends=('dnsmasq: helps speed up DNS resolutions'
	    'pixelserv: removes boilerplate page on blocked urls'
	    'kwakd: removes boilerplate page on blocked urls (recommended)'
	    'unzip: allows the use of zipped downloads'
	    'p7zip: allows the use of 7zipped downloads')
backup=('etc/hostsblock/rc.conf' 'etc/hostsblock/black.list' 'etc/hostsblock/white.list' 'etc/hostsblock/hosts.head')
changelog=$pkgname.changelog
install=$pkgname.install
source=('hostsblock.sh' 'hostsblock-urlcheck.sh' 'rc.conf' 'black.list' 'white.list' 'hosts.head')
md5sums=('c336dd96f693d5df3b292c7cdfa9fce4' '60e6f748f4631f95f850a15c26637c94' 'd5f8e7c82425714e02af10f4fc4e3fbb' '216d5af213e0eb3690ea3c27d4cc6258' 'c43455d45a6ee1bbfb3dec203703b9b2' '949af91b7a40582de127eb43a96f001e')

package() {
  install -Dm755 "$srcdir"/hostsblock.sh "$pkgdir"/usr/sbin/hostsblock
  install -Dm755 "$srcdir"/hostsblock-urlcheck.sh "$pkgdir"/usr/sbin/hostsblock-urlcheck
  install -Dm644 "$srcdir"/rc.conf "$pkgdir"/etc/hostsblock/rc.conf
  install -Dm644 "$srcdir"/black.list "$pkgdir"/etc/hostsblock/black.list
  install -Dm644 "$srcdir"/white.list "$pkgdir"/etc/hostsblock/white.list
  install -Dm644 "$srcdir"/hosts.head "$pkgdir"/etc/hostsblock/hosts.head
}
