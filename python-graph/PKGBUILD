# Contributor: Anton Bazhenov <anton.bazhenov at gmail>
# Contributor: Ryan Coyner <rcoyner@gmail.com>

pkgname=python-graph
pkgver=1.8.0
pkgrel=1
pkgdesc="A library for working with graphs in Python"
arch=('any')
url="http://code.google.com/p/python-graph/"
license=('MIT')
depends=('python2' 'pydot' 'pyparsing')
makedepends=('setuptools' 'epydoc')
source=(http://$pkgname.googlecode.com/files/$pkgname-$pkgver.tar.bz2)
md5sums=('8c5fbf993244c39ce42506425b5f30ac')

build() {
  cd $srcdir/$pkgname-$pkgver
  make docs
  cd $srcdir/$pkgname-$pkgver/core && python2 setup.py install --root=$pkgdir/ --optimize=1
  cd $srcdir/$pkgname-$pkgver/dot && python2 setup.py install --root=$pkgdir/ --optimize=1
  
  # docs files
  install -m755 -d $pkgdir/usr/share/doc/python-graph/
  install -Dm644 $srcdir/$pkgname-$pkgver/docs/* $pkgdir/usr/share/doc/python-graph/
  
  # Move COPYING to "licenses" dir
  install -m755 -d $pkgdir/usr/share/licenses/python-graph
  install -Dm644 $srcdir/$pkgname-$pkgver/COPYING \
    $pkgdir/usr/share/licenses/python-graph/
}
