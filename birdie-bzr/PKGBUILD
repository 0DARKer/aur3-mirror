# Maintainer: vasconunes

pkgname=birdie-bzr
pkgver=135
pkgrel=1
pkgdesc="Twitter client for elementary OS"
arch=('i686' 'x86_64')
url="https://launchpad.net/birdie"
license=('GPL3')
depends=('glib2' 'gtk3' 'libgee06' 'libwnck3' 'libx11' 'hicolor-icon-theme' 'cairo' 'pango' )
makedepends=('bzr' 'dbus-glib' 'intltool' 'vala' 'gnome-common' 'granite' 'rest' 'json-glib' 'libnotify' 'libcanberra' 'libindicate' 'libunity' 'webkitgtk3')
options=('!libtool')
install=birdie.install
source=('birdie::bzr+http://launchpad.net/birdie/trunk/')
md5sums=('SKIP')

pkgver() {
  cd "$srcdir/birdie"
  bzr revno
}

prepare() {
  cd "$srcdir/birdie"
  mkdir build
}

build() {
  cd "$srcdir/birdie/build"
  cmake ..
}

package() {
  cd "$srcdir/birdie/build"
  make GCONF_DISABLE_MAKEFILE_SCHEMA_INSTALL=1 DESTDIR="$pkgdir/" install
}
