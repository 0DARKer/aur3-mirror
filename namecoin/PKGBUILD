# Maintainer: portals <portals@gmail.com>

pkgbase=namecoin
pkgname=('namecoin-qt')
pkgver=0.3.76
pkgrel=1
arch=('i686' 'x86_64')
url="http://www.bitcoin.org/"
makedepends=('boost' 'qt5-base' 'miniupnpc' 'desktop-file-utils')
license=('MIT')
source=(https://github.com/namecoin/namecoin/archive/nc$pkgver.tar.gz
	'namecoin-qt.desktop')
sha256sums=('bb6c9decc86447ccfc7dca6cd25e8af181f3cd057cc0aa13ba67c143a438e300'
	    'd58f684fb11d8879c5f9fe7ab6c70f1a522d4f76a885e39a2e15157c1d30522e')

build() {
  cd "$srcdir/$pkgbase-nc$pkgver/"
  qmake-qt5 "USE_UPNP=-" # I can't find a way to compile with UPNP
  make

}

package_namecoin-qt() {
  pkgdesc="Namecoin is a decentralized open source information registration and transfer system based on the Bitcoin cryptocurrency. -Qt"
  depends=(boost-libs qt5-base miniupnpc desktop-file-utils)
  conflicts=(namecoin-qt-git)
  install=namecoin-qt.install
  cd "$srcdir/$pkgbase-nc$pkgver/"
  install -Dm755 namecoin-qt "$pkgdir"/usr/bin/namecoin-qt
  install -Dm644 "$srcdir"/namecoin-qt.desktop \
    "$pkgdir"/usr/share/applications/namecoin-qt.desktop

}

