# Maintainer: Marti Raudsepp <marti@juffo.org>
# Contributor: Radu Andries <admiral0@tuxfamily.org>

pkgname=zbar
pkgver=0.10
pkgrel=1
pkgdesc="An open source software suite for reading bar codes from various sources"
arch=('i686' 'x86_64')
url="http://zbar.sourceforge.net/"
license=('LGPL')
depends=('imagemagick' 'libxv' 'python2' 'gtk2' 'qt4')
conflicts=('zbar-gtk' 'zbar-qt')
provides=("zbar-gtk=$pkgver" "zbar-qt=$pkgver")
source=("http://downloads.sourceforge.net/project/zbar/zbar/$pkgver/zbar-$pkgver.tar.bz2")

build() {
  cd "$srcdir/zbar-$pkgver"
  # Video disabled: package requires the now-deprecated video4linux version 1
  ./configure --prefix=/usr --with-qt --with-gtk --disable-video CFLAGS=-DNDEBUG
  make
}
package() {
  cd "$srcdir/zbar-$pkgver"
  make DESTDIR="$pkgdir" install
}

# vim:set ts=2 sw=2 et:
md5sums=('0fd61eb590ac1bab62a77913c8b086a5')
