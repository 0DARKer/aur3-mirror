# Maintainer: IgnorantGuru <ignorantguru@users.sourceforge.net>
# The AUR pcmanfm-mod package does not provide pcmanfm and can thus be
# installed concurrently with other versions of pcmanfm
# The AUR pcmanfm-mod-prov package provides pcmanfm and thus conflicts
# with other versions of pcmanfm
pkgname=pcmanfm-mod-prov
pkgver=1.2.0
pkgrel=1
pkgdesc="A modified version of the legacy PCMan File Manager v0.5.2 - provides pcmanfm"
arch=('i686' 'x86_64')
url=("http://igurublog.wordpress.com/downloads/mod-pcmanfm/")
license=('GPL2')
depends=('gtk2' 'gamin' 'hal' 'shared-mime-info' 'desktop-file-utils' 'startup-notification')
optdepends=('fam: alternative to gamin' 'gksu: perform as root functionality' 'gnome-icon-theme')
makedepends=('intltool' 'gettext')
provides=('pcmanfm-mod' 'pcmanfm')
conflicts=('pcmanfm-mod' 'pcmanfm')
install=pcmanfm-mod-prov.install
source=("http://downloads.sourceforge.net/project/pcmanfm-mod/pcmanfm-mod-$pkgver.tar.xz")
#md5sums=(`wget -O - http://downloads.sourceforge.net/project/pcmanfm-mod/pcmanfm-mod-$pkgver.tar.xz | md5sum | head -c 32`)
md5sums=('25daebeaac9a33bfb068294c1202b9ac')
sha256sums=('25fe7d820d9574b2bdef5834b73b3546e5c42bf600b531ddb2c3bdc9abfd58d3')

build() {
    cd "$srcdir/pcmanfm-mod-$pkgver"
    ./configure --prefix=/usr
    make || return 1
    make DESTDIR=$pkgdir install || return 1
    install -Dm755 "$srcdir/pcmanfm-mod-$pkgver/pcmanfm-opener" "$pkgdir/usr/bin/pcmanfm-opener"
}

