# Maintainer: Klimov Max <cleemmi@gmail.com>
pkgname=libcgns
pkgver=3.1.3
pkgrel=1
_fedver=2
_shortver=3.1
pkgdesc="General purpose library for the storage and retrieval of computational fluid dynamics analysis data by CGNS standard"
arch=('i686' 'x86_64')
url="http://www.cgns.org"
license=('custom')

depends=('gcc' 'glibc')
makedepends=('cmake>=2.6')
optdepends=()
source=("http://downloads.sourceforge.net/project/cgns/cgnslib_${_shortver}/cgnslib_${pkgver}-${_fedver}.tar.gz")
md5sums=('164040363bd821a5e22820487dc441b3')
if [ "$CARCH" = "i686" ]; then
  _64bits=0
else
  _64bits=1
fi

build() {
  cd "${srcdir}/cgnslib_${pkgver}"
  cmake -D ENABLE_64BIT=${_64bits} -D CMAKE_INSTALL_PREFIX="${pkgdir}/usr" ./
}

package() {
  cd "${srcdir}/cgnslib_${pkgver}"
  make install
  #License
  mkdir -p "${pkgdir}/usr/share/licenses/${pkgname}"
  cp license.txt "${pkgdir}/usr/share/licenses/${pkgname}"
}
