# Contributor:  Leslie P. Polzer <polzer@stardawn.org>
pkgname=libminizip
pkgver=1.01e
pkgrel=1
pkgdesc="ZIP file extraction library"
url="http://www.winimage.com/zLibDll/minizip.html"
license="zlib"
arch=('i686')
depends=()
source=(http://www.winimage.com/zLibDll/unzip101e.zip)
md5sums=('59e14911bffbb40ce49aa38f6f1efd2a')
sha1sums=('6c843b102b5c96fc4a0ab589059b55fd2b017f09')

build() {
  cd $startdir/src

  gcc -shared zip.c unzip.c ioapi.c -o libminizip.so.1

  install -m755 -D libminizip.so.1 $startdir/pkg/usr/lib/libminizip.so.1
  cd $startdir/pkg/usr/lib && ln -sf libminizip.so.1 libminizip.so

  cd $startdir/src
  mkdir -p $startdir/pkg/usr/include
  install -m644 zip.h unzip.h ioapi.h $startdir/pkg/usr/include
}
