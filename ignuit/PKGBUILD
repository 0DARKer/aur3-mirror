# Maintainer: Jaroslav Lichtblau <dragonlord@aur.archlinux.org>

pkgname=ignuit
pkgver=0.0.16
pkgrel=1
pkgdesc="A memorization aid based on the Leitner flashcard system"
arch=('i686' 'x86_64')
url="http://homepages.ihug.co.nz/~trmusson/programs.html#ignuit"
license=('GPL')
depends=('gconf' 'gnome-doc-utils' 'gstreamer0.10-base' 'hicolor-icon-theme' 'intltool' 'libgnomeui' 'libglade' 'libxslt')
install=$pkgname.install
source=(http://homepages.ihug.co.nz/~trmusson/stuff/$pkgname-$pkgver.tar.gz \
        $pkgname.desktop \
        http://homepages.ihug.co.nz/~trmusson/$pkgname/countries_and_capitals-en.xml \
        http://homepages.ihug.co.nz/~trmusson/$pkgname/numbers_days_months-en_ru-without_audio.xml)
md5sums=('9edaf56cbae79d5b0b71f581beacaa6f'
         '24a8740af9dc95abd36e08b8de043aca'
         '1ec81d4a384c44cb5c1a132dacc5a5fe'
         '0608272132bf7e470ad1486dafdc6780')

build() {
  cd ${srcdir}/$pkgname-$pkgver

  ./configure --prefix=/usr --with-gconf-schema-file-dir=/etc/gconf/schemas
  make || return 1
  make DESTDIR=${pkgdir} install

  rm -r ${pkgdir}/usr/share/locale || return 1

#example files
  install -D -m644 ${srcdir}/countries_and_capitals-en.xml \
    ${pkgdir}/usr/share/$pkgname/examples/countries_and_capitals-en.xml || return 1
  install -D -m644 ${srcdir}/numbers_days_months-en_ru-without_audio.xml \
    ${pkgdir}/usr/share/$pkgname/examples/numbers_days_months-en_ru-without_audio.xml || return 1

#.desktop file
  install -D -m644 ${srcdir}/$pkgname.desktop \
    ${pkgdir}/usr/share/applications/$pkgname.desktop || return 1
}
