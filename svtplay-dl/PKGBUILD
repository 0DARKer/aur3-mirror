# Maintainer: swearchnick <swearchnick[at]gmail[dot]com>
pkgname=svtplay-dl
pkgver=0.9.2014.04.27
pkgrel=1
pkgdesc="Small command-line program to download videos from svtplay.se/tv4play.se/tv3play.se/tv8play.se/tv6play.se/viaplay.se/aftonbladet"
url="https://github.com/spaam/svtplay-dl"
license=('MIT')
arch=('any')
depends=('rtmpdump' 'python' 'python-crypto')
makedepends=('tar' 'gzip' 'git' 'python-setuptools')
conflicts=('svtplay-dl')
provides=('svtplay-dl')

_gitroot='https://github.com/spaam/svtplay-dl.git'
_gitname='svtplay-dl'

package() {
      msg "Connecting to github.com GIT server...."
  if [ -d $srcdir/$_gitname ] ; then
      cd $_gitname && git pull origin
      msg "The local files are updated."
  else
      git clone $_gitroot
  fi
      msg "GIT checkout done or server timeout"

  cd "$srcdir/$pkgname"

  python setup.py install --root "$pkgdir"

  install -Dm644 "$srcdir/$pkgname/LICENSE" "$pkgdir"/usr/share/licenses/$pkgname/LICENSE

}
