# Author: Patrick Auernig <patrick.auernig@gmail.com>

pkgname=sixfireusb-dkms
pkgver=0.6.0
pkgrel=1
pkgdesc="Kernel modules for the Terratec DMX6FireUSB soundcard"
arch=('i686' 'x86_64')
url="http://sourceforge.net/projects/sixfireusb"
license=('GPL')
depends=('dkms')
optdepends=('linux-headers: build the module against Arch kernel')
source=(http://sourceforge.net/projects/sixfireusb/files/sixfireusb-$pkgver.tar.bz2
        dkms.conf
)
md5sums=('3ef6af1f2d982f3dac92a242306c583b'
         '566849e0b9626d61944816b265d76fba'
)
install=sixfireusb.install

package() {
    cd ${srcdir}
    
    install -dm755 "${pkgdir}/usr/src/sixfireusb-${pkgver}"

    cp -r ${srcdir}/sixfireusb-${pkgver}/* "${pkgdir}/usr/src/sixfireusb-${pkgver}/"
    cp ${srcdir}/dkms.conf "${pkgdir}/usr/src/sixfireusb-${pkgver}/dkms.conf"
    sed -i -e "s/@VERSION@/${pkgver}/" "${pkgdir}/usr/src/sixfireusb-${pkgver}/dkms.conf"
}

