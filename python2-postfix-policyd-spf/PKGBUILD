# Maintainer: Rich Li <rich@dranek.com>
# Contributer: Filip S. Adamsen <fsa [at] fsadev [dot] com>
# Contributor: Samed Beyribey <ras0ir@eventualis.org>
pkgname=python2-postfix-policyd-spf
_pypkgname=pypolicyd-spf
pkgver=1.2
pkgrel=2
pkgdesc="Python2 Postfix Sender Policy Framework (SPF) filter"
arch=('any')
url="http://www.openspf.org/Software"
license=('APACHE')
depends=('postfix' 'python2-pyspf' 'python2' 'python2-ipaddress')
conflicts=('python-postfix-policyd-spf')
options=(!emptydirs)
backup=(etc/python-policyd-spf/policyd-spf.conf)
source=(http://launchpad.net/pypolicyd-spf/1.2/$pkgver/+download/$_pypkgname-$pkgver.tar.gz)
md5sums=('0899572d5e63f3bb3faa9041cf58020e')
sha1sums=('6a2d719e9adf39ba044550a17199afdcfc7444c7')
sha256sums=('e1a94c79ad91cfea17b9c8b19b035536f06d75ff9ee2e8478191e7c27fe69f74')
 
build() {
  cd "$srcdir/$_pypkgname-$pkgver"
  python2 setup.py build
}

package() {
  cd "$srcdir/$_pypkgname-$pkgver"
  python2 setup.py install --root="$pkgdir/" --optimize=1
  install -m644 -D policyd-spf.conf.commented $pkgdir/etc/python-policyd-spf
}

# vim:set ts=2 sw=2 et:
