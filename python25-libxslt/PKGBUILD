# $Id: PKGBUILD 26967 2009-02-14 23:59:16Z jgc $
# Maintainer: Eric Belanger <eric@archlinux.org>
# Contributor: John Proctor <jproctor@prium.net>

pkgname=python25-libxslt
_realname=libxslt
pkgver=1.1.24
pkgrel=1
pkgdesc="XML stylesheet transformation library"
arch=('i686' 'x86_64')
url="http://xmlsoft.org/XSLT/"
license=('custom')
depends=('python25-libxml2>=2.7.3' 'libgcrypt>=1.4.3')
makedepends=('python25')
options=('!libtool')
source=(ftp://xmlsoft.org/libxslt/${_realname}-${pkgver}.tar.gz
	libxslt-1.1.24-exslt_crypt.patch)
md5sums=('e83ec5d27fc4c10c6f612879bea9a153'
	 'bf43a510a37fbca661c7ef3dd1eddfea')

build() {
  cd "${srcdir}/${_realname}-${pkgver}"
  patch -Np0 -i "${srcdir}/libxslt-1.1.24-exslt_crypt.patch" || return 1
  ./configure --prefix=/usr/local --with-python=/usr/bin/python2.5 || return 1
  make || return 1
  make DESTDIR="${pkgdir}" install || return 1
  mv ${pkgdir}/usr/lib/python2.5 ${pkgdir}/usr/local/lib/
  install -d "${pkgdir}/usr/local/share/licenses/${pkgname}"
  install -m644 COPYING "${pkgdir}/usr/local/share/licenses/${pkgname}/" || return 1
}
