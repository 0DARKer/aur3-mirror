# Maintainer: Neil Munro <support@rockcomputing.co.uk>

pkgname=x2
pkgver=1.0.1
pkgrel=2
pkgdesc="A simplic minimal GTK+ text editor with a artsy gui."
arch=('i686' 'x86_64')
url="http://rockcomputing.dyndns-web.com/flyspray/index.php?project=2&do=index"
license=('BSD')
groups=()
depends=(vte gtksourceview2)
makedepends=()
checkdepends=()
optdepends=()
provides=(x2)
source=(http://rockcomputing.dyndns-web.com/projects/x2-1.0.1.tar.gz)
noextract=()
md5sums=(f5ddabdd94ebe9c5f3e1eb7a654fba11) #generate with 'makepkg -g'

build() {
  cd "$srcdir/$pkgname-$pkgver"
  ./configure --prefix=/usr
  make
}

check() {
  cd "$srcdir/$pkgname-$pkgver"
  make -k check
}

package() {
  cd "$srcdir/$pkgname-$pkgver"
  make DESTDIR="$pkgdir/" install
  mkdir -p ${pkgdir}/usr/share/applications/
  cp ${srcdir}/${pkgname}-${pkgver}/data/x2.desktop ${pkgdir}/usr/share/applications/x2.desktop
}