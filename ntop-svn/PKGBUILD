# Maintainer: archtux <antonio.arias99999@gmail.com>

pkgname=ntop-svn
pkgver=4357
pkgrel=1
pkgdesc="A network traffic probe that shows the network usage"
arch=('i686' 'x86_64')
url="http://www.ntop.org/news.php"
license=('GPL2')
depends=('gd' 'gdbm' 'geoip' 'libevent' 'libpcap' 'libxml2' 'lua' 'openssl' 'pcre' 'rrdtool')
makedepends=('subversion')
optdepends=('python-mako')
conflicts=('ntop')
 
_svntrunk=https://svn.ntop.org/svn/ntop/trunk/ntop
_svnmod=ntop

build() {
   cd $startdir/src
   svn co $_svntrunk --config-dir ./ -r $pkgver $_svnmod
   msg "SVN checkout done or server timeout"
   msg "Starting make..."

   cd ntop
   ./autogen.sh 
   ./configure --prefix=/usr --sysconfdir=/etc --localstatedir=/var/lib
   make 
   make DESTDIR=$pkgdir install
   install -d -m755 --owner=nobody --group=nobody $pkgdir/var/lib/ntop/rrd
}
