# Maintainer: Mitsu <archlinux AT suumitsu DOT eu>

pkgname=hubicfuse
pkgver=1.3.1
pkgrel=1
pkgdesc="A fuse filesystem to access HubiC cloud storage"
arch=('i686' 'x86_64')
conflicts=("hubicfuse-git")
provides=("hubicfuse")
url='https://github.com/TurboGit/hubicfuse'
license=('MIT')
depends=('fuse' 'libxml2' 'json-c')
makedepends=('gcc' 'libxml2' 'pkg-config' 'make')
source=("$url/archive/v$pkgver.tar.gz")
sha512sums=('b78b4da24548be7a813eb9882fc9cc8a501e473e541e3434eded5b95b54f8e2f3a95908ed694f3a3c453e9efe90e1fb0fc95a1b5302ce983095fe629f15face8')

build() {
	cd "$srcdir/$pkgname-$pkgver"
	./configure --prefix=/usr
	make -j $(nproc)
}

package() {
	cd "$srcdir/$pkgname-$pkgver"
	make DESTDIR="$pkgdir" install

  install -D -m755 "$srcdir/$pkgname-$pkgver/hubic_token" "$pkgdir/usr/bin/hubic_token"
  echo "##################################################################"
  echo "For setup, please refer to https://github.com/TurboGit/hubicfuse"
  echo "##################################################################"
}
# vim:set ts=2 sw=2 et:

