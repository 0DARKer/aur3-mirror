# Contributor: joerg.meyer <joerg.meyer@gmail.com>
pkgname=xmlada
pkgver=svn
pkgrel=1
pkgdesc="XML/Ada is a set of modules that provide a simple manipulation of XML streams."
arch=('i686' 'x86_64')
url="http://libre.adacore.com/libre/tools/xmlada/"
license=('GPL')
groups=("gcc-ada")
depends=("gcc" "gcc-ada")
makedepends=()
optdepends=()
provides=("xmlada")
conflicts=("xmlada")
replaces=()
backup=()
options=()
install=
source=()
noextract=()
md5sums=()

_svntrunk="http://svn.eu.adacore.com/anonsvn/Dev/trunk"
_svnmod="xmlada"

#remove "-j" flag
MAKEFLAGS=

build() {
if [ -d $SRCDEST/$_svnmod/.svn ] ; then
cd $SRCDEST && svn up $_svnmod
else
cd $SRCDEST && svn co $_svntrunk/$_svnmod
fi
cp -a $SRCDEST/$_svnmod $startdir/src || return 1
cd $startdir/src/$_svnmod || return 1

./configure --prefix=/usr || return 1
make || return 1
make DESTDIR=$startdir/pkg prefix=$startdir/pkg/usr install || return 1
}