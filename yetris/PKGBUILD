# Contributor: Lucas de Sena <lucas DOT ta23 @ gmail DOT com>
# Maintainer: Alexandre Dantas <eu @ alexdantas DOT net>

pkgname=yetris
pkgver=2.2.3
pkgrel=1
pkgdesc="Customizable Tetris(tm) for the terminal - stable snapshots"
arch=('x86_64' 'i686')
url="http://yetris.alexdantas.net/"
license=('GPL3')
depends=('ncurses' 'iniparser')
conflicts=('yetris-git')
source=(https://github.com/alexdantas/$pkgname/archive/v$pkgver.tar.gz)
sha256sums=('eb9279e0ae3658420535f4d83f87f7fb062c85630f7728dd69d77b8b440bcb11')

build() {
  cd "$srcdir/$pkgname-$pkgver"

  make
}

package() {
  cd "$srcdir/$pkgname-$pkgver"

  # By default it installs on /usr/games
  sed -i 's|PREFIX)/games|PREFIX)/bin|g' Makefile
  make DESTDIR="$pkgdir/" PREFIX="$pkgdir/usr" install

  rm -rf $pkgdir/var
  chmod 0755 $pkgdir/usr/bin/yetris
  chown root:root $pkgdir/usr/bin/yetris
}
