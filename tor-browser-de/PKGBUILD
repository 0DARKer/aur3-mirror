# Commited by: Sascha K. B. < saschakb at i2pmail dot org >
# based on the PKGBUILD for tor-browser-en from Max Roder <maxroder@web.de>

pkgname='tor-browser-de'
pkgver='2.2.35_rc4'
_realpkgver='2.2.35-4-dev'
_language='de'
pkgrel='1'
pkgdesc='Läßt dich TOR mit Firefox verwenden (+ Torbutton, NoScript, HTTPS-Everywhere) ohne daß etwas konfiguriert werden muß. Deutsche Version.'
url='https://www.torproject.org/projects/torbrowser.html.de'
arch=('x86_64' 'i686')
license=('GPL')
depends=('java-environment' 'xulrunner')
install='tor-browser-de.install'
if [[ "$CARCH" == 'i686' ]]; then
	source=("https://www.torproject.org/dist/torbrowser/linux/tor-browser-gnu-linux-${CARCH}-${_realpkgver}-${_language}.tar.gz")
	sha256sums=('661a5f68be03f998d013cb9ed632dd246fd62a34b688a6abc353324bdf037f4f')
else
	source=("https://www.torproject.org/dist/torbrowser/linux/tor-browser-gnu-linux-${CARCH}-${_realpkgver}-${_language}.tar.gz")
	sha256sums=('5c8302e756d116a185cd3ba9fca7e2a3b3d964df49979e74fee3fcd1d3b94ce1')
fi
source+=("${pkgname}.desktop"
		"${pkgname}.png"
		"${pkgname}.sh")
sha256sums+=('61f7c6a656d7198192573bf84b6487bacdbe5d9bc97e84215e8009a005057545'
			'17fc2f5784d080233aca16e788d62ab6fe3e57cf781b123cfe32767de97d6d3b'
			'9a8e2ee31f83ae6145122bc40fdce81441b298dc10eb2605cbda37f80eee7978')
options=('!strip' 'emptydirs')

package() {
	cd ${srcdir}/tor-browser_de

	install -d ${pkgdir}/opt/${pkgname}/ ${pkgdir}/usr/bin/

	# Any way to use install here?
	cp -a * ${pkgdir}/opt/${pkgname}/

	# Other files
	install -Dm644 ../${pkgname}.desktop ${pkgdir}/usr/share/applications/${pkgname}.desktop
	install -Dm644 ../${pkgname}.png ${pkgdir}/usr/share/pixmaps/${pkgname}.png
	install -Dm755 ../${pkgname}.sh ${pkgdir}/usr/bin/${pkgname}
}

# vim:set ts=2 sw=2 et:
sha256sums=('bfb27adb4becb4a7e6aa00ecfeef8baec26dc8f6562295c1ee8865dcc8585680'
            '61f7c6a656d7198192573bf84b6487bacdbe5d9bc97e84215e8009a005057545'
            '17fc2f5784d080233aca16e788d62ab6fe3e57cf781b123cfe32767de97d6d3b'
            '9a8e2ee31f83ae6145122bc40fdce81441b298dc10eb2605cbda37f80eee7978')
sha256sums=('bfb27adb4becb4a7e6aa00ecfeef8baec26dc8f6562295c1ee8865dcc8585680'
            '61f7c6a656d7198192573bf84b6487bacdbe5d9bc97e84215e8009a005057545'
            '17fc2f5784d080233aca16e788d62ab6fe3e57cf781b123cfe32767de97d6d3b'
            '5a7b564f9ebbb6c41425c1f0d2be1c480966074057666c94cb86368508c9947b')
