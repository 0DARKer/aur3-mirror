# Maintainer: Felix Yan <felixonmars@gmail.com>
# Contributor: lh <jason52lh@gmail.com>

pkgname=fcitx-rime
pkgver=0.1.0
pkgrel=1
_rimever=0.9.2
pkgdesc="Fcitx Wrapper for librime"
arch=('i686' 'x86_64')
url="http://code.google.com/p/fcitx"
license=('GPL')
depends=('fcitx>=4.2.0' "librime=$_rimever")
makedepends=('cmake' 'intltool')
conflicts=('fcitx-rime')
source=(
  "rime.tar.gz::https://github.com/lotem/brise/tarball/rime-$_rimever"
  "http://fcitx.googlecode.com/files/$pkgname-$pkgver.tar.xz"
)
md5sums=('538e3edc22cb86861293e8281a709edb'
         '8eafe569ba7479034c57f3b606852612')

_brise_name=lotem-brise-8562f39

build(){
  cd "$srcdir"
  rm -rf brise/
  cp -r ${_brise_name}/ brise/

  msg "Starting make..."
  
  cd "$pkgname-$pkgver"

  rm -rf build
  mkdir build
  cd build

  cmake -DCMAKE_INSTALL_PREFIX=/usr ..
  make DESTDIR=${pkgdir} install
}
