# Contributor: Todd Partridge <toddrpartridge@gmail.com>

pkgname=worldofgoo-demo
_pkgname=WorldOfGooDemo
pkgver=1.41
pkgrel=1
pkgdesc="World of Goo is a physics based puzzle/construction game."
arch=('i686' 'x86_64')
url="http://2dboy.com/games.php"
license=('custom')
depends=('mesa' 'sdl_mixer')
backup=('usr/share/$pkgname/properties/config.txt')
source=(
http://ftp2.za.freebsd.org/pub/FreeBSD/distfiles/$_pkgname.1.41.tar.gz
        $pkgname.desktop)
md5sums=('2a490524ae2cfd11fcb2e052dfe47d4e'
         '2c51596fa6c1afa7bcb39da559015881')


build() {

	cd $srcdir

  # create pkgdir folders
  install -d $pkgdir/usr/bin
  install -d $pkgdir/usr/share/{applications,games,icons}
  install -d $pkgdir/usr/share/licenses/$pkgname

  # game folder
  cp -R $_pkgname $pkgdir/usr/share/games/$pkgname

  # licenses
  install -m644 $_pkgname/eula.txt $pkgdir/usr/share/licenses/$pkgname/

  # executable link
  ln -s /usr/share/games/$pkgname/WorldOfGoo $pkgdir/usr/bin/$pkgname

  # icon/.desktop
  install -m644 $_pkgname/icons/scalable.svg \
  $pkgdir/usr/share/icons/$pkgname.svg
  install -m644 $startdir/$pkgname.desktop $pkgdir/usr/share/applications/

}
