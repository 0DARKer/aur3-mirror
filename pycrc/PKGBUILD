# Maintainer: Niels Martign√®ne <niels.martignene@gmail.com>
pkgname=pycrc
pkgver=0.8.1
pkgrel=1
pkgdesc="A free, easy to use Cyclic Redundancy Check (CRC) calculator and C source code generator"
arch=(any)
url="http://www.tty1.net/pycrc/"
license=('MIT')
depends=('python')
options=(!emptydirs)
source=("http://sourceforge.net/projects/pycrc/files/pycrc/pycrc-0.8.1/pycrc-${pkgver}.tar.gz")
sha256sums=('12fab87921fd886b6eed491a32af97da33d72eff2f7c011397a813378de741f8')

_sitedir=`python -c "import site; print(site.getsitepackages()[0])"`

package() {
  cd "${pkgname}-${pkgver}"

  mkdir -p "${pkgdir}${_sitedir}/pycrc"
  cp -r *.py "${pkgdir}${_sitedir}/pycrc"

  mkdir -p "${pkgdir}/usr/bin"
  chmod +x "${pkgdir}${_sitedir}/pycrc/pycrc.py"
  ln -s "${_sitedir}/pycrc/pycrc.py" "${pkgdir}/usr/bin/pycrc"

  mkdir -p "${pkgdir}/usr/share/man/man1"
  install -m644 doc/pycrc.1 "${pkgdir}/usr/share/man/man1/"

  mkdir -p "${pkgdir}/usr/share/licenses/pycrc/"
  install -m644 COPYING "${pkgdir}/usr/share/licenses/pycrc/"
}
