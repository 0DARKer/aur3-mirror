# Maintainer: James McGlashan <james[at]jamesm[dot]com[dot]au>
pkgname=oh-my-zsh-git
pkgver=20111128
pkgrel=1
pkgdesc="A handful of functions, auto-complete helpers, and stuff that makes you shout."
arch=('any')
url="http://github.com/robbyrussell/oh-my-zsh"
license=('unknown')
depends=('zsh>=4.3.9')
makedepends=('git')
optdepends=('ruby')
install='oh-my-zsh.install'
# jamesm-sitegen's fork is currently the only fork patched for a system-wide install of oh-my-zsh.
#  This fork is also more optimized for Arch, and is more patched. (custom arch-theme: cyan, blue, green red)
_gituser='jamesm-sitegen' # users=(robbyrussell jamesm-sitegen)
_gitroot="https://github.com/$_gituser/oh-my-zsh.git"
_gitname='oh-my-zsh'

build() {
  cd "$srcdir"
  msg "Connecting to GIT server.... [github:$_gituser/oh-my-zsh]"
  if [ -d $_gitname ] ; then
    cd $_gitname && git pull origin
    msg "The local files are updated."
  else
    git clone --depth=1 $_gitroot $_gitname
  fi
  msg "GIT checkout done or server timeout"
}

package() {
  install -d "$pkgdir/usr/share/oh-my-zsh"
  cp -r oh-my-zsh/* "$pkgdir/usr/share/oh-my-zsh"
}

# vim:set ts=2 sw=2 et:
