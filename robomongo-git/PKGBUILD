# Maintainer: Lucas Katayama <lucaskatayma[at]gmail[dot]com>
pkgname=robomongo-git
pkg=robomongo
pkgver=0.8.5
pkgrel=1
pkgtype=Release
pkgdesc="Shell-centric cross-platform MongoDB management tool"
url="http://robomongo.org"
arch=('x86_64' 'i686')
license=('GPLv3')
depends=("qt4" "pcre" "qjson" "qscintilla")

if [[ "$CARCH" == "x86_64" ]]; then
  iarch='64'
elif [[ "$CARCH" == "i686" ]]; then
  iarch='32'
fi

optdepends=()
makedepends=()
conflicts=()
replaces=()
backup=()
install=''
source=("https://github.com/paralect/robomongo/archive/v${pkgver}.tar.gz")
md5sums=('e203d548390282e00e2c27c5bd42b5ea')

build() {
  cd "${srcdir}/${pkg}-${pkgver}"
  mkdir -p target
  cd target
  cmake -DCMAKE_BUILD_TYPE=${pkgtype} -DOS_ARC=${iarch} -DCMAKE_INSTALL_PREFIX=${pkgdir} ..
  make
}

package() {
  cd "${srcdir}/${pkg}-${pkgver}/target"
  make install
}

# vim:set ts=2 sw=2 et:
