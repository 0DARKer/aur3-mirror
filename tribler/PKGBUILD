# Contributor: Alessio Bolognino <themolok at gmail dot com>
# Contributor: Simone Esposito <webmaster at freebnc dot net>
# Contributor: Jeremiah Dodds <jeremiah dot dodds at gmail dot com>
# Maintainer: RunningDroid <rningdrd at tormail dot com>
pkgname=tribler
pkgver=6.0.2
pkgrel=2
pkgdesc="A 4th generation file sharing system bittorrent client"
arch=('any')
url="http://www.tribler.org"
license=('LGPL2.1')
depends=('python2' 'wxpython' 'python-m2crypto>=0.16' 'python2-apsw' 'python2-netifaces' 'libswift' 'gconf')
optdepends=('vlc: watch videos in tribler'
            'python2-feedparser: download torrents listed in a rss or atom feed')
source=("http://dl.tribler.org/tribler_${pkgver}_all.deb"
        "arch-compat.patch")
md5sums=('14a051db3ce96981b70b6e2f92fe3e7d'
         '7060125eeb109fbc4f77d2c1fd671fc4')

build() {
  cd "$srcdir"

  ar vx tribler_${pkgver}_all.deb
  tar -C "$pkgdir" -xvzf data.tar.gz
  rm -r $pkgdir/usr/share/tribler/Tribler/SwiftEngine

  cd "$pkgdir"

  patch -p1 -i "$srcdir"/arch-compat.patch
}
