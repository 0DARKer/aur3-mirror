# Contributor: Doug Newgard <scimmia at archlinux dot info>
# Contributor: MacCyber <jonas.enge at gmail dot com>
# Contributor: Jonas Heinrich <onny@project-insanity.org>

pkgname=acestream-player-data
pkgver=2.1.6
pkgrel=1
_ubuntuver=raring
_ubunturel=2
pkgdesc="ACE Stream player libraries files"
arch=('i686' 'x86_64')
url="http://acestream.org/"
license=('unknown')
depends=('a52dec' 'ffmpeg-compat' 'faad2' 'libdca' 'libdvbpsi' 'libdvdnav' 'libmad'
         'libpng12' 'libmatroska' 'libmpcdec' 'libmpeg2' 'libproxy' 'libshout' 'libupnp' 'libxpm'
         'lua51' 'qt4' 'sdl_image' 'taglib' 'xcb-util-keysyms')
optdepends=('aalib: for ASCII art plugin'
            'avahi: for service discovery using bonjour protocol'
            'flac: for Free Lossless Audio Codec plugin'
            'fluidsynth: for synthesizer MIDI FluidSynth'
            'gnome-vfs: for GNOME Virtual File System support'
            'kdelibs: KDE Solid hardware integration'
            'libavc1394: for devices using the 1394ta AV/C'
            'libbluray: for Blu-Ray support'
            'libcaca: for colored ASCII art video output'
            'libcdio: for audio CD playback support'
            'libnotify: for notification plugin'   
            'libdc1394: for IEEE 1394 plugin'
            'libdvdcss: for decoding encrypted DVDs'
            'libgme: for libgme plugin'
            'libgoom2: for libgoom plugin'
            'libmtp: for MTP devices support'
            'librsvg: for SVG plugin'
            'libssh2: for sftp support'
            'libva-vdpau-driver: vdpau back-end for nvidia'
            'libva-intel-driver: back-end for intel cards'
            'lirc-utils: for lirc plugin'
            'ncurses: for ncurses interface support'
            'opus: for opus support'
            'oss: for OSS audio support'
            'portaudio: for portaudio support'
            'projectm: for ProjectM visualisation plugin'
            'smbclient: for SMB access plugin'
            'twolame: for TwoLAME mpeg2 encoder plugin'
            'vcdimager: navigate VCD with libvcdinfo'
            'xosd: for xosd support'
            'ttf-freefont: for subtitle font')
conflicts=('acestream')
if [[ "$CARCH" == "i686" ]]; then
  source=("http://repo.acestream.org/ubuntu/pool/main/a/$pkgname/${pkgname}_${pkgver}-1${_ubuntuver}${_ubunturel}_i386.deb")
  sha256sums=('3592b0785612c350e13f48d2d4b434ea67577a96e2199afccc13021ffcae2ccc')
else
  source=("http://repo.acestream.org/ubuntu/pool/main/a/$pkgname/${pkgname}_${pkgver}-1${_ubuntuver}${_ubunturel}_amd64.deb")
  sha256sums=('0abf545e37a88252837fa9a178db3ea02caaba491abf65ed09a4a77f231d4172')
fi

package() {
  cd "$srcdir"
  bsdtar -xf data.tar.gz -C "$pkgdir"

# create symlinks for libs that Ubuntu names differenly
  cd "$pkgdir/usr/lib"
  ln -s liba52.so.0.0.0 liba52-0.7.4.so
  ln -s liblua5.1.so liblua5.1.so.0
}
