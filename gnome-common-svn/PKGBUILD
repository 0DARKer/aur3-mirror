# Contributor: teddy_beer_maniac <teddy_beer_maniac@wp.pl>

pkgname=gnome-common-svn
pkgver=3913
pkgrel=1
pkgdesc="Common macros for GNOME2(SVN Version)"
arch=(i686 x86_64)
license=('GPL')
url="http://www.gnome.org"
makedepends=('autoconf' 'automake' 'subversion')
provides=('gnome-common')
conflicts=('gnome-common')
source=()
md5sums=()

_svntrunk=http://svn.gnome.org/svn/gnome-common/trunk
_svnmod=gnome-common

build() {
	cd $startdir/src
		
	if [ -d $_svnmod/.svn ]; then
		(cd $_svnmod && svn up -r $pkgver)
	else
		svn co $_svntrunk --config-dir ./ $_svnmod
	fi

	msg "SVN checkout done or server timeout"
	msg "Starting make..."

	rm -r $startdir/src/$_svnmod-build
	cp -r $_svnmod $_svnmod-build
	cd $_svnmod-build
																
	./autogen.sh
	./configure --prefix=/usr
	make || return 1
	make DESTDIR=${startdir}/pkg install
}
