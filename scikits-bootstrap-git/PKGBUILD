# Maintainer: Michael Schubert <mschu.dev@gmail>

pkgname=scikits-bootstrap-git
pkgver=20120428
pkgrel=1
pkgdesc="Bootstrap confidence interval estimation"
arch=('any')
url="https://github.com/cgevans/scikits-bootstrap"
license=('BSD')
depends=('python2-distribute')
optdepends=('python2-scipy')
makedepends=('git')

_gitroot='git://github.com/cgevans/scikits-bootstrap.git'
_gitname='scikits-bootstrap'

build()
{
  if [ -d "${srcdir}/${_gitname}" ]; then
    msg "Updating local repository..."
    cd "${srcdir}/${_gitname}"
    git pull origin master
    msg "The local files are updated."
  else
    git clone ${_gitroot} ${_gitname}
  fi
  msg "git checkout done or server timeout"

  if [ -d "${srcdir}/${_gitname}-build" ]; then
    rm -rf "${srcdir}/${_gitname}-build"
  fi
  cp -r "${srcdir}/${_gitname}" "${srcdir}/${_gitname}-build"

  msg "Starting make..."

  cd "$srcdir/$_gitname"
#  sed -i -e 's/python/python2/g' Makefile
#  make clean pyx build
  python2 setup.py build
}

package() {
    cd "$srcdir/$_gitname"
    python2 setup.py install --skip-build --root="$pkgdir" --optimize=1
} 

