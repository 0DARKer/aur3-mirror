# Contributor: Anton Bazhenov <anton.bazhenov at gmail>

pkgname=pwman3
pkgver=0.0.7
pkgrel=1
pkgdesc="A console based password management application written in Python"
arch=('any')
url="http://wiki.bleurgh.com/Pwman"
license=('GPL')
depends=('pycrypto')
optdepends=('mysql-python: for MySQL support'
            'pypgsql: for PostgreSQL support')
source=(http://ftp.debian.org/debian/pool/main/p/$pkgname/${pkgname}_$pkgver.orig.tar.gz
        $pkgname.patch)
md5sums=('6d9aab72774a191e99fdb71d3503718e'
         '3a7c4a64517db67c336d4011e176a372')

build() {
  cd "$srcdir"/$pkgname-$pkgver
  # Debian patch to use internal sqlite provided by python>=2.5
  patch -Np0 -i ../$pkgname.patch || return 1
  python setup.py install --root="$pkgdir" || return 1
}
