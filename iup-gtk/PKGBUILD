# Maintainer: Mihai Militaru <mihai dot militaru at xmpp dot ro>

pkgname=iup-gtk
pkgver=3.4
pkgrel=1
pkgdesc="C cross platform GUI toolkit"
arch=('i686' 'x86_64')
url="http://www.tecgraf.puc-rio.br/iup/"
license=('MIT')
depends=('gtk2')
makedepends=('lua' 'cd' 'im' 'mesa')

source=(http://sourceforge.net/projects/iup/files/${pkgver}/Docs%20and%20Sources/iup-${pkgver}_Sources.tar.gz)
sha1sums=('87184ea4e28cb8986315ab1657028becf9f36563')

build() {
  cd ${srcdir}/iup || return 1
  make IM_LIB=/usr/lib CD_LIB=/usr/lib LUA_LIB=/usr/lib LUA_SUFFIX="" || return 1
  mkdir -p ${pkgdir}/usr/{include,lib} || return 1

  install -m644 ${srcdir}/iup/lib/Linux*/libiup*.a ${pkgdir}/usr/lib/ || return 1 
  install -m755 ${srcdir}/iup/lib/Linux*/libiup*.so ${pkgdir}/usr/lib/ || return 1 
  install ${srcdir}/iup/include/* ${pkgdir}/usr/include/ || return 1
}
