# Contributor: Tor Krill <tor@krill.nu>
# Contributor: Lee.MaRS <leemars@gmail.com>
pkgname=gsoap
pkgver=2.8.0
pkgrel=1
pkgdesc="Offers an XML language binding to ease the development of SOAP/XML Web services in C and C/C++"
url="http://www.cs.fsu.edu/~engelen/soap.html"
license=('GPL' 'custom')
depends=('openssl' 'zlib' 'gcc-libs')
makedepends=('autoconf' 'automake')
source=(http://prdownloads.sourceforge.net/gsoap2/${pkgname}_${pkgver}.zip \
        LICENSE)
arch=('i686' 'x86_64')

build() {
	cd $startdir/src/gsoap-2.8

	aclocal
	autoheader
	automake --add-missing
	autoconf
	automake
	./configure --prefix=/usr

	make -j1 || return 1
	make DESTDIR=$startdir/pkg install

	mkdir -p $startdir/pkg/usr/share/gsoap/import
	mkdir -p $startdir/pkg/usr/share/gsoap/WS
	cp -R gsoap/import $startdir/pkg/usr/share/gsoap/
	cp -R gsoap/WS $startdir/pkg/usr/share/gsoap/

	install -D ../LICENSE $startdir/pkg/usr/share/licenses/$pkgname/LICENSE
}

md5sums=('742af0914ce4a60e156f08bf38777a33'
         '27aaa3f5166db94d44044c11a7b2c37b')
