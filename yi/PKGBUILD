# Contributor: Arch Haskell Team <arch-haskell@haskell.org>
# Package generated by cabal2arch 0.7.3
# Note: we list all package dependencies.
# Your package tool should understand 'provides' syntax
#
# Keep up to date on http://archhaskell.wordpress.com/
#
pkgname=yi
pkgrel=1
pkgver=0.6.5.0
pkgdesc="The Haskell-Scriptable Editor"
url="http://hackage.haskell.org/package/yi"
license=('GPL')
arch=('i686' 'x86_64')
makedepends=('alex' 'haddock')
depends=('gmp' 'ghc' 'haskell-cabal' 'haskell-diff>=0.1' 'haskell-diff<0.2'
         'haskell-quickcheck>=2.1.0.2'
         'haskell-array' 'haskell-binary>=0.5' 'haskell-binary<0.6'
         'haskell-bytestring>=0.9.1' 'haskell-bytestring<0.9.3'
         'haskell-cautious-file>=1.0.1' 'haddock' 'haskell-containers'
         'haskell-data-accessor>=0.2.1.4' 'haskell-data-accessor<0.3'
         'haskell-data-accessor-mtl>=0.2' 'haskell-data-accessor-mtl<0.3'
         'haskell-data-accessor-template>=0.2.1.3' 'haskell-data-accessor-template<0.2.2'
         'haskell-derive>=2.4' 'haskell-derive<2.7' 'haskell-directory' 'haskell-dlist>=0.4.1'
         'haskell-dyre>=0.7' 'haskell-filepath>=1.1' 'haskell-filepath<1.4'
         'haskell-fingertree<0.1' 'haskell-ghc-paths>=0.1' 'haskell-ghc-paths<0.2'
         'haskell-hint>0.3.1' 'haskell-mtl>=0.1.0.1' 'haskell-old-locale'
         'haskell-pointedlist-legacy>=0.3.5' 'haskell-pointedlist-legacy<0.4' 'haskell-process'
         'haskell-puremd5>=0.2.3' 'haskell-random' 'haskell-regex-base>=0.93'
         'haskell-regex-base<0.94' 'haskell-regex-tdfa>=1.1' 'haskell-regex-tdfa<1.2'
         'haskell-rosezipper>=0.1' 'haskell-rosezipper<0.3' 'haskell-split>=0.1' 
         'haskell-split<0.2' 'haskell-template-haskell>=2.4' 'haskell-template-haskell<2.8'
         'haskell-time>=1.1' 'haskell-time<1.5' 'haskell-uniplate' 'haskell-unix-compat>=0.1'
         'haskell-unix-compat<0.4' 'haskell-utf8-string>=0.3.1' 'haskell-hashable<1.2'
         'haskell-unordered-containers>=0.1.3' 'haskell-unordered-containers<0.3'
         'haskell-concrete-typerep>=0.1' 'haskell-concrete-typerep<0.2'
         'haskell-glib>=0.12' 'haskell-glib<0.13' 'haskell-gtk>=0.12' 'haskell-gtk<0.13'
         'haskell-pango>=0.12' 'haskell-pango<0.13' 'haskell-vty>=4.7' 'haskell-vty<5')
options=('strip')
source=(http://hackage.haskell.org/packages/archive/yi/$pkgver/yi-$pkgver.tar.gz)
md5sums=('fb8a6c9387502b4619cb384215b74c0e')
install=yi.install
build() {
    cd ${srcdir}/yi-$pkgver
    runhaskell Setup configure --prefix=/usr --docdir=/usr/share/doc/${pkgname} -fvty -fpango
    runhaskell Setup build
    runhaskell Setup haddock
    runhaskell Setup register   --gen-script
    runhaskell Setup unregister --gen-script
    install -D -m744 register.sh   ${pkgdir}/usr/share/haskell/$pkgname/register.sh
    install    -m744 unregister.sh ${pkgdir}/usr/share/haskell/$pkgname/unregister.sh
    install -d -m755 $pkgdir/usr/share/doc/ghc/html/libraries
    ln -s /usr/share/doc/${pkgname}/html ${pkgdir}/usr/share/doc/ghc/html/libraries/yi
    runhaskell Setup copy --destdir=${pkgdir}
}
