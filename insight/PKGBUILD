# Contributor: Philipp Robbel <robbel@gmail.com>

pkgname=insight
pkgver=6.8
pkgrel=1
pkgdesc="A graphical interface to the GNU debugger"
arch=('i686')
url="http://sourceware.org/insight/"
license=('GPL')
depends=('libx11')
install=('insight.install')
source=(ftp://sourceware.org/pub/insight/releases/$pkgname-$pkgver.tar.bz2 insight.profile)
md5sums=('b403972b35520399663c7054e8132ca9' '16dddd252c8d64a1f4757626ee895b03')
build() {
  cd $startdir/src/$pkgname-$pkgver
  ./configure --prefix=/opt/insight --mandir=/opt/insight/share/man --infodir=/opt/insight/share/info
  make || return 1
  make prefix=$startdir/pkg/opt/insight mandir=$startdir/pkg/opt/insight/share/man infodir=$startdir/pkg/opt/insight/share/info install || return 1
  rm -rf $startdir/pkg/opt/insight/share/info

  # environment variables
  mkdir -p $startdir/pkg/etc/profile.d
  install -m755 $startdir/${pkgname}.profile $startdir/pkg/etc/profile.d/${pkgname}.sh
}
