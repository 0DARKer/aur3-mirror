# Maintainer: Xiao-Long Chen <chenxiaolong@cxl.epac.to>

pkgname=szs
pkgver=1.33a

_svnrev=4983

pkgrel=1
pkgdesc="A set of command line tools to manipulate SZS, U8, BRRES, BREFF, BREFT, BMG, KMP, TEX, TPL, and StaticR.rel files of Mario Kart Wii"
arch=('i686' 'x86_64')
url="http://szs.wiimm.de/"
license=('GPL')
depends=('libpng')
makedepends=('subversion')
provides=('szs' 'szstools')
conflicts=('szs' 'szstools')
if [ "${CARCH}" == 'x86_64' ]; then
  source=("http://szs.wiimm.de/download/${pkgname}-v${pkgver}-r${_svnrev}-x86_64.tar.gz")
  sha512sums=('b4de5b96dd3b72145f5d02bd9b7898e0f4881f88c7fadd8fa3d415dd2d2b16794fee17b80bd11c793a243d1aadf02b41472afbfd64e57203c38b41dec7847daa')
elif [ "${CARCH}" == 'i686' ]; then
  source=("http://szs.wiimm.de/download/${pkgname}-v${pkgver}-r${_svnrev}-i386.tar.gz")
  sha512sums=('5eeef8b5296b5f373c08e59d0ebe292d20d55562b6772f13696e36122e648219faeee6cfac5013c541a7acc0839eebf31b56b7d36ea2b4c9a974720f1e9676d2')
else
  echo "Unsuported architecture: ${CARCH}!" # ARM, etc...
fi

prepare() {
  cd "${srcdir}/${pkgname}-v${pkgver}-r${_svnrev}"-*/
  sed -i "s|^[ \t]*\(BASE_PATH=\).*$|\1${pkgdir}/usr|" install.sh
}

package() {
  cd "${srcdir}/${pkgname}-v${pkgver}-r${_svnrev}"-*/
  ./install.sh
}

# vim:set ts=2 sw=2 et:
