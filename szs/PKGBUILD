# Maintainer: Xiao-Long Chen <chenxiaolong@cxl.epac.to>

pkgname=szs
pkgver=0.23a

_svnrev=3243

pkgrel=1
pkgdesc="A set of command line tools to manipulate SZS, U8, BRRES, BREFF, BREFT, BMG, KMP, TEX, TPL, and StaticR.rel files of Mario Kart Wii"
arch=('i686' 'x86_64')
url="http://szs.wiimm.de/"
license=('GPL')
depends=('libpng')
makedepends=('subversion')
provides=('szs' 'szstools')
conflicts=('szs' 'szstools')
if [ "${CARCH}" == 'x86_64' ]; then
  source=("http://szs.wiimm.de/download/${pkgname}-v${pkgver}-r${_svnrev}-x86_64.tar.gz")
  sha512sums=('891922a5e1221c5b0bfde2568db3a6c5519854e02b984184db67ed87e7ca71735c91358e5caa563c036a837a8c2eb893f62a0d1f49053e037af8b943be80b549')
elif [ "${CARCH}" == 'i686' ]; then
  source=("http://szs.wiimm.de/download/${pkgname}-v${pkgver}-r${_svnrev}-i386.tar.gz")
  sha512sums=('385021477c0ce41b6a3ef494d2d608f69ca8f1b657746f2b0fbec902a14f6d990c43492bfe13faac3961d82b33639ef047f3b2ab7886ed0052dd505c7a20291e')
else
  echo "Unsuported architecture: ${CARCH}!" # ARM, etc...
fi

build() {
  cd "${srcdir}/${pkgname}-v${pkgver}-r${_svnrev}"-*
  sed -i "s|^[ \t]*\(BASE_PATH=\).*$|\1${pkgdir}/usr|" install.sh
}

package() {
  cd "${srcdir}/${pkgname}-v${pkgver}-r${_svnrev}"-*
  ./install.sh
}

# vim:set ts=2 sw=2 et:
