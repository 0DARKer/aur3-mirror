# Maintainer: Xiao-Long Chen <chenxiaolong@cxl.epac.to>

pkgname=szs
pkgver=1.16a

_svnrev=4313

pkgrel=1
pkgdesc="A set of command line tools to manipulate SZS, U8, BRRES, BREFF, BREFT, BMG, KMP, TEX, TPL, and StaticR.rel files of Mario Kart Wii"
arch=('i686' 'x86_64')
url="http://szs.wiimm.de/"
license=('GPL')
depends=('libpng')
makedepends=('subversion')
provides=('szs' 'szstools')
conflicts=('szs' 'szstools')
if [ "${CARCH}" == 'x86_64' ]; then
  source=("http://szs.wiimm.de/download/${pkgname}-v${pkgver}-r${_svnrev}-x86_64.tar.gz")
  sha512sums=('decbe1f23d2c06a45ccc12fcfc17a24db2e7dce650873accf246dcf9de398ac2665e5f9cee693ec7089485139ba610cb754476764bffd5c1fabcc7d0b7b4b296')
elif [ "${CARCH}" == 'i686' ]; then
  source=("http://szs.wiimm.de/download/${pkgname}-v${pkgver}-r${_svnrev}-i386.tar.gz")
  sha512sums=('57ef9130590442fcf78127bb37181ac59ca227e5bd454e99456936ef710750d0297cf7965e30f5d7cf90a81cdafd1ce30988fab62784e0ffae88a55c4871ca28')
else
  echo "Unsuported architecture: ${CARCH}!" # ARM, etc...
fi

prepare() {
  cd "${srcdir}/${pkgname}-v${pkgver}-r${_svnrev}"-*/
  sed -i "s|^[ \t]*\(BASE_PATH=\).*$|\1${pkgdir}/usr|" install.sh
}

package() {
  cd "${srcdir}/${pkgname}-v${pkgver}-r${_svnrev}"-*/
  ./install.sh
}

# vim:set ts=2 sw=2 et:
