# Maintainer: Xiao-Long Chen <chenxiaolong@cxl.epac.to>

pkgname=szs
pkgver=1.11a

_svnrev=4205

pkgrel=1
pkgdesc="A set of command line tools to manipulate SZS, U8, BRRES, BREFF, BREFT, BMG, KMP, TEX, TPL, and StaticR.rel files of Mario Kart Wii"
arch=('i686' 'x86_64')
url="http://szs.wiimm.de/"
license=('GPL')
depends=('libpng')
makedepends=('subversion')
provides=('szs' 'szstools')
conflicts=('szs' 'szstools')
if [ "${CARCH}" == 'x86_64' ]; then
  source=("http://szs.wiimm.de/download/${pkgname}-v${pkgver}-r${_svnrev}-x86_64.tar.gz")
  sha512sums=('109803eba0d2f3642537e68ef59b752bd4acc15f8ccd9a50fe110cc6220f9d884dcee4ae91da3303ebb23f3131d1081af8839efabe611654147446e3e44a0559')
elif [ "${CARCH}" == 'i686' ]; then
  source=("http://szs.wiimm.de/download/${pkgname}-v${pkgver}-r${_svnrev}-i386.tar.gz")
  sha512sums=('d20952442de91c6d734c626621416d650a8e2eb5733a593cbf413b04f10023ed94cc72d4e93cabc31d9679ae961c9e9422468d62163e7897c6d998e4c5ce34e1')
else
  echo "Unsuported architecture: ${CARCH}!" # ARM, etc...
fi

build() {
  cd "${srcdir}/${pkgname}-v${pkgver}-r${_svnrev}"-*
  sed -i "s|^[ \t]*\(BASE_PATH=\).*$|\1${pkgdir}/usr|" install.sh
}

package() {
  cd "${srcdir}/${pkgname}-v${pkgver}-r${_svnrev}"-*
  ./install.sh
}

# vim:set ts=2 sw=2 et:
