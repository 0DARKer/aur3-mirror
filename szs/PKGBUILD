# Maintainer: Xiao-Long Chen <chenxiaolong@cxl.epac.to>

pkgname=szs
pkgver=0.32a

_svnrev=3593

pkgrel=1
pkgdesc="A set of command line tools to manipulate SZS, U8, BRRES, BREFF, BREFT, BMG, KMP, TEX, TPL, and StaticR.rel files of Mario Kart Wii"
arch=('i686' 'x86_64')
url="http://szs.wiimm.de/"
license=('GPL')
depends=('libpng')
makedepends=('subversion')
provides=('szs' 'szstools')
conflicts=('szs' 'szstools')
if [ "${CARCH}" == 'x86_64' ]; then
  source=("http://szs.wiimm.de/download/${pkgname}-v${pkgver}-r${_svnrev}-x86_64.tar.gz")
  sha512sums=('00433feabf32a7c741f1a4eeb8a296feb67b81e1a73fbefe397935c97f43a1eb41c577265ab9102d5341a91829ff8ba36a7293d9c4f3a00c2fd0e968cc21f7be')
elif [ "${CARCH}" == 'i686' ]; then
  source=("http://szs.wiimm.de/download/${pkgname}-v${pkgver}-r${_svnrev}-i386.tar.gz")
  sha512sums=('5ab3decb145d03369e5f7093471beeb93e9ff3de886dd5ab736a789aefe020a9c61dc31d232325e360ca58f64684e0277c2d97baf0804b446c3ba9eb8545988d')
else
  echo "Unsuported architecture: ${CARCH}!" # ARM, etc...
fi

build() {
  cd "${srcdir}/${pkgname}-v${pkgver}-r${_svnrev}"-*
  sed -i "s|^[ \t]*\(BASE_PATH=\).*$|\1${pkgdir}/usr|" install.sh
}

package() {
  cd "${srcdir}/${pkgname}-v${pkgver}-r${_svnrev}"-*
  ./install.sh
}

# vim:set ts=2 sw=2 et:
