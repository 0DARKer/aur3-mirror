# Maintainer: faerbit <faerbit at gmail dot com >

pkgname=exercism-cli
pkgver=v1.4.0
pkgrel=1
pkgdesc="Command line client for exercism.io"
arch=("i686" "x86_64")
url="https://github.com/exercism/cli"
license=("MIT")

if [[ $CARCH = "x86_64" ]]; then
    source=("https://github.com/exercism/cli/releases/download/$pkgver/exercism-linux-amd64.tgz"
            "LICENSE")
    md5sums=('24adaf52f3574f86c8c0f346ee491d8f'
             'f92fe05e2b91655399f2a8b9d24bfe41')
    sha1sums=('ee43b9974c538e143972aba35a2e5a40c8116661'
              '717dbc4d066a34f45b161fd31f2133c9adb5ab4d')
    sha256sums=('8e7719cf589e522390f35dff4f2d3b1dcb9f59ec3ad154fd1c5dee558067a550'
                '5dd14ba854091ff4226fa6c7517b57da86acbe9b6a00c36f0c031dd4f4816c90')
    sha384sums=('61260d621f53d95ccc08691cf70d3d20b4c921bca2b483b1cfbd76c7c83c822eec18454346e04d55d6773d9bd9d01839'
                'fb2c5178284bffa23b70ed3d1c65503705cf12f5c203f63f7730b19ca57c827510e9bc845d46400ef19e1d17be301f29')
    sha512sums=('46208275e559d3ca3e2a3232e87a36054013bec07eafefd2fa0ef6c945301885b0e1cb15bf237f3d0a0e56e08a620b725f18832bff4b2dd43d8edc44afd9f3b7'
                '483de940c04c0ebefc1125bba9d7802c5c8907061d62f406e50d549f06465c48102b31d9c694d8b24c0507377dfd4c1648f06d8ed73a631b4952e0497236eb30')
elif [[ $CARCH = "i686" ]]; then
    source=("https://github.com/exercism/cli/releases/download/$pkgver/exercism-linux-386.tgz"
            "LICENSE")
    md5sums=('5ec1b26f525ebb2c9cf8e961f3d476f3'
             'f92fe05e2b91655399f2a8b9d24bfe41')
    sha1sums=('1428ac8738be22d49311513ff376a1748dd6500b'
              '717dbc4d066a34f45b161fd31f2133c9adb5ab4d')
    sha256sums=('5dd4d1742aae0de36940ef18674432c85753e5b7c35166aeeb2dd9c1a3960324'
                '5dd14ba854091ff4226fa6c7517b57da86acbe9b6a00c36f0c031dd4f4816c90')
    sha384sums=('c758e681579e4a592823c93300e2f74db8feed0ba6170659a8889652aa30cde03531c7355663e07bc6a028e5d2a4794a'
                'fb2c5178284bffa23b70ed3d1c65503705cf12f5c203f63f7730b19ca57c827510e9bc845d46400ef19e1d17be301f29')
    sha512sums=('0aefbdd245e5ff2817779981595111da0db096a6b48ab1d266089d33b0dd9871120cb2e36ac22d9fa71fb79a20ff33b87585e1e935f8e4eb8907c64347f33dd5'
                '483de940c04c0ebefc1125bba9d7802c5c8907061d62f406e50d549f06465c48102b31d9c694d8b24c0507377dfd4c1648f06d8ed73a631b4952e0497236eb30')
else
    echo "Cannot determine architecture."
    exit 1
fi

package(){
    cd "$srcdir"
    install -D -m644 LICENSE "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
    install -D exercism "$pkgdir/usr/bin/exercism"
}
