# Maintainer: faerbit <faerbit at gmail dot com >

pkgname=exercism-cli
pkgver=v1.7.1
pkgrel=1
pkgdesc="Command line client for exercism.io"
arch=("i686" "x86_64")
url="https://github.com/exercism/cli"
license=("MIT")

if [[ $CARCH = "x86_64" ]]; then
    source=("https://github.com/exercism/cli/releases/download/$pkgver/exercism-linux-amd64.tgz"
            "LICENSE")
    md5sums=('7e237432c9c72f66af300078a0cc84eb'
             'f92fe05e2b91655399f2a8b9d24bfe41')
    sha1sums=('476852308fb8935a768380d7df220f489a80de81'
              '717dbc4d066a34f45b161fd31f2133c9adb5ab4d')
                  sha512sums=('a52ce9d54b1c988fa30976416b82140dd5f317daff28344f19e1fb0bd19fd5cae3bb038529e5ecfcfd0881a7658dfd3c0150730bae5623cbbc420b60bde1e03e'
'483de940c04c0ebefc1125bba9d7802c5c8907061d62f406e50d549f06465c48102b31d9c694d8b24c0507377dfd4c1648f06d8ed73a631b4952e0497236eb30')
elif [[ $CARCH = "i686" ]]; then
    source=("https://github.com/exercism/cli/releases/download/$pkgver/exercism-linux-386.tgz"
            "LICENSE")
    md5sums=('f490ce603b08fd8ec6c73dd30de4da5e'
             'f92fe05e2b91655399f2a8b9d24bfe41')
    sha1sums=('0aa88f4afa70d290a823da90211c68f19ff9cb87'
              '717dbc4d066a34f45b161fd31f2133c9adb5ab4d')
    sha512sums=('b7562eed28c363166ddae8cb771374432bc1a228f6173d441084dfb0f71e76f5400791fc3763e60d909db9cb79e01543cbba5e97e61243fd4c9c54c77aeb598f'
'483de940c04c0ebefc1125bba9d7802c5c8907061d62f406e50d549f06465c48102b31d9c694d8b24c0507377dfd4c1648f06d8ed73a631b4952e0497236eb30')

else
    echo "Cannot determine architecture."
    exit 1
fi

package(){
    cd "$srcdir"
    install -D -m644 LICENSE "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
    install -D exercism "$pkgdir/usr/bin/exercism"
}
