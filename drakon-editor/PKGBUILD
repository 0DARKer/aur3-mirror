# Maintainer: Aeternus Atterratio <atterratio (at) Gmail.com>

_realname=drakon_editor
pkgname=drakon-editor
pkgver=1.6
pkgrel=5
pkgdesc="A free cross-platform editor for the DRAKON visual language. "
arch=(any)
url="http://sourceforge.net/projects/drakon-editor/"
license=("Public Domain")
depends=("tcl" "tk" "tcllib" "sqlite3-tcl" "tkimg")
makedepends=('unzip')
source=("http://downloads.sourceforge.net/project/drakon-editor/${_realname}${pkgver}.zip" "drakon-editor" "drakon-editor.desktop")
noextract=(${_realname}${pkgver}.zip)
md5sums=('1a213b53c15c643e2fc4402f47330713' '82e067c34edab64504be8f669f320320' 'd40b2de00d8a7e98063f84b585482b1c')

build() {
  cd ${srcdir}
  unzip -o ${_realname}${pkgver}.zip -d ${pkgname}-${pkgver}
}

package() {
  cd ${srcdir}
  install -dm 755 "${pkgdir}/usr/lib/"
  cp -r "${srcdir}/${pkgname}-${pkgver}" "${pkgdir}/usr/lib/${pkgname}"
  install -Dm 755 "${srcdir}/drakon-editor" "${pkgdir}/usr/bin/drakon-editor"
  install -Dm 755 "${srcdir}/drakon-editor.desktop" "${pkgdir}/usr/share/applications/drakon-editor.desktop"
  install -Dm 644 "${srcdir}/${pkgname}-${pkgver}/images/drakon_editor.gif" "${pkgdir}/usr/share/icons/drakon-editor.gif"
}
