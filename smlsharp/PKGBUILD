# Contributor: Naoya Inada <inaoya@kushinada.org>

pkgname=smlsharp
pkgver=0.31
pkgrel=4
pkgdesc="a new generation of the Standard ML language"
arch=(i686)
url="http://www.pllab.riec.tohoku.ac.jp/smlsharp/"
license=('custom')
depends=('gmp')
makedepends=('smlnj' 'mlton')
source=(http://www.pllab.riec.tohoku.ac.jp/smlsharp/download/$pkgname-$pkgver.tar.gz)
md5sums=('aae73f890431123fe284e7bf6fb867f8')

build() {
  cd $srcdir/$pkgname-$pkgver
  ./configure --prefix=/usr || return 1
  make || return 1
  make mlton || return 1
  make DESTDIR=$pkgdir install || return 1

  for file in LICENSE SMLNJ_LICENSE; do
    install -D -m 644 $file $pkgdir/usr/share/licenses/$pkgname/$file
  done
}
