# Maintainer: tailinchu <use_my_id at gmail dot com>

pkgname=connman_dmenu-git
pkgver=2013040221
pkgrel=1
pkgdesc="taylorchu's connman_dmenu repo (git version)"
arch=('any')
url="http://github.com/taylorchu/connman_dmenu"
license=('GPL2')
depends=('bash' 'connman' 'dmenu')
makedepends=('git')
conflicts=()
provides=()

_gitroot="https://github.com/taylorchu/connman_dmenu.git"
_gitname="connman_dmenu"

build() {
    cd "$srcdir"
    msg "Connecting to GIT server..."
    if [[ -d "$_gitname" ]] ; then
        cd "$_gitname" && git pull origin
        msg "The local files are updated."
    else
        git clone --depth 1 "$_gitroot" "$_gitname"
    fi
    msg "GIT checkout done or server timeout"
    
    cd "$srcdir/$_gitname"
}

package() {
    cd "$srcdir/$_gitname"
    make PREFIX=/usr DESTDIR="$pkgdir" install
}

