# Contributor: Rodrigo Grumiche Silva <grumiche@integrityit.com.br>
pkgname=soci
pkgver=3.1.0
pkgrel=3
pkgdesc='It is a database access library for C++ that makes the illusion of embedding SQL queries in the regular C++ code, staying entirely within the Standard C++.'
arch=( 'i686' 'x86_64' )
url="http://soci.sf.net"
license=('custom:boost')
groups=()
depends=( 'postgresql-libs' 'libmysqlclient' 'sqlite3' 'libiodbc'  )
makedepends=( 'gcc' 'tcl' 'postgresql-libs' 'libmysqlclient' 'boost' 'sqlite3' 'libiodbc'  )
optdepends=( 'instantclient-basic: to access oracle databases' )
provides=()
conflicts=()
replaces=()
backup=()
options=()
install=
source=("http://sourceforge.net/projects/soci/files/soci/$pkgname-$pkgver/$pkgname-$pkgver.zip/download" )
        
noextract=()

md5sums=('6ffac090b996bc34aedf4a29adf4595c')
    
build() {
  if [ !  -d "$srcdir/$pkgname-$pkgver/build" ]; then
    mkdir "$srcdir/$pkgname-$pkgver/build" || return 1
  fi
  cd "$srcdir/$pkgname-$pkgver/build" || return 1
  #patch -p1 < $startdir/soci.patch || return 1
  #./configure --include-prefix="$pkgdir/usr/include/soci" --lib-prefix="$pkgdir/usr/lib/" || return 1
  cmake -D CMAKE_INSTALL_PREFIX="$pkgdir/usr" .. || return 1
  make || return 1
  make install || return 1
  install -Dm0644 "$srcdir/$pkgname-$pkgver/LICENSE_1_0.txt" $pkgdir/usr/share/licenses/$pkgname/LICENSE
}

# vim:set ts=2 sw=2 et:

