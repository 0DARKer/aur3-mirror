#!/bin/bash
if [ "$(gconftool-2 -g /apps/metacity/general/theme 2>&1 | grep 'No value set for')" != "" ] && [ -f ~/.config/xfce4/xfconf/xfce-perchannel-xml/xsettings.xml ] && [ "$(grep 'Adwaita-Manjaro-dark' ~/.config/xfce4/xfconf/xfce-perchannel-xml/xsettings.xml)" != "" ]; then
	gconftool-2 -s /apps/metacity/general/theme -t string Adwaita-Manjaro-dark
elif [ "$(gconftool-2 -g /apps/metacity/general/theme 2>&1 | grep 'No value set for')" != "" ]; then
	gconftool-2 -s /apps/metacity/general/theme -t string compiz-xfce-greybird
fi

if [ "$(gconftool-2 -g /apps/metacity/general/titlebar_uses_system_font 2>&1 | grep 'No value set for')" != "" ]; then
	gconftool-2 -s /apps/metacity/general/titlebar_uses_system_font -t bool true
fi

if [ "$(gconftool-2 -g /apps/metacity/general/button_layout 2>&1 | grep 'No value set for')" != "" ]; then
	gconftool-2 -s /apps/metacity/general/button_layout -t string ":minimize,maximize,close"
fi

if [ -f /etc/xdg/xfce4/xfconf/xfce-perchannel-xml/xfce4-session.xml ] && [ "$(grep -i 'compiz' ~/.config/xfce4/xfconf/xfce-perchannel-xml/xfce4-session.xml)" == "" ]; then
	mv ~/.config/xfce4/xfconf/xfce-perchannel-xml/xfce4-session.xml ~/.config/xfce4/xfconf/xfce-perchannel-xml/xfce4-session.xml.backup
	cp /etc/xdg/xfce4/xfconf/xfce-perchannel-xml/xfce4-session.xml ~/.config/xfce4/xfconf/xfce-perchannel-xml/xfce4-session.xml
fi
