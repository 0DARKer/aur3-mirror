# Maintainer: petRUShka <petrushkin[at]yandex[dot]ru>
pkgname=sencha-cmd
pkgver=3.0.0.250
pkgrel=5
pkgdesc="Sencha Cmd is the cornerstone to build your Sencha application. From scaffolding a new project, to minifying and deploying your application to production, Sencha Cmd provides a full set of lifecycle management features to compliment your Sencha project."
url="http://www.sencha.com/products/sencha-cmd"
arch=('x86_64' 'i686')
license=('SENCHA Cmd LICENSE v3.0')
depends=()
optdepends=()
makedepends=()
conflicts=()
replaces=()
backup=()
#install='foo.install'

if [ "${CARCH}" = "x86_64" ]; then
  _sencha_installer=SenchaCmd-$pkgver-linux-x64.run
  md5sums=('94282f7ae89b8adf6f1918fd251f8644')
else
  _sencha_installer=SenchaCmd-$pkgver-linux.run
  md5sums=('4282412f3f917cf39fbc30bbcac65155')
fi

source=("http://cdn.sencha.io/senchacmd/$_sencha_installer.zip")

build() {
#  cd "${srcdir}/"
  chmod +x $_sencha_installer
}

package() {
  cd "${srcdir}"
  ./$_sencha_installer --mode unattended --prefix $pkgdir/opt
  install -Dm644 "$pkgdir/opt/Sencha/Cmd/$pkgver/LICENSE" "$pkgdir/usr/share/licenses/$pkgname/COPYING"
  mkdir -p $pkgdir/usr/bin/
  cat > "$pkgdir/usr/bin/sencha-cmd" <<DELIM
#!/bin/sh
/opt/Sencha/Cmd/$pkgver/sencha \$@
DELIM
  chmod o+x "$pkgdir/usr/bin/sencha-cmd"
}

# vim:set ts=2 sw=2 et:
