# Generated by Xyne::Arch::CPAN 0.07

pkgname=perl-gbrowse
pkgver=2.260
pkgrel=1
pkgdesc="The GMOD Generic Genome Browser"
arch=('i686' 'x86_64')
url="http://search.cpan.org/dist/GBrowse/"
license=('perl')
source=('http://search.cpan.org/CPAN/authors/id/L/LD/LDS/GBrowse-2.26.tar.gz')
md5sums=('88662f33b8ba133e981135ddb8d83084')
sha256sums=('73dc670cd9b19256bf32feecdc5bce8e8db3adc81438631932689bb424321bd0')
depends=('perl-bio-graphics>=2.090' 'perl-bioperl' 'perl-cgi-session>=4.020' 'perl-digest-md5' 'perl-extutils-cbuilder' 'perl-file-temp' 
'perl-gd>=2.070' 'perl-io-string' 'perl-json' 'perl-libwww' 'perl-storable' 'perl>=5.0.8')
makedepends=('perl-capture-tiny' 'perl-extutils-cbuilder' 'perl-module-build>=0.360')
optdepends=('perl-bio-das' 'perl-bio-db-bigfile' 'perl-bio-db-sam' 'perl-crypt-ssleay' 'perl-db_file-lock' 'perl-dbd-mysql' 'perl-dbd-pg' 'perl-dbd-sqlite' 'perl-dbi' 'perl-digest-sha' 'perl-fcgi' 'perl-file-nfslock' 'perl-gd-svg' 'perl-math-bigint' 'perl-net-openid-consumer' 'perl-net-smtp-ssl' 'perl-template')
provides=('perl-bio-db-gff-aggregator-match_gap=0.000' 'perl-bio-db-gff-aggregator-reftranscript=0.100' 'perl-bio-db-gff-aggregator-waba_alignment=0.200' 'perl-bio-db-gff-aggregator-wormbase_gene=0.300' 'perl-bio-db-seqfeature-store-bedloader=0.000' 'perl-bio-db-tagger-mysql=0.000' 'perl-bio-db-tagger-tag=0.000' 'perl-bio-db-tagger=1.000' 'perl-bio-graphics-browser2-action=0.000' 'perl-bio-graphics-browser2-authorizedfeaturefile=0.000' 'perl-bio-graphics-browser2-cachedtrack=0.000' 'perl-bio-graphics-browser2-calign=0.000' 'perl-bio-graphics-browser2-database=0.000' 'perl-bio-graphics-browser2-dataloader-bam=0.000' 'perl-bio-graphics-browser2-dataloader-bed=0.000' 'perl-bio-graphics-browser2-dataloader-bigwig=0.000' 'perl-bio-graphics-browser2-dataloader-featurefile=0.000' 'perl-bio-graphics-browser2-dataloader-generic=0.000' 'perl-bio-graphics-browser2-dataloader-gff3=0.000' 'perl-bio-graphics-browser2-dataloader-gff=0.000' 'perl-bio-graphics-browser2-dataloader-sam=0.000' 'perl-bio-graphics-browser2-dataloader-wiggle=0.000' 'perl-bio-graphics-browser2-dataloader=0.000' 'perl-bio-graphics-browser2-datasource=0.000' 'perl-bio-graphics-browser2-externaldata=0.000' 'perl-bio-graphics-browser2-gffhelper=0.000' 'perl-bio-graphics-browser2-i18n=0.000' 'perl-bio-graphics-browser2-markup=0.000' 'perl-bio-graphics-browser2-optionpick=0.000' 'perl-bio-graphics-browser2-padalignment=0.000' 'perl-bio-graphics-browser2-plugin-authplugin=0.000' 'perl-bio-graphics-browser2-plugin=0.300' 'perl-bio-graphics-browser2-pluginset=0.000' 'perl-bio-graphics-browser2-realign=0.000' 'perl-bio-graphics-browser2-region=0.000' 'perl-bio-graphics-browser2-regionsearch=0.000' 'perl-bio-graphics-browser2-remoteset=0.000' 'perl-bio-graphics-browser2-render-html=0.000' 'perl-bio-graphics-browser2-render-login=0.000' 'perl-bio-graphics-browser2-render-slave-status=0.000' 'perl-bio-graphics-browser2-render-slave=0.000' 'perl-bio-graphics-browser2-render=0.000' 'perl-bio-graphics-browser2-renderpanels=0.000' 'perl-bio-graphics-browser2-session=0.000' 'perl-bio-graphics-browser2-shellwords=0.000' 'perl-bio-graphics-browser2-subtracktable=0.000' 'perl-bio-graphics-browser2-trackdumper=0.000' 'perl-bio-graphics-browser2-userdb=0.500' 'perl-bio-graphics-browser2-usertracks-database=0.000' 'perl-bio-graphics-browser2-usertracks-filesystem=0.000' 'perl-bio-graphics-browser2-usertracks=0.000' 'perl-bio-graphics-browser2-util=0.000' 'perl-bio-graphics-browser2=2.260' 'perl-bio-graphics-gbrowsefeature=0.000' 'perl-bio-graphics-karyotype=0.000' 'perl-cgi-toggle=0.000' 'perl-legacy-db-syntenyblock=0.000' 'perl-legacy-db-syntenyio=0.000' 'perl-legacy-graphics-browser-i18n=1.010' 'perl-legacy-graphics-browser-pagesettings=0.000' 'perl-legacy-graphics-browser-synteny=0.010' 'perl-legacy-graphics-browser-util=0.000' 'perl-legacy-graphics-browser=1.170')
options=(!emptydirs)

build() {
  _dir=$(find $srcdir -maxdepth 2 -type f -name 'Makefile.PL')
  if [ ! -z "$_dir" ]; then
    cd $(dirname "$_dir")
    PERL_MM_USE_DEFAULT=1 perl Makefile.PL INSTALLDIRS=vendor || return 1
    make  || return 1
    make install DESTDIR="${pkgdir}" || return 1

  else
  _dir=$(find $srcdir -maxdepth 2 -type f -name 'Build.PL')
  if [ ! -z "$_dir" ]; then
    cd $(dirname "$_dir")
    PERL_MM_USE_DEFAULT=1 perl Build.PL INSTALLDIRS=vendor || return 1
    ./Build  || return 1
    ./Build install destdir=${pkgdir} || return 1

  else
    echo "error: failed to detect build method for $pkgname"
    echo "you may be able to fix this by editing the PKGBUILD"
    return 1
  fi fi

  # remove perllocal.pod and .packlist
  find ${pkgdir} -name perllocal.pod -delete
  find ${pkgdir} -name .packlist -delete
}

# vim:set ts=2 sw=2 et:

