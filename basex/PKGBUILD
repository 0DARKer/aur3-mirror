# Contributor: Christopher Heien <chris.h.heien@gmail.com>

pkgname=basex
pkgver=6.3.3
pkgrel=1
pkgdesc="Java libraries for processing and visualization of XML data." 
arch=('i686' 'x86_64')
url="http://www.inf.uni-konstanz.de/dbis/basex/index"
license=('BSD')
depends=('java-runtime')
source=(http://www.inf.uni-konstanz.de/dbis/$pkgname/maven/org/$pkgname/$pkgname/$pkgver/$pkgname-$pkgver.jar basex-gui BaseX.desktop)
sha1sums=('99e4545b2511cdcfa63872397430e8edb8d4f107'
          'c81ae33eececcf75ec83a5e1ef8a9f6190812ad8'
          '8c08c4b84d06649ef1e494d84a6c236d3e033a99')


build() {
  mkdir -p $pkgdir/usr/share/java/$pkgname || return 1
  mkdir -p $pkgdir/usr/bin || return 1
  mkdir -p $pkgdir/usr/share/applications || return 1
  mkdir -p $pkgdir/usr/share/java/$pkgname/img || return 1
   
  cp -a $srcdir/$pkgname-$pkgver.jar $pkgdir/usr/share/java/$pkgname/$pkgname.jar || return 1
  
  cd $pkgdir/usr/share/java/$pkgname/ || return 1 
  cp -a $srcdir/img/icon.png img/icon.png || return 1
  #chmod +x $srcdir/basex-gui || return 1

  install --mode=0755 $srcdir/basex-gui $pkgdir/usr/bin/basex-gui || return 1
  install --mode=0755 $srcdir/BaseX.desktop $pkgdir/usr/share/applications/BaseX.desktop || return 1
  
}

