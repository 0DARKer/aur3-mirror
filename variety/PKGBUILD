# vim:set ts=2 sw=2 et:
# Maintainer: xzy3186 <xzy3186@gmail.com>

pkgname=variety
pkgver=0.4.11
pkgrel=1
pkgdesc='Variety wallpaper changer is an app that changes the wallpaper on a regular interval using user-specified or automatically downloaded images.'
url="https://launchpad.net/variety"
license=('GNU GPL v3')
depends=('python2' 'libnotify' 'python2-configobj' 'pyexiv2' 'python2-pycurl' 'gtk3' 'python2-dbus' 'gobject-introspection' 'python2-imaging' 'gdk-pixbuf2' 'python2-beautifulsoup4' 'libwebkit3' 'libappindicator3' 'yelp' 'imagemagick' 'python2-lxml' 'python2-distutils-extra')
arch=('any')
source=("https://launchpad.net/${pkgname}/trunk/${pkgver}/+download/${pkgname}_${pkgver}.tar.gz")
md5sums=('bbbb9f056615c7ee7aa69f1bc4ae20b6')

package() {
  cd "${srcdir}/${pkgname}"
  for file in $(grep -R "/usr/bin/python" . | cut -f1 -d :)
  do
    sed -i "s|usr/bin/python$|usr/bin/python2|g" $file
  done

  python2 setup.py install --root="${pkgdir}/"
}
