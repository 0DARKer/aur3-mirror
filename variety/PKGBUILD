# vim:set ts=2 sw=2 et:
# Maintainer: xzy3186 <xzy3186@gmail.com>

pkgname=variety
pkgver=0.4.15
pkgrel=2
pkgdesc='Variety wallpaper changer is an app that changes the wallpaper on a regular interval using user-specified or automatically downloaded images.'
url="https://launchpad.net/variety"
license=('GNU GPL v3')
depends=('python2' 'libnotify' 'python2-configobj' 'python2-gobject' 'pyexiv2' 'python2-pycurl' 'gtk3' 'python2-dbus' 'python2-imaging' 'python2-beautifulsoup4' 'libwebkit3' 'yelp' 'imagemagick' 'python2-lxml')
makedepends=('python2-distutils-extra')
arch=('any')

#_bzrtrunk="lp:variety"
#_bzrmod="variety"
source=("https://launchpad.net/variety/trunk/${pkgver}/+download/${pkgname}_${pkgver}.tar.gz")
md5sums=('2d9a078d6fb9685b62799884280e6f42')
install=$pkgname.install

package() {
  cd "${srcdir}/${pkgname}"
  #for file in $(grep -R "/usr/bin/python" . | cut -f1 -d :)
  #do
  #  sed -i "s|usr/bin/python$|usr/bin/python2|g" $file
  #done

  python2 setup.py install --root="${pkgdir}/" --optimize=1
  ### fix for libboost_python1.52 ###
  #ln -s /usr/lib/libboost_python.so.1.52.0 ${pkgdir}/usr/lib/libboost_python.so.1.50.0
}
