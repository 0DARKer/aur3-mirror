# Maintainer: OS Hazard <oshazard+aur@gmail.com>

pkgname=clanlib-gl1
pkgver=2.3.6
pkgrel=1
pkgdesc="Clanlib GL1 library .so from Fedora"
arch=('i686' 'x86_64')
url="http://clanlib.org/"
license=('zlib')
depends=('clanlib>=2.3.0')
makedepends=('rpmextract')
_rpmrel=11
_fc=fc20
_arch=$(uname -m)
source=(ftp://ftp.is.co.za/mirror/fedora.redhat.com/linux/development/rawhide/x86_64/os/Packages/c/ClanLib-$pkgver-$_rpmrel.$_fc.x86_64.rpm)
md5sums=('e414f1bdb061f3b642221fbc8cd855bb')

if [ ${_arch} = "x86_64" ]; then
  source=(ftp://ftp.is.co.za/mirror/fedora.redhat.com/linux/development/rawhide/x86_64/os/Packages/c/ClanLib-$pkgver-$_rpmrel.$_fc.x86_64.rpm)
  md5sums=('e414f1bdb061f3b642221fbc8cd855bb')
elif [ ${_arch} = "i686" ]; then
  source=(ftp://ftp.is.co.za/mirror/fedora.redhat.com/linux/development/rawhide/i386/os/Packages/c/ClanLib-$pkgver-$_rpmrel.$_fc.i686.rpm)
  md5sums=('3b97a245ea0e23ff1a93c9263fef0570')
else
  unset source
fi

package () {
  cd $srcdir

  if [ ${_arch} = "i686" ]; then 
    mkdir -p $pkgdir/usr/lib
    cp usr/lib/libclan23GL1-2.3.so.1.0.0 ${pkgdir}/usr/lib/libclan23GL1-2.3.so.1.0.0
	cd ${pkgdir}/usr/lib/
	ln -s libclan23GL1-2.3.so.1.0.0 libclan23GL1-2.3.so.1
  elif [ ${_arch} = "x86_64" ]; then
    mkdir -p $pkgdir/usr/lib64
    cp usr/lib64/libclan23GL1-2.3.so.1.0.0 ${pkgdir}/usr/lib64/libclan23GL1-2.3.so.1.0.0
	cd ${pkgdir}/usr/lib64/
	ln -s libclan23GL1-2.3.so.1.0.0 libclan23GL1-2.3.so.1
  fi
}

