# $Id: PKGBUILD 38419 2011-01-27 03:19:11Z cbrannon $
# Maintainer: Chris Brannon <cmbrannon79@gmail.com>
# Contributor: giniu <gginiu@gmail.com>
pkgname=python-foolscap-i2p
pkgver=0.6.1
pkgrel=1
pkgdesc="RPC protocol for Python and Twisted over I2P network"
license=('MIT')
url="http://foolscap.lothar.com/"
arch=(any)
depends=('twisted' 'python2' 'python2-pyopenssl')
makedepends=('python2-distribute')
conficts=("python-foolscap")
provide=("python-foolscap")
options=(!emptydirs)
source=("http://foolscap.lothar.com/releases/foolscap-${pkgver}.tar.gz"
        http://killyourtv.i2p.to/tahoe-lafs/patches/foolscap-i2p-$pkgver-r0.patch)

package() {
  cd "$srcdir/foolscap-$pkgver"
  patch -Np1 -i ${srcdir}/foolscap-i2p-$pkgver-r0.patch
  python2 setup.py install --prefix=/usr --root="$pkgdir" --optimize=1
  install -Dm644 LICENSE "$pkgdir/usr/share/licenses/${pkgname}/LICENSE"
}
md5sums=('7e5af58b98f1fe43302c0888527cc383'
         '84ba2773e955c958952d5f91e047bae6')
