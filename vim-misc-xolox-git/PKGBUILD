# vim:set ts=2 sw=2 et ft=sh tw=100: expandtab
# Maintainer: Piotr Rogo≈ºa <rogoza dot piotr at gmail dot com>

pkgname=vim-misc-xolox-git
_pkgname=xolox-vim-misc
pkgver=20130315
pkgrel=1
pkgdesc='Miscellaneous auto-load Vim scripts'
arch=('any')
url='http://peterodding.com/code/vim/misc'
license=('MIT')
makedepends=(git)
conflicts=(vim-misc-xolox)
provides=(vim-misc-xolox)
_gitroot='git://github.com/xolox/vim-misc.git'
_gitname='vim-misc'
md5sum=('SKIP')

build(){
  cd "$srcdir"
  msg2 "Connecting to GIT server...."

  if [ -d ${_gitname}/.git ] ; then
    cd $_gitname
    git pull origin
    msg2 "The local files are updated."
  else
    git clone $_gitroot $_gitname
    cd $_gitname
  fi
  msg2 "GIT checkout done or server timeout"
}
package(){
  cd "$srcdir"/$_gitname
  _vim_dir='/usr/share/vim/vimfiles/autoload/xolox/misc'
  install -dm755 "$pkgdir"$_vim_dir
  cp *.vim "$pkgdir"/$_vim_dir/
}
