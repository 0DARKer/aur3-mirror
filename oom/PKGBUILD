pkgname=oom
pkgver=2.0beta
pkgrel=1
pkgdesc="Open Octave Midi - A workflow centric midi sequencer."
arch=('i686' 'x86_64')
url="http://www.openoctave.org/"
license=('GPL2')
depends=('qt>=4.6.0' 'libsndfile' 'libsamplerate' 'jack-audio-connection-kit')
makedepends=('git' 'cmake' 'dssi')
md5sums=('4b0512f092fbaec03ba0f6f3f61af594')

_gitroot="git://github.com/ccherrett/oom.git"

build() {
  msg "Connecting to GIT server..."
  if [ -d ${srcdir}/${pkgname} ]; then
    cd ${srcdir}/${pkgname} && git pull origin || return 1
  else
    git clone ${_gitroot} || return 1
    cd ${srcdir}/${pkgname}
  fi

  msg "GIT checkout done or server timeout"
  msg "Starting make..."

  cmake . -DCMAKE_INSTALL_PREFIX="/usr" || return 1
  make || return 1
  make DESTDIR="${pkgdir}" install || return 1
}

# vim:set ts=2 sw=2 et:
