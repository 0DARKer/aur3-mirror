# Maintainer: Jaroslav Lichtblau <dragonlord@aur.archlinux.org>

pkgname=suricata
pkgver=1.0.2
pkgrel=1
pkgdesc="An Open Source Next Generation Intrusion Detection and Prevention Engine"
arch=('i686')
url="http://openinfosecfoundation.org/index.php/download-suricata"
license=('GPL2')
depends=('libhtp' 'libcap-ng' 'libnet' 'libpcap' 'libyaml' 'pcre')
optdepends=('snort: suricata can use rulesets provided by snort')
source=(http://openinfosecfoundation.org/download/$pkgname-$pkgver.tar.gz)
md5sums=('57c93a22602ecc9bbe5857beeb79cb5d')

build() {
  cd ${srcdir}/$pkgname-$pkgver

  ./configure --prefix=/usr
  make
}

package() {
  cd ${srcdir}/$pkgname-$pkgver

  make DESTDIR=${pkgdir} install

  install -d ${pkgdir}/var/log/$pkgname
  install -D -m644 $pkgname.yaml ${pkgdir}/usr/share/$pkgname/$pkgname.yaml
}
