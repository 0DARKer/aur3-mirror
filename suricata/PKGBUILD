# Maintainer: Jaroslav Lichtblau <dragonlord@aur.archlinux.org>

pkgname=suricata
pkgver=1.0.5
pkgrel=1
pkgdesc="An Open Source Next Generation Intrusion Detection and Prevention Engine"
arch=('i686')
url="http://openinfosecfoundation.org/index.php/download-suricata"
license=('GPL2')
depends=('libhtp' 'libcap-ng' 'libnet' 'libpcap' 'libyaml' 'pcre')
optdepends=('snort: suricata can use rulesets provided by snort')
source=(http://openinfosecfoundation.org/download/$pkgname-$pkgver.tar.gz)
sha256sums=('7381236165d37b5974cbb51ee58884413e49529ce223d96ba467ddecdb3a4e33')

build() {
  cd ${srcdir}/$pkgname-$pkgver

  ./configure --prefix=/usr --sysconfdir=/etc/$pkgname
  make
}

package() {
  cd ${srcdir}/$pkgname-$pkgver

  make DESTDIR=${pkgdir} install

  install -d ${pkgdir}/var/log/$pkgname
  install -D -m644 $pkgname.yaml ${pkgdir}/usr/share/$pkgname/$pkgname.yaml
}
