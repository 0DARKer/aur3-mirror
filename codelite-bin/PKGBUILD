# Contributor: Zeph <zeph33@gmail.com>
# Maintainer: Zeph <zeph33@gmail.com>
pkgname=codelite-bin
pkgver=5.1.0
pkgrel=1
pkgdesc="Cross platform IDE for the C/C++ programming languages"
arch=('i686' 'x86_64')
url="http://www.codelite.org/"
license=('GPL')
depends=('wxgtk2.9>=2.9.4')
pkgdesc="Open-source, cross platform IDE for the C/C++ programming languages"

#http://codelite.co.uk/ubuntu/dists/quantal/universe/binary-i386/Packages.gz
#http://codelite.co.uk/ubuntu/dists/quantal/universe/binary-amd64/Packages.gz

makedepends=('binutils' 'rpmextract')
install=codelite.install
replaces=('codelite' 'codelite-svn')
provides=('codelite')

if [[ $CARCH == i686 ]]; then
	source=('http://repos.codelite.org/rpms/fedora/codelite-5.1-1.fc18.i686.rpm' 'http://repos.codelite.org/wxCrafterLibs/fedora/32/wxcrafter-1.1-1.i686.rpm')
	md5sums=('f39226d28e58c9a87e35b01c44cb4acc' '6ba6a033f60a79e2be1a3d3ea4a0d491')
else
	source=('http://repos.codelite.org/rpms/fedora/codelite-5.1-1.fc18.x86_64.rpm' 'http://repos.codelite.org/wxCrafterLibs/fedora/64/wxcrafter-1.1-1.x86_64.rpm')
	md5sums=('40eebcfe0ed0e5e71e33547da385637d' 'f474dc3aa09c4b54b815e16e59aacadf')
fi

build() {
    cd $srcdir/
	rpmextract.sh codelite-5.1-1.fc18.$CARCH.rpm
	rpmextract.sh wxcrafter-1.1-1.$CARCH.rpm
	if [[ $CARCH == x86_64 ]]; then
		mv ./usr/lib64 ./usr/lib
	fi
	mv ./usr/lib/codelite/libwx_gtk2u_webview* ./usr/lib/
	rm -f ./usr/lib/codelite/libwx_*
	mv ./usr/lib/libwx_gtk2u_webview* ./usr/lib/codelite/
    cp -r $srcdir/usr $pkgdir
}
