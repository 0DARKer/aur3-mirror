# Contributor: d'Ronin <daronin@2600.com>

pkgname=perl-mldbm
pkgver=2.01
pkgrel=1
pkgdesc="A perl module dedicated to storing multi-level hash structure in single level tied hash"
depends=('perl' 'glibc')
license=('GPL' 'PerlArtistic')
url="http://cpan.org/modules/by-module/MLDBM"
source=(http://cpan.org/modules/by-module/MLDBM/MLDBM-$pkgver.tar.gz)
md5sums=('99550ae2cffbc0bb3eb0358631077c10')
options=('!emptydirs')
arch=(i686 x86_64)
build()
{
  cd $startdir/src/MLDBM-$pkgver

  perl Makefile.PL || return 1
  make || return 1
  make DESTDIR=$startdir/pkg install || return 1

  # Change installation directory to current and remove directory that contains perllocal.pod
  mv $startdir/pkg/usr/lib/perl5/site_perl/?.?.? $startdir/pkg/usr/lib/perl5/site_perl/current
  rm -r $startdir/pkg/usr/lib/perl5/?.?.?
}
