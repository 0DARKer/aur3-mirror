# Maintainer: Tolga HOŞGÖR <fasdfasdas@gmail.com>                                
# Contributor: Henning Mueller <henning@orgizm.net>                              
                                                                                 
pkgname=fritzing                                                                 
pkgver=0.9.0b                                                                    
pkgrel=5                                                                        
pkgdesc='PCB layout prototyping application'                                     
arch=('i686' 'x86_64')                                                           
url=http://fritzing.org                                                          
license=(GPL3)                                                                   
makedepends=('boost>=1.55')                                                      
depends=('qt5-base>=5.2.1' 'qt5-script>=5.2.1' 'qt5-svg>=5.2.1' 'qt5-webkit>=5.2.1' 'qt5-xmlpatterns>=5.2.1')
source=(                                                                         
  http://fritzing.org/download/$pkgver/source-tarball/fritzing-$pkgver.source.tar_1.bz2
  fritzing.desktop                                                               
)                                                                                
sha512sums=('66a87729679fddb7156e74745b235125836ae7647dce111ef8952a10a86323e6add441fd4b584b123887664e6297ca84e68798d6d94135fa2ac3244da7a446dd'
            '3b86d383cc232362fcd30542659722d0707ea79def1830d9ce3517413d25e8c2c2c6f83c65e567d53d2324bb3b9ec9697133f658a768351aa53b5cd0be3b1742')
                                                                                 
build() {                                                                        
  cd $srcdir/fritzing*source                                                     
  qmake-qt5 && make                                                              
}                                                                                
                                                                                 
package() {                                                                      
  _destdir=usr/share/$pkgname                                                    
                                                                                 
  cd $srcdir/fritzing*source                                                     
                                                                                 
  mkdir -p $pkgdir/{$_destdir,usr/{bin,share/applications}}                      
  cp -r {parts,pdb,bins,sketches,translations,Fritzing,Fritzing.sh} $pkgdir/$_destdir
  cp -rf resources/parts $pkgdir/$_destdir                                       
                                                                                 
  cp $srcdir/fritzing.desktop $pkgdir/usr/share/applications                     
  ln -s /$_destdir/Fritzing $pkgdir/usr/bin/fritzing                             
}
