# Contributors:
#   henning mueller <henning@orgizm.net>

pkgname=fritzing
pkgver=0.7.11b
pkgrel=2
pkgdesc='PCB layout prototyping application'
arch=(i686 x86_64)
url=http://fritzing.org
license=(GPL3)
depends=(qt)
source=(
  http://fritzing.org/download/$pkgver/source-tarball/fritzing-$pkgver.source.tar.bz2
  fritzing.desktop
)
sha256sums=(
  51da9ccc4048aa628f88933f11b0487581a80b4471c7cbb0a0c530296eb09ab2
  bb817f6ed55f079ddb0076bbb7ad96cf6ef254b825e711142bf62e50586510ed
)

build() {
  cd $srcdir/fritzing*source
  qmake && make
}

package() {
  _destdir=usr/share/$pkgname

  cd $srcdir/fritzing*source

  mkdir -p $pkgdir/{$_destdir,usr/{bin,share/applications}}
  cp -r {parts,bins,sketches,translations,Fritzing,Fritzing.sh} $pkgdir/$_destdir
  cp -rf resources/parts $pkgdir/$_destdir

  cp $srcdir/fritzing.desktop $pkgdir/usr/share/applications
  ln -s /$_destdir/Fritzing $pkgdir/usr/bin/fritzing
}
