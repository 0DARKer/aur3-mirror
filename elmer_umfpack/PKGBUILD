# Contributor: Christoph Siegenthaler < csi@gmx.ch >
# Contributor: Thomas Dziedzic

pkgname=elmer_umfpack
pkgver=4542
pkgrel=1
pkgdesc='Elmer is a simulation tool for CFD, FEM, electromagnetics, heat transfer and others featuring a PDE solver.'
license=('unknown')
arch=('i686' 'x86_64')
makedepends=('gcc-fortran')
url='http://www.csc.fi/elmer/'
source=("ftp://ftp.funet.fi/pub/sci/physics/elmer/src/elmerfem-trunk-svn$pkgver-2010-08-12.tar.gz")
md5sums=('c2f67c28e4088d3007570a29cc5bbe41')

build() {
  cd trunk/umfpack

  export FC=gfortran
  export F77=gfortran
  ./configure --prefix=/opt/elmer || return 1

  make || return 1

  mkdir -p "$pkgdir/opt/elmer"
  make DESTDIR="$pkgdir" install || return 1
}
