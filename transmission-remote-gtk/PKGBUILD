# Maintainer: PitBall

pkgname=transmission-remote-gtk
pkgver=0.5.1
pkgrel=2
pkgdesc="GTK application for remote management of the Transmission BitTorrent client via its RPC interface"
arch=(i686 x86_64)
license=('GPL2')
depends=('json-glib' 'curl' 'libproxy' 'libnotify' 'libunique' 'gconf' 'geoip' 'desktop-file-utils' 'hicolor-icon-theme')
makedepends=('pkgconfig' 'intltool')
install="${pkgname}.install"
options=('!libtool')
url="http://code.google.com/p/transmission-remote-gtk/"
source=("http://transmission-remote-gtk.googlecode.com/files/${pkgname}-${pkgver}.tar.gz"
	curl.patch)

sha1sums=('a06f2cbd557aaf41923642bc55886b90265c9fd8'
          'e8207767e4ff1c3082ecfcb57802d69191242fb5')

build()
{
  cd "${srcdir}/${pkgname}-${pkgver}"
  #fix compile error in finding curl/types.h
  patch -Np0 -i $srcdir/curl.patch

  ./configure --prefix=/usr --sysconfdir=/etc \
  --disable-schemas-install \
  --with-gconf-schema-file-dir="/usr/share/gconf/schemas" 

  make

  make DESTDIR="${pkgdir}" install

  #add optional link in pixmaps folder
  install -dm755 ${pkgdir}/usr/share/pixmaps
  cd ${pkgdir}/usr/share/pixmaps
  ln -s ../icons/hicolor/scalable/apps/transmission-remote-gtk.svg transmission-remote-gtk.svg  
}
