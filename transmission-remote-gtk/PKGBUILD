# Maintainer: PitBall

pkgname=transmission-remote-gtk
pkgver=0.3
pkgrel=3
pkgdesc="GTK application for remote management of the Transmission BitTorrent client via its RPC interface"
arch=(i686 x86_64)
license=('GPL2')
depends=('gtk2>=2.20.0' 'json-glib>=0.8' 'curl' 'libproxy' 'libnotify' 'geoip')
makedepends=('pkgconfig' 'intltool')
install="${pkgname}.install"
options=('!libtool')
url="http://code.google.com/p/transmission-remote-gtk/"
source=("http://transmission-remote-gtk.googlecode.com/files/${pkgname}-${pkgver}.tar.gz" pl-0.3.po)
md5sums=('3755d69c5e165b696c1eefeac5df3840'
         '838614c464f1688f1f27ffbe22bfd291')

build()
{
  cd "${srcdir}/${pkgname}-${pkgver}"
  #Add Polish translation
  sed 's/\"Properties\"/_(\"Properties\")/' -i src/trg-menu-bar.c  
  cp ${srcdir}/pl-0.3.po po/pl.po || return 1
  echo "pl" >> po/LINGUAS || return 1
  #Configure
  ./configure --prefix=/usr --sysconfdir=/etc \
  --disable-schemas-install \
  --with-gconf-schema-file-dir="/usr/share/gconf/schemas" || return 1
  #Compile
  make || return 1
  #Install
  make DESTDIR="${pkgdir}" install || return 1
}
