# Maintainer: aksr <aksr at t-com dot me>

pkgname=ircii-current
pkgver=1
pkgrel=1
pkgdesc="IRC and ICB client that runs under most UNIX platforms"
arch=('i686' 'x86_64')
url="http://www.eterna.com.au/ircii/"
license=('BSD')
depends=('lftp' 'ncurses')
conflicts=(ircii)
source=("ftp://ircii.warped.com/pub/ircII/${pkgname}.tar.bz2")
md5sums=('28658339791f14c265f09f022510136d')

# Needed to download source:
DLAGENTS=('ftp::/usr/bin/lftpget -c')


build() {
  cd "${srcdir}/ircii"

  # Compile
  ./configure --prefix=/usr --mandir=/usr/share/man || return 1
  make || return 1
}

package() {
  cd "${srcdir}/ircii"

  # Install program files
  sed -i "s_/usr/libexec_/usr/bin_" Makefile
  make DESTDIR="${pkgdir}" install || return 1

  # Install the license
  install -Dm644 doc/Copyright "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"
}
