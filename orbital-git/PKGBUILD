# Maintainer: Gary DeLaney <gld1982ltd@gmail.com>
# Contributor: Joel Teichroeb <joel@teichroeb.net>

_pkgname=orbital
pkgname=$_pkgname-git
pkgver=r742.cd28719
pkgrel=1
pkgdesc="A Wayland shell client"
arch=(i686 x86_64)
url="https://github.com/giucam/orbital"
license=('LGPL')
makedepends=('git' 'cmake')
depends=('weston-orbital-git' 'qt5-tools' 'qt5-wayland' 'oxygen-icons')
optdepends=('solid')
provides=("$_pkgname")
conflicts=("$_pkgname")
source=(git://github.com/giucam/orbital.git)
sha1sums=('SKIP')

pkgver() {
  cd "$_pkgname"
    printf "r%s.%s" "$(git rev-list --count HEAD)" "$(git rev-parse --short HEAD)"
}


prepare() {
	cd orbital
	mkdir -p build
}

build() {
	cd orbital/build
	cmake -DCMAKE_INSTALL_PREFIX=/usr ..
	make
}

package() {
	cd orbital/build

	make DESTDIR=${pkgdir} install
}
