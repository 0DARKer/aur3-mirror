# Contributor: abenson <adrian.benson@yahoo.co.nz>

pkgname=python2-netcdf4
pkgver=0.9.6
pkgrel=1
pkgdesc="A python library for reading, manpiulating and creating netcdf files"
arch=('x86_64' 'i686')
url="http://code.google.com/p/netcdf4-python"
license=('MIT')

builddepends=()
depends=('python2' 'netcdf>=4.1' 'hdf5>=1.8.4' 'python2-numpy')
optdepends=('python-netcdf4: python 3 version')
source=(http://netcdf4-python.googlecode.com/files/netCDF4-${pkgver}.tar.gz
        'license.txt')
md5sums=('760e81dc3e64036c5a503e119b33e50e'
         'd3b89c97de68de49328b557d21de8adc')

build() {
    cd "$srcdir"/netCDF4-$pkgver
    USE_NCCONFIG=1 python2 setup.py build || return 1
}

package() {
    cd "$srcdir"/netCDF4-$pkgver
    python2 setup.py install --prefix=/usr --root="$pkgdir" || return 1
    
    mkdir -p "$pkgdir"/usr/share/doc/${pkgname}/{docs,test,examples}

    install -m644 test/*        "$pkgdir"/usr/share/doc/$pkgname/test
    install -m644 docs/*        "$pkgdir"/usr/share/doc/$pkgname/docs
    install -m644 examples/*    "$pkgdir"/usr/share/doc/$pkgname/examples
    install -m644 "$pkgdir"/usr/bin/* "$pkgdir"/usr/share/doc/$pkgname/examples
    rm -r "$pkgdir"/usr/bin
    
    install -Dm644 "$srcdir"/license.txt \
            "$pkgdir"/usr/share/licenses/$pkgname/license.txt || return 1
}
# vim: set et sw=4 ts=4 sts=4:
