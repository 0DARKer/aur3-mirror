# Contributor : Geraud Le Falher <daureg@gmail.com>

pkgname=texworks-svn
pkgver=638
pkgrel=1
pkgdesc="A TeX IDE inspired by TeXShop."
url="http://tug.org/texworks"
license=('GPL2')
arch=('i686' 'x86_64')
source=()
md5sums=()
depends=( 'poppler-qt' 'hunspell' )
makedepends=('subversion')
optdepends=('texlive-core')
conflicts=('texworks')
provides=('texworks')
_svntrunk=http://texworks.googlecode.com/svn/trunk
_svnmod=texworks-read-only

build() {
  cd ${srcdir}
  msg "Connecting to $_svnmod SVN server..."
  if [ -d $_svnmod/.svn ]; then 
    (cd $_svnmod && svn up -r $pkgver) 
  else 
    svn co $_svntrunk --config-dir ./ -r $pkgver $_svnmod 
  fi 
  msg "SVN checkout done or server timeout"
  cd $_svnmod
  qmake
  make || return 1
  install -d $pkgdir/usr/bin 
  install texworks $pkgdir/usr/bin
}
# vim: set ft=sh ts=2 sw=2 et:
