# Contributor: SaThaRiel <sathariel74[at]gmail(dot)com>
pkgname=libgpod-teuf-git
pkgver=20100214
pkgrel=3
pkgdesc="libgpod is a shared library to access the contents of an iPod. Alpha version with experimental ipod nano 5g support."
arch=(i686 x86_64)
license=('LGPL')
depends=('gtk2>=2.10.14' 'libxml2' 'sg3_utils')
makedepends=('perlxml' 'swig' 'git' 'intltool' 'gtk-doc')
url="http://gitorious.org/~teuf/libgpod/teuf-sandbox/commits/nano5g"
options=(!libtool)
source=()
conflicts=('libgpod' 'libgpod-git')
provides=('libgpod=0.7.2' 'libgpod-git')
md5sums=()

_gitroot=git://gitorious.org/~teuf/libgpod/teuf-sandbox.git
_gitname=teuf-sandbox

build() {
    cd $startdir/src
  
    msg "Connecting to libgpod GIT server...."
    
    if [ -d $startdir/src/$_gitname ] ; then
        cd $_gitname && git pull
        msg "The local files are updated."
    else
        git clone $_gitroot
        cd $_gitname
    fi

  ./autogen.sh 
  ./configure --prefix=/usr
  make || return 1
  make DESTDIR=${startdir}/pkg install || return 1
}
