pkgname=eof-svn
pkgver=1.71
pkgrel=2
pkgdesc="A song editor for Frets on Fire"
arch=('i686' 'x86_64')
url="http://http://code.google.com/p/editor-on-fire/"
license=('BSD')
source=('EoF' 'EoF.desktop')
install=eof.install
md5sums=('c1f9788f91e7fd47c955451bda6e82fb' 'a78ec3a756bd390438bcf85192ae1282')
depends=('allegro' 'zlib' 'libpng' 'libogg' 'libvorbis')
makedepends=('subversion')
 
build() {
  cd $srcdir
  if [ -d eof ]; then
    cd eof && svn up
  else
    svn co http://editor-on-fire.googlecode.com/svn/trunk/ eof
    cd eof
  fi
  make
}

package() {
  cd $srcdir
  mkdir -p $pkgdir/usr/bin
  mkdir -p $pkgdir/usr/share/eof
  mkdir -p $pkgdir/usr/share/applications
  mkdir -p $pkgdir/usr/share/pixmaps
  mkdir -p $pkgdir/usr/share/licenses/eof
  cp EoF $pkgdir/usr/bin
  cp EoF.desktop $pkgdir/usr/share/applications/
  cd eof
  cp license.txt $pkgdir/usr/share/licenses/eof/
  cp -r bin $pkgdir/usr/share/eof/
  mv $pkgdir/usr/share/eof/bin/eof.ico $pkgdir/usr/share/pixmaps/EoF.ico
  chmod -R 777 $pkgdir/usr/share/eof
}
