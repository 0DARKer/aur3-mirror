# Maintainer: Pierre Bourdon <delroth@gmail.com>

pkgname=mingw32-openal
pkgver=1.12.854
pkgrel=1
pkgdesc="OpenAL audio library build for Mingw32."
arch=(any)
url="http://connect.creativelabs.com/openal/"
license=('GPL2')
makedepends=('mingw32-gcc' 'mingw32-w32api' 'mingw32-dx7-headers' 'cmake')
source=(http://connect.creativelabs.com/openal/Downloads/openal-soft-${pkgver}.tbz2
        toolchain.cmake)
md5sums=('fbf36451fdebd6466edbdc0ee7db9603'
         'fe685689b427a1a0c0e76f8dfbad5a9f')

build() {
  cd $srcdir/openal-soft-$pkgver/build

  unset LDFLAGS

  cmake -DCMAKE_TOOLCHAIN_FILE=../../toolchain.cmake \
        -DCMAKE_INSTALL_PREFIX=/usr/i486-mingw32 ..
  make DESTDIR=${pkgdir} install
}
