# Contributor: Xyne <xyne at archlinux dot us>
pkgname=gausssum
pkgver=2.1.5
pkgrel=1
pkgdesc="A Program for getting results of Gaussian and GAMESS"
depends=('tcl' 'tk' 'gnuplot' 'python' 'python-numpy' 'pil')
arch=('i686')
license=('GPL')
url="http://gausssum.sourceforge.net"
source=(http://prdownloads.sourceforge.net/gausssum/GaussSum-${pkgver}.tar.gz)
md5sums=('3b4d41816884ea806972f502c034ff13')
install=gausssum.install

build() {
	cd ${srcdir}/GaussSum-${pkgver}
	mkdir -p ${pkgdir}/usr/bin || return 1
	mkdir -p ${pkgdir}/usr/share/doc || return 1
	mkdir -p ${pkgdir}/usr/share/applications || return 1
	mkdir -p ${pkgdir}/usr/share/pixmaps || return 1
	sed '16asys.path.append("/usr/share")' GaussSum.py > GaussSum
	install -D -m755 GaussSum ${pkgdir}/usr/bin/gausssum || return 1
	cp -r Docs ${pkgdir}/usr/share/doc/gausssum || return 1
	chmod -R 755 ${pkgdir}/usr/share/doc/gausssum
	cp -r gausssum ${pkgdir}/usr/share/gausssum || return 1
	chmod -R 755 ${pkgdir}/usr/share/gausssum
	install -D -m644 GaussSum.ico ${pkgdir}/usr/share/pixmaps/gausssum.ico || return 1
	cat > GaussSum.desktop <<EOF
[Desktop Entry]
Type=Application
Encoding=UTF-8
Name=GaussSum
Comment=Program for Parsing Results of Gaussian and GAMESS
Exec=/usr/bin/gausssum
Icon=/usr/share/pixmaps/gausssum.ico
Categories=Application;Education;
EOF
	install -m644 GaussSum.desktop ${pkgdir}/usr/share/applications/gausssum.desktop || return 1
}

