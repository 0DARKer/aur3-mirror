# Maintainer: Raymond Smith <raymondbarrettsmith at gmail dot com>
pkgname=daetools
pkgver=1.3.0_b3
pkgrel=1
pkgdesc="Tools for solving differential algebraic equations (DAEs)"
arch=('i686' 'x86_64')
url="http://daetools.sourceforge.net"
license=('GPL3')
depends=('python2' 'python2-numpy' 'python2-scipy' 'python2-matplotlib' 'python2-pyqt4')
makedepends=('python2-distribute')
#source=("http://sourceforge.net/projects/daetools/files/${pkgver//_b/-beta}/${pkgname}-${pkgver}-gnu_linux-${CARCH}-py27.tar.gz")
#source=("http://sourceforge.net/projects/daetools/files/${pkgver//_b/-beta}/${pkgname}-${pkgver}-gnu_linux-${CARCH}-py27.tar.gz")
source=("http://downloads.sourceforge.net/daetools/${pkgver//_b/-beta}/${pkgname}-${pkgver}-gnu_linux-${CARCH}-py27.tar.gz")
sha256sums=('f652c5e7144be75b1f83b6c958166ca4a1a30d73325e4a58c59a166f7479b387')
[ "$CARCH" = "x86_64" ] && sha256sums[0]='a0290d039c998110526f0c4acd6e3bf3d755d7ece52a68d7aac04857a5b4b069'

package() {
  cd "${srcdir}/${pkgname}-${pkgver//_b3/_b2}"
  python2 setup.py install --prefix=/usr --root="${pkgdir}" --optimize=1
  # Fix the bin scripts to call python2
  cd "${pkgdir}"
  sed -i "s|python|python2|" usr/bin/daeplotter
  sed -i "s|python|python2|" usr/bin/daeexamples
  mv usr/lib64/* usr/lib
  rmdir usr/lib64
}

# vim:set ts=2 sw=2 et tw=0:
