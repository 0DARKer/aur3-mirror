# Maintainer: Christoph J. Thompson <thompsonc@protonmail.ch>

_ver=0.4
pkgname=freeblocks
pkgver=0.4.gf6a8212
pkgrel=1
pkgdesc="Tetris Attack-like puzzle game"
arch=('i686' 'x86_64')
url="http://github.com/dorkster/freeblocks"
license=('GPL3')
depends=('sdl' 'sdl_image' 'sdl_mixer' 'sdl_ttf')
makedepends=('git')
source=("${pkgname}::git+https://github.com/dorkster/freeblocks.git"
        freeblocks.install)
sha256sums=('SKIP'
            'c20e899df28939abd84fd3ec0e2e62058e85da0a42e123af732cdaabb7da177e')

pkgver() {
  cd "${pkgname}"
  printf "${_ver}.g%s" \
    "$(git rev-parse --short HEAD)"
}

build() {
  cd "${pkgname}"
  cmake -DCMAKE_INSTALL_PREFIX=/usr .
  make
}

package() {
  cd "${pkgname}"
  make DESTDIR="${pkgdir}" install
}
