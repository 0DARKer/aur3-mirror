# Contributor: Slash <demodevil5[at]yahoo[dot]com>

pkgname=jwm-svn
pkgver=148
pkgrel=1
pkgdesc="A lightweight window manager for the X11 Window System (SVN Version)"
url="http://joewing.net/programs/jwm"
license="GPL"
depends=('libx11')
makedepends=('autoconf subversion')
conflicts=('jwm')
provides=('jwm')
backup=('etc/system.jwmrc')
source=()
#install=$pkgname.install
md5sums=()

_svntrunk=https://jwm.svn.sourceforge.net/svnroot/jwm
_svnmod=jwm

build() {
	cd $startdir/src
	
	# Get Latest Source Code
	svn co $_svntrunk --config-dir ./ -r $pkgver $_svnmod

	msg "SVN checkout done or server timeout"
	msg "Starting make..."

	# Install
	cd $_svnmod/$_svnmod

	# JWM svn needs to be setup with a config file first
	autoconf

	./configure --prefix=/usr --sysconfdir=/etc --enable-debug
	make || return 1
	make BINDIR=$startdir/pkg/usr/bin MANDIR=$startdir/pkg/usr/man \
	SYSCONF=$startdir/pkg/etc install || return 1
		
}
