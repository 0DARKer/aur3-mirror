# Maintainer Denis Demidov <dennis.demidov@gmail.com>
pkgname=hpx-git
pkgrel=1
pkgver=20141224
pkgdesc="A general purpose C++ runtime system for parallel and distributed applications of any scale"
arch=("any")
url="http://stellar-group.org/libraries/hpx"
depends=("boost" "gperftools")
makedepends=("git" "cmake")
conflicts=("hpx")
license=("boost")
options=("staticlibs")

source="git://github.com/STEllAR-GROUP/hpx.git"
md5sums=("SKIP")

pkgver() {
    date +%Y%m%d
}

build() {
    cd "${srcdir}/hpx"

    mkdir build
    cd build
    cmake .. \
        -DCMAKE_INSTALL_PREFIX=/usr \
        -DHPX_BUILD_EXAMPLES=OFF \
        -DHPX_BUILD_TESTS=OFF
    make
}

package() {
    cd "${srcdir}/hpx/build"
    make DESTDIR="${pkgdir}" install
}
