# Maintainer: Det <nimetonmaili at gmail a-dot com>
# Contributor: Adam Hani Schakaki (krzd) <krzd@krzd.net>
# Based on the gnome-desktop package trunk

_pkgbase=gnome-desktop
pkgname=gnome-desktop-3.0
pkgver=2.91.91
pkgrel=1
pkgdesc='The GNOME 3 Desktop'
arch=('i686' 'x86_64')
url='http://www.gnome.org'
license=('GPL' 'LGPL')
depends=('gconf' 'startup-notification>=0.10' 'gtk3' 'glib2>=2.25.9' 'gdk-pixbuf2>=2.21.3' 'gsettings-desktop-schemas-dev>=0.1.7')
makedepends=('gnome-doc-utils>=0.20.0' 'intltool' 'gobject-introspection')
provides=("gnome-desktop=$pkgver-$pkgrel")
options=(!libtool)
source=(http://ftp.gnome.org/pub/GNOME/sources/${_pkgbase}/2.91/${_pkgbase}-${pkgver}.tar.bz2)
sha256sums=(`wget ${source/.t*}.sha256sum -qO - | grep tar.bz2 | cut -d " " -f1`)

build() {
  cd ${_pkgbase}-${pkgver}
  export PYTHON=/usr/bin/python2
  ./configure --prefix=/usr --sysconfdir=/etc --localstatedir=/var --disable-static \
      --with-gnome-distributor="Archlinux" -disable-scrollkeeper --disable-desktop-docs
  make
}

package() {
  cd ${_pkgbase}-${pkgver}
  make DESTDIR="${pkgdir}" install
}