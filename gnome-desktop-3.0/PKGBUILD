# Maintainer: Adam Hani Schakaki (krzd) <krzd@krzd.net>
# Based on the official [extra]'s gnome-desktop

_pkg=gnome-desktop 
pkgname=gnome-desktop-3.0
pkgver=2.91.6.1
_majorver=(`echo $pkgver | egrep -o '[0-9]+\.[0-9]*+'`)
pkgrel=1
pkgdesc='The GNOME 3 Desktop'
arch=('i686' 'x86_64')
url='http://www.gnome.org'
license=('GPL' 'LGPL')
depends=('gconf' 'startup-notification>=0.10' 'gtk3' 'glib2>=2.25.9' 'gdk-pixbuf2>=2.21.3' 'gsettings-desktop-schemas>=0.1.4')
makedepends=('gnome-doc-utils>=0.20.0' 'intltool')
optdepends=('pygtk: gnome-about')
provides=("gnome-desktop=$pkgver-$pkgrel")
options=(!libtool)
source=(http://ftp.gnome.org/pub/gnome/sources/${_pkg}/${_majorver}/${_pkg}-${pkgver}.tar.bz2)
sha256sums=(`wget ${source/.t*}.sha256sum -qO - | grep tar.bz2 | cut -d " " -f1`)

build() {
  cd "${_pkg}-${pkgver}"
  export PYTHON=/usr/bin/python2
  ./configure --prefix=/usr --sysconfdir=/etc \
      --localstatedir=/var --disable-static \
      --disable-scrollkeeper --disable-desktop-docs
  make
}
 
package() {
  cd "${_pkg}-${pkgver}"
  make DESTDIR="${pkgdir}" install
}

