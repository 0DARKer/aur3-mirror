# Contributor: Frozen Fox <frozenfoxz@gmail.com>

pkgname=ufw-frontends-gtk
_pkgbasename=ufw-frontends
pkgver=0.3.1
pkgrel=1
pkgdesc="Graphical frontend for Uncomplicated FireWall"
arch=('any')
url="http://code.google.com/p/ufw-frontends/"
license=('GPL3')
depends=('ufw' 'pygtk' 'sudo' 'gksu' 'python2' 'python2-pyinotify')
makedepends=('')
source=(http://${_pkgbasename}.googlecode.com/files/${_pkgbasename}-${pkgver}${_pkgverext}.tar.gz messages.patch)
install=
conflicts=('ufw-frontends-qt')
md5sums=('a7df3cd1b38427d888712cafc407755e'
	 '9bc965b01da8344bac33ead3231359c7')
build() {
  cd ${srcdir}/${_pkgbasename}-${pkgver}
  patch -p1 -i $srcdir/messages.patch
  python2 setup.py build install --root=${pkgdir} || return 1
  sed -i 's/su-to-root -X -c/gksu/g' ${pkgdir}/usr/share/applications/ufw-gtk.desktop
}
