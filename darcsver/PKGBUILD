# Contributor: Peter Simons <simons@cryp.to>
# Contributor: Nicolas Pouillard <nicolas.pouillard@gmail.com>
pkgname=darcsver
pkgver=1.7.2
pkgrel=1
pkgdesc="generate a version number from darcs history"
arch=('i686' 'x86_64')
url='http://allmydata.org/trac/darcsver'
license=('BSD')
groups=()
depends=('python2')
#required for tests that I disabled due to an unfixed packaging issue
#makedepends=('pythonmock')
makedepends=()
provides=()
conflicts=()
replaces=()
backup=()
options=()
install=
source=( http://pypi.python.org/packages/source/d/darcsver/darcsver-$pkgver.tar.gz )
noextract=()
md5sums=('94ca7e8c9ea0f69c0f3fc6f9fc88f65a')

build(){
  cd "$srcdir/$pkgname-$pkgver" || return 1
  python2 setup.py build || return 1
  #python2 setup.py test || return 1
}

package(){
  cd "$srcdir/$pkgname-$pkgver" || return 1
  python2 setup.py install --root="$pkgdir" || return 1
}
