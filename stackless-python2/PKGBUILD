# Maintainer: Thomas Dziedzic < gostrc at gmail >
# Contributor: Sven-Hendrik Haase <sh@lutzhaase.com>

pkgname=stackless-python2
pkgver=2.7
pkgrel=1
pkgdesc='Python is a high-level scripting language. Stackless is an experimental implementation that supports continuations, generators, microthreads, and coroutines.'
url='http://www.stackless.com'
arch=('i686' 'x86_64')
depends=('db' 'gdbm' 'openssl' 'tk')
conflicts=('python')
provides=('python=2.7')
license=('PSFLv2') # Python Software Foundation License Version 2; GPL-compatible
source=("http://www.stackless.com/binaries/stackless-${pkgver//./}-export.tar.bz2")
md5sums=('e8526bb9f6dbb048f1392dc2c6442591')

build() {
  cd stackless-27-export

  ./configure \
    --prefix=/usr/local \
    --with-threads \
    --enable-stacklessfewerregisters \
    --enable-shared

  make
}

package() {
  cd stackless-27-export

  make DESTDIR=${pkgdir} install
}
