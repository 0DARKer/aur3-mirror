diff -aur old/configure new/configure
--- old/configure	2011-01-16 14:01:44.453354844 +0100
+++ new/configure	2011-01-16 14:25:19.110021633 +0100
@@ -86,10 +86,9 @@
   fi
 }
 
-CFLAGS=""
-CPPFLAGS=""
-LDFLAGS=""
-OPTIM=""
+CPPFLAGS="$CXXFLAGS"
+LDFLAGS="$LDFLAGS"
+OPTIM="$CFLAGS"
 
 do_echo -n "Determining compiler version to use... "
 select_tool CXX g++    icc `(IFS=':'; for s in $PATH;do cd "$s"&&echo g++-*;done) 2>/dev/null`
@@ -401,33 +400,6 @@
   done
 fi  
 
-(echo "Your CPU has these features:"
- grep flags /proc/cpuinfo | uniq | sed 's/.*://' | tr ' ' '\012'|sort|grep .|(fmt -w60||cat)|sed 's/^/- /'
-) >> $DEVNULL
-
-if [ ! "$CC" = "icc" ]; then
-  cpu_check MMX   mmx   -mmmx   __MMX__
-  cpu_check 3dnow 3dnow -m3dnow
-  cpu_check SSE   sse   -msse   __SSE__
-  cpu_check SSE2  sse2  -msse2  __SSE2__
-  cpu_check SSE3  sse3  -msse3  __SSE3__
-  cpu_check SSSE3 ssse3 -mssse3 __SSSE3__
-  #cpu_check ABM   abm   -abm    __SSE4_2__
-  cpu_check sahf  lahf_lm -msahf HAS_SAHF
-else
-  # ICC can only take one (1) cpu feature flag, so we test these options
-  # in age succession and choose the options from the last succeeding test.
-  # We use the -ax options rather than the -x options so that the code
-  # will still run on processors lacking those features.
-  BEST_CPUFEATURE=""
-  OPTIM_BACKUP="$OPTIM"
-  cpu_check SSE   sse   -xK            __SSE__
-  cpu_check SSE2  sse2  -xW            __SSE2__
-  cpu_check SSE3  sse3  "-xO -msse3"   __SSE3__
-  cpu_check SSSE3 ssse3 "-xT -mssse3"  __SSSE3__
-  OPTIM="$OPTIM_BACKUP $BEST_CPUFEATURE"
-fi
-
 do_echo "Updating Makefile.sets ..."
 
 DATE="`LC_ALL=C date`"
