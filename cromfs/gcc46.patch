diff -ur cromfs-1.5.9.1/lib/fsballocator.hh cromfs-1.5.9.1.new/lib/fsballocator.hh
--- cromfs-1.5.9.1/lib/fsballocator.hh	2010-12-21 15:17:57.000000000 +0100
+++ cromfs-1.5.9.1.new/lib/fsballocator.hh	2011-06-13 19:26:40.008219466 +0200
@@ -28,6 +28,7 @@
 
 #include <new>
 #include <cassert>
+#include <cstddef>
 #include <vector>
 
 #ifdef FSBALLOCATOR_USE_THREAD_SAFE_LOCKING_BOOST
diff -ur cromfs-1.5.9.1/lib/lzma.hh cromfs-1.5.9.1.new/lib/lzma.hh
--- cromfs-1.5.9.1/lib/lzma.hh	2010-12-21 15:17:57.000000000 +0100
+++ cromfs-1.5.9.1.new/lib/lzma.hh	2011-06-13 19:27:51.795049774 +0200
@@ -2,6 +2,7 @@
 #define HHlzmaHH
 
 #include <vector>
+#include <cstddef>
 
 extern int LZMA_verbose;
 
diff -ur cromfs-1.5.9.1/lib/sparsewrite.cc cromfs-1.5.9.1.new/lib/sparsewrite.cc
--- cromfs-1.5.9.1/lib/sparsewrite.cc	2010-12-21 15:17:57.000000000 +0100
+++ cromfs-1.5.9.1.new/lib/sparsewrite.cc	2011-06-13 19:27:30.178334432 +0200
@@ -23,6 +23,8 @@
 # include <smmintrin.h>
 #endif
 
+using namespace std;
+
 template<unsigned width, typename ptrtype>
 static size_t size_until_align(ptrtype p)
 {

