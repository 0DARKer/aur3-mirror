pkgname=visualization-toolkit
pkgver=5.4.2
pkgrel=1
pkgdesc='Visualization Toolkit (VTK). Buildfunction takes root-rights - otherwise it will not compile'
arch=('i686' 'x86_64')
url='http://www.vtk.org/'
license=('BSD')
makedepends=('cmake')
options=(!strip) #keep debugging symbols
source=("http://www.vtk.org/files/release/5.4/vtk-${pkgver}.tar.gz")
md5sums=('c2c797091d4b2128d9a1bd32c4b78227')

build() {
  cd VTK

  cmake \
    -DCMAKE_BUILD_TYPE:STRING=RelWithDebInfo \
    -DBUILD_TESTING:BOOL=OFF \
    -DBUILD_EXAMPLES:BOOL=OFF \
    -DBUILD_SHARED_LIBS:BOOL=ON \
    -DCMAKE_INSTALL_PREFIX:FILEPATH=/usr

  echo " "  
  echo " -------------------------------------------------------"
  echo " | tif_fax3sm.c won't compile without root-privileges. |"
  echo " | Log in as root or cancel the whole process!         |"
  echo " -------------------------------------------------------"
  echo " "
  su -c make
}

package() {
  cd VTK

  make DESTDIR="$pkgdir" install
}
