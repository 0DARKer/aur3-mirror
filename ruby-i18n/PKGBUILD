# Maintainer: Niels Martign√®ne <niels.martignene@gmail.com>
# Contributor: Anatol Pomozov <anatol.pomozov@gmail.com>
# Contributor: Alexsandr Pavlov <kidoz at mail dot ru>

pkgname=ruby-i18n
pkgver=0.6.11
pkgrel=2
pkgdesc='New wave Internationalization support for Ruby'
arch=(any)
url='https://github.com/svenfuchs/i18n'
license=('MIT')
depends=('ruby')
options=(!emptydirs)
source=("https://rubygems.org/downloads/i18n-${pkgver}.gem")
noextract=("i18n-${pkgver}.gem")
sha256sums=('b37dda25b30484f2674a851e24ae098a38564a61c976fa91a34bf8fceaa3923b')

package() {
  local _gemdir="$(ruby -e'puts Gem.default_dir')"

  gem install --ignore-dependencies --no-user-install \
    -i "${pkgdir}/${_gemdir}" -n "${pkgdir}/usr/bin" "i18n-${pkgver}.gem"

  install -D -m644 "${pkgdir}/${_gemdir}/gems/i18n-${pkgver}/MIT-LICENSE" \
    "${pkgdir}/usr/share/licenses/${pkgname}/MIT-LICENSE"
}
