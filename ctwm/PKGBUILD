# Contributor: Alexander RÃ¸dseth <rodseth@gmail.com>
# Contributor: Stefan Husmann <stefan.husmann@t-online.de>
# Contributor: flixie <69one@gmx.net>
pkgname=ctwm
pkgver=3.8a
pkgrel=8
pkgdesc="Claude's Tab Window Manager"
arch=('i686' 'x86_64')
url="http://ctwm.free.lp.se/"
license=('custom:MIT/X Consortium')
depends=('glibc')
makedepends=('imake' 'setconf')
backup=('etc/X11/ctwm/system.ctwmrc')
source=("http://ctwm.free.lp.se/dist/ctwm-3.8a.tar.gz"
        "Imakefile.local"
        "copyright")
md5sums=('ceaf40ef0f1bda3cc8b7c91144d92123'
         '6aa3163218bb5130b4f3f0ae1401cb4a'
         '27dfbec8866ff55e54f6232a2d2d2de8')

build() {
  cd "$srcdir/$pkgname-$pkgver"

  msg "Configuring..."
  setconf Imakefile CONFDIR /etc/X11/ctwm
  setconf Imakefile PIXMAPDIR /etc/X11/ctwm/images
  install -Dm644 $srcdir/Imakefile.local $srcdir/$pkgname-$pkgver
   
  msg "Building..."
  xmkmf || return 1
  make || return 1
  make DESTDIR=$pkgdir install || return 1
  make DESTDIR=$pkgdir install.man || return 1
  # The contents of the copyright file is gathered from the ctwm manpage
  install -Dm644 "$srcdir/copyright" \
    "$pkgdir/usr/share/licenses/ctwm/copyright" || return 1
}
# vim:set ts=2 sw=2 et:
