# Maintainer: Steve Engledow <steve at offend dot me dot uk>
pkgname='dmenu-notify-git'
pkgver=0.1
pkgrel=1
pkgdesc="A fork of dmenu that includes features like eager matching of options and displaying notifications without a menu"
arch=('i686' 'x86_64')
url="https://github.com/stilvoid/dmenu"
license=('MIT')
depends=('libx11')
makedepends=('git')
provides=('dmenu')
conflicts=('dmenu')
noextract=()
md5sums=() #generate with 'makepkg -g'

build() {
  cd "$srcdir"

  if [ -d dmenu ]; then
    cd dmenu
    git pull
  else
    git clone git://github.com/stilvoid/dmenu.git
  fi

  cd "$srcdir/dmenu"

  make || return 1
}

package() {
  cd "$srcdir/dmenu"
  install -Dm644 ${srcdir}/dmenu/LICENSE "${pkgdir}/usr/share/licenses/$pkgname/LICENSE"
  make MANPREFIX="$pkgdir/usr/share/man" PREFIX="$pkgdir" clean install || return 1
}

