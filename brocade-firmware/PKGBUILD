# Maintainer: Spider.007 <archPackage@spider007.net>
# Contributor: Spider.007 <archPackage@spider007.net>
packager="Spider.007 <archPackage@spider007.net>"
pkgname=brocade-firmware
pkgver=3.1.2.1
pkgrel=2
pkgdesc="Firmware for brocade adapters"
url="http://www.brocade.com/services-support/drivers-downloads/adapters/Linux.page"
install=mkinitcpio.install
groups=modules
license='custom'
source=(LICENSE "http://esd.brocade.com/s/documents/downloads/HBA/Linux/Drivers/NOARCH/bfa_fw_update_to_v$pkgver.tgz")
md5sums=('3d801d41addad546d9b8a58885bc2fa9' '95b8fd4c8f2c6706f9cb98a5ef332d13')
arch=('any')

package() {
	install -D -m644 LICENSE "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"

	cd $srcdir/bfa_fw_v3.1.2.1/
	mkdir -p $pkgdir/lib/firmware/
	cp *.bin "${pkgdir}/lib/firmware/"
	ln -s ctfw-3.1.0.0.bin "${pkgdir}/lib/firmware/ctfw.bin"
}
