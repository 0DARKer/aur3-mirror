# Maintainer: Foppe HEMMINGA <foppe@hemminga.net>
# Contributor: Anton Bazhenov <anton.bazhenov at gmail>
# Contributor: Piotr Beling <qwak@stud.ics.p.lodz.pl>

pkgname=dds
pkgver=2.2.4
pkgrel=2
pkgdesc="A bridge double dummy solver"
arch=('i686' 'x86_64')
url="http://privat.bahnhof.se/wb758135/"
license=('GPL')
source=(http://privat.bahnhof.se/wb758135/${pkgname}${pkgver//.}-src.zip
        dds.diff)
md5sums=('cf627abdb2059841710550b656909985'
         '3840329d514888fafe6a2241ac799fed')

build() {
  cd "${srcdir}"
  # The patch contains a minor warning surpressing
  # fix which is communicated upstream
  patch -p1 < ../dds.diff
  gcc ${CFLAGS} -c dds.cpp -o dds.o
  ar rc libdds.a dds.o
  ranlib libdds.a
}

package() {
  cd "${srcdir}"
  install -Dm644 dll.h "${pkgdir}/usr/include/dds.h"
  install -Dm644 libdds.a "${pkgdir}/usr/lib/libdds.a"
}
