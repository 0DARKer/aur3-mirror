# Contributor: mutlu_inek <mutlu_inek@yahoo.de>
# Maintainer: jnbek print "<",join('', qw(j n b e k), int(qw(one nine seven two)),"_AT_ geeee mail __DOT__ com",">";
pkgname=ttf-vista-fonts
pkgver=1
pkgrel=6
pkgdesc="Microsoft Vista True Type Fonts"
url="http://www.microsoft.com/en-us/download/confirmation.aspx?id=13"
license=(custom)
arch=('any')
depends=('fontconfig' 'xorg-font-utils')
makedepends=(cabextract)
conflicts=('ttf-ms-extrafonts')
provides=()
replaces=('vista-fonts')
install=$pkgname.install
source=('http://download.microsoft.com/download/E/6/7/E675FFFC-2A6D-4AB0-B3EB-27C9F8C8F696/PowerPointViewer.exe')
md5sums=('35ff8ebbea457ba426b47ff6d8377284')

build() {
    mkdir -p $srcdir/$pkgname-$pkgver
    cabextract --lowercase $srcdir/PowerPointViewer.exe -d $srcdir/$pkgname-$pkgver
    cabextract --lowercase $srcdir/$pkgname-$pkgver/ppviewer.cab -d $srcdir/$pkgname-$pkgver
    mkdir -p $pkgdir/usr/share/fonts/TTF
    install -m644 $srcdir/$pkgname-$pkgver/*.{ttf,ttc} $pkgdir/usr/share/fonts/TTF
    mv $srcdir/$pkgname-$pkgver/eula $srcdir/$pkgname-$pkgver/license.txt
    mkdir -p $pkgdir/usr/share/licenses/$pkgname
    install -D -m644 $srcdir/$pkgname-$pkgver/license.txt $pkgdir/usr/share/licenses/$pkgname
}
