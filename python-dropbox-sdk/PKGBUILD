pkgname=python-dropbox-sdk
pkgver=2.0.0
pkgrel=4
pkgdesc="Python SDK for Dropbox Core APIs"
arch=('any')
url="https://www.dropbox.com/developers/core/sdks/python"
license=('custom:MIT')
depends=('python-urllib3')
source=("https://www.dropbox.com/developers/downloads/sdks/core/python/dropbox-python-sdk-$pkgver.zip")
sha512sums=('87bb9f0988ceb9acd661f6dcd379890734ba1b7146da4ce3f55277530a09226c6fc26575c06c1e1892d4397153b7e82d531b84ef3b815648394a578d162f261d')

build() {
	msg "Starting build"
	cd "$srcdir/dropbox-python-sdk-$pkgver"
	python setup.py build
}
package() {
	#msg "Converting examples from python2 to python3"
	#cd "$srcdir/dropbox-python-sdk-$pkgver/example"
	#2to3 -wn $(ls *.py */*.py) > /dev/null
	
	msg "Running setup"
	cd "$srcdir/dropbox-python-sdk-$pkgver"
	python setup.py install --root=${pkgdir} --optimize=1
	
	msg "Adding license file"
	licensedir=$pkgdir/usr/share/licenses/$pkgname/
	mkdir -p $licensedir
	cp -ra $srcdir/dropbox-python-sdk-$pkgver/LICENSE* $licensedir
}
