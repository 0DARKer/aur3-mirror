# Maintainer: Johannes Schleifenbaum <johannes [at] js-webcoding [dot] de>
# Please report issues at https://github.com/jojosch/pkgbuilds

pkgname=nodejs-pageres
pkgver=0.2.3
pkgrel=1
pkgdesc="Get screenshots of websites in different resolutions"
arch=(any)
url="https://github.com/sindresorhus/pageres"
license=("MIT")
depends=('nodejs')
optdepends=()
source=(
    "http://registry.npmjs.org/${pkgname/nodejs-/}/-/${pkgname/nodejs-/}-$pkgver.tgz"
    "LICENSE"
)
noextract=("${pkgname/nodejs-/}-$pkgver.tgz")
sha1sums=(
    '377ef747a5bbab72ad68a89df7e8dae080cfb57b'
    '855b17174b0193c9fbcaf000327b2bcb3d4c38fd'
)

package() {
  cd "$srcdir"
  install -D -m644 LICENSE "$pkgdir/usr/share/licenses/$pkgname/LICENSE"

  local _npmdir="$pkgdir/usr/lib/node_modules/"
  mkdir -p "$_npmdir"
  cd "$_npmdir"

  npm install --user root -g --prefix "$pkgdir/usr" "${pkgname/nodejs-/}@$pkgver"
}