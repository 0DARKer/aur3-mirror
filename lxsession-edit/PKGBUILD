# Contributor: zoulnix <http://goo.gl/HQaP>
pkgname=lxsession-edit
pkgver=0.1.1
pkgrel=2
pkgdesc="Tool to manage desktop session autostarts (part of LXDE)."
arch=('i686' 'x86_64')
url="http://lxde.org/"
license=('GPL')
depends=('gtk2')
makedepends=('autoconf' 'automake' 'gcc' 'intltool' 'make' 'patch' 'pkg-config')
options=('!libtool')
groups=('lxde')
source=(http://downloads.sourceforge.net/lxde/${pkgname}-${pkgver}.tar.gz \
	${pkgname}-loopfix.patch)
md5sums=('55b4553869209e0932cc73e8daefc854' '522c45ac805e3bf8db34bc26a6b6bf60')

build() {
  cd ${srcdir}/${pkgname}-${pkgver}

  # apply patch...
  patch -Np1 -i ../${pkgname}-loopfix.patch || return 1

  # Generating build system
  ./autogen.sh || return 1

  ./configure --prefix=/usr \
	      --sysconfdir=/etc \
	      --localstatedir=/var \
	      --disable-static

  make || return 1
}

package() {
  cd ${srcdir}/${pkgname}-${pkgver}

  make DESTDIR=${pkgdir} install || return 1
}
