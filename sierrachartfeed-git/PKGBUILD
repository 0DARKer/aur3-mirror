# Maintainer: Denis Kasak <reversed(moc.liamg@kasak.sined)>

pkgname=sierrachartfeed-git
pkgver=20130224
pkgrel=3
pkgdesc="Sierrachart feed bridge for bitcoincharts.com"
arch=('any')
url="https://github.com/slush0/sierrachartfeed"
license=('unknown')
depends=('python2')
makedepends=('git')
source=('setup.py' 'git+git://github.com/slush0/sierrachartfeed.git')
md5sums=('36a8b2cff2dd3b397daa683dc00d7075' 'SKIP')
_gitname='sierrachartfeed'

build() {
  cp "$srcdir/setup.py" "$srcdir/$_gitname/"

  sed -i "s/python/python2/g" $srcdir/$_gitname/*.py
  sed -i "s/python/python2/g" $srcdir/$_gitname/scid/*.py
}

package() {
  cd "$srcdir/$_gitname"
  python2 setup.py install --root="$pkgdir/" --optimize=1

  mkdir -p "$pkgdir/usr/bin/"
  cp "$srcdir/$_gitname/sierrachartfeed.py" "$pkgdir/usr/bin/sierrachartfeed"
  chmod a+x "$pkgdir/usr/bin/sierrachartfeed"
}

# vim:set ts=2 sw=2 et:
