
pkgname=mumudvb
pkgver=1.6
pkgrel=2
pkgdesc="Redistribute a stream from DVB on a network in multicast or in HTTP unicast"
arch=(i686 x86_64)
url="http://mumudvb.braice.net/mumudvbwiki/index.php/Main_Page"
license=('GPL')
depends=('glibc')
options=(docs emptydirs)
#install=
source=(http://mumudvb.braice.net/${pkgname}/${pkgname}-${pkgver}/${pkgname}_${pkgver}.tar.gz)
md5sums=('a463af541d0395ba3a2286e92f080615')
sha256sums=('0b3921762dabac062bba5b086fe5661e98526f8ea2b1719aad0fb40128d7111b')

build() {
  cd "${srcdir}/${pkgname}"

  ./configure --prefix=/usr
  make || return 1
}

package() {
  cd "${srcdir}/${pkgname}"

  install -D -m 0755 src/${pkgname} ${pkgdir}/usr/bin/${pkgname}
  install -D -m 0644 doc/mumudvb.8 ${pkgdir}/usr/share/man/man8/mumudvb.8

  install -d ${pkgdir}/usr/share/doc/mumudvb
  install -d ${pkgdir}/usr/share/doc/mumudvb/html
  install -d ${pkgdir}/usr/share/doc/mumudvb/configuration_examples
  install -m 0644 doc/html/* ${pkgdir}/usr/share/doc/mumudvb/html
  install -m 0644 doc/configuration_examples/* ${pkgdir}/usr/share/doc/mumudvb/configuration_examples
  install -m 0644 doc/README* ${pkgdir}/usr/share/doc/mumudvb
  install -m 0644 doc/QUICKSTART.txt ${pkgdir}/usr/share/doc/mumudvb

  # user has to be in video group to get access to mumudvb socket
  install -d -m 0775 -g video ${pkgdir}/var/run/mumudvb
}

# vim:set ts=2 sw=2 et:
