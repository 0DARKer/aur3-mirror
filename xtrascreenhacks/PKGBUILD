# Maintainer: onexused <aursignup dot kyoo at xoxy dot net>

pkgname=xtrascreenhacks
pkgver=0.6
pkgrel=2
pkgdesc="A collection of display modes that are based on and intended to be run with the XScreensaver distribution."
url="http://home.comcast.net/~shegeek/xtrascreenhacks/"
license="MIT"
arch=('i686' 'x86_64')
depends=('xscreensaver' 'libgl')
makedepends=('make')
optdepends=('kdeartwork-kscreensaver' 'gnome-screensaver')
install=(xtrascreenhacks.install)
source=(http://home.comcast.net/~shegeek/xtrascreenhacks/${pkgname}-${pkgver}.tar.bz2
        craters-0.6.1-memory-corruption.patch
        craters.xml)
md5sums=('b2d07b9aa3ba740343d5a90576c1f8a9'
         'b591e91d6f3f012b0cca97f08592a316'
         '104ffaa12bcea132681da1328015a6e8')
sha1sums=('8811e14210236ea03640aa60d6575f09f6ea85bd'
          '20eeaee3e7c5e81dae6ff7ab37fbef3079840910'
          '36e2852cde1ae75a38f3e79296876a872f2fd436')

build() {
   cd "${srcdir}"/$pkgname-$pkgver
   patch -Np0 < $"{srcdir}"/craters-0.6.1-memory-corruption.patch
   cp "${srcdir}"/craters.xml hacks/config/
   ./configure --with-hackdir="${pkgdir}"/usr/lib/xscreensaver \
         --with-configdir="${pkgdir}"/usr/share/xscreensaver/config \
         --prefix="${pkgdir}"/usr
   make 
   }

package() {
   cd "${srcdir}"/$pkgname-$pkgver
   DESTDIR="${pkgdir}" make install
   }
