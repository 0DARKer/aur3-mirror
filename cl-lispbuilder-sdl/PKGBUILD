# Maintainer:  Taras Shpot <mrshpot at gmail dot com>

pkgname=cl-lispbuilder-sdl
_clname=lispbuilder-sdl
pkgver=0.9.8.1
pkgrel=1
pkgdesc="SDL game and multimedia library for Common Lisp"
arch=('i686' 'x86_64')
url="http://code.google.com/p/lispbuilder/"
license=('MIT')

depends=('common-lisp' 'cl-asdf' 'sdl')

install=cl-lispbuilder-sdl.install
source=('http://lispbuilder.googlecode.com/files/lispbuilder-sdl-0.9.8.1.tgz')
md5sums=('32380fbc7622ada4082d25baa5c95fe2')

build() {
    install -d ${pkgdir}/usr/share/common-lisp/source/${_clname}
    install -d ${pkgdir}/usr/share/common-lisp/systems

    cd ${srcdir}/${_clname}

	cp -r * ${pkgdir}/usr/share/common-lisp/source/${_clname}
	find ${pkgdir}/usr/share/common-lisp/source/${_clname} -type f -print0 | xargs -0 chmod 644 || return 1
	find ${pkgdir}/usr/share/common-lisp/source/${_clname} -type d -print0 | xargs -0 chmod 755 || return 1
	
    cd ${pkgdir}/usr/share/common-lisp/systems
    ln -s ../source/${_clname}/${_clname}.asd .
    ln -s ../source/${_clname}/${_clname}-examples.asd .
}

# vim:set ts=2 sw=4 et nospell:
