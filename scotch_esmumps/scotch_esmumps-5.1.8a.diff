diff -Naur scotch_5.1.8a_esmumps.orig//src/esmumps/Makefile scotch_5.1.8a_esmumps/src/esmumps/Makefile
--- scotch_5.1.8a_esmumps.orig//src/esmumps/Makefile	2010-05-27 01:27:17.818989363 +0200
+++ scotch_5.1.8a_esmumps/src/esmumps/Makefile	2010-05-27 01:31:39.585566416 +0200
@@ -55,23 +55,25 @@
 scotch				:	clean
 					$(MAKE) CC="$(CCS)" CCD="$(CCS)" SCOTCHLIB=scotch ESMUMPSLIB=esmumps	\
 					libesmumps$(LIB)							\
+					libesmumps$(LIBSO)							\
 					main_esmumps$(EXE)
 
 ptscotch			:	clean
 					$(MAKE) CFLAGS="$(CFLAGS) -DSCOTCH_PTSCOTCH" "CC=$(CCP)" SCOTCHLIB=ptscotch ESMUMPSLIB=ptesmumps	\
 					libesmumps$(LIB)											\
+					libesmumps$(LIBSO)											\
 					main_esmumps$(EXE)
 
 install				:
 					-$(CP) esmumps.h $(includedir)
-					-$(CP) libesmumps$(LIB) $(libdir)
+					-$(CP) libesmumps$(LIB) libesmumps$(LIBSO) $(libdir)
 
 ptinstall			:
 					-$(CP) esmumps.h $(includedir)
-					-$(CP) libptesmumps$(LIB) $(libdir)
+					-$(CP) libptesmumps$(LIB) libptesmumps$(LIBSO) $(libdir)
 
 clean				:
-					-$(RM) *~ common.h *$(OBJ) lib*$(LIB) main_esmumps$(EXE)
+					-$(RM) *~ common.h *$(OBJ) lib*$(LIB) lib*$(LIBSO) main_esmumps$(EXE)
 
 realclean			:	clean
 
@@ -154,6 +156,12 @@
 					$(AR) $(ARFLAGS) lib$(ESMUMPSLIB)$(LIB) $(?)
 					-$(RANLIB) lib$(ESMUMPSLIB)$(LIB)
 
+libesmumps$(LIBSO)		:	libesmumps$(LIB)
+					$(LD)					\
+					-soname $(@) -o $(@)			\
+					--whole-archive $(^) 			\
+					--no-whole-archive $(LDFLAGS)
+
 main_esmumps$(EXE)		:	main_esmumps.c				\
 					common.h				\
 					graph.h					\
diff -Naur scotch_5.1.8a_esmumps.orig//src/libscotch/Makefile scotch_5.1.8a_esmumps/src/libscotch/Makefile
--- scotch_5.1.8a_esmumps.orig//src/libscotch/Makefile	2010-05-27 01:27:17.112821504 +0200
+++ scotch_5.1.8a_esmumps/src/libscotch/Makefile	2010-05-27 01:08:22.000000000 +0200
@@ -57,7 +57,10 @@
 					scotchf.h						\
 					libscotch$(LIB)						\
 					libscotcherr$(LIB)					\
-					libscotcherrexit$(LIB)
+					libscotcherrexit$(LIB)					\
+					libscotch$(LIBSO)					\
+					libscotcherr$(LIBSO)					\
+					libscotcherrexit$(LIBSO)
 
 ptscotch			:	clean
 					$(MAKE) CFLAGS="$(CFLAGS) -DSCOTCH_PTSCOTCH" CC="$(CCP)" SCOTCHLIB=ptscotch	\
@@ -66,19 +69,22 @@
 					libptscotch$(LIB)								\
 					libscotch$(LIB)									\
 					libptscotcherr$(LIB)								\
-					libptscotcherrexit$(LIB)
+					libptscotcherrexit$(LIB)							\
+					libptscotch$(LIBSO)								\
+					libptscotcherr$(LIBSO)								\
+					libptscotcherrexit$(LIBSO)
 
 install				:
 					-$(CP) scotch.h scotchf.h $(includedir)
-					-$(CP) libscotch$(LIB) libscotcherr*$(LIB) $(libdir)
+					-$(CP) libscotch$(LIB) libscotcherr*$(LIB) libscotch$(LIBSO) libscotcherr*$(LIBSO) $(libdir)
 
 ptinstall			:
 					-$(CP) scotch.h $(includedir)/ptscotch.h
 					-$(CP) scotchf.h $(includedir)/ptscotchf.h
-					-$(CP) libptscotch*$(LIB) $(libdir)
+					-$(CP) libptscotch*$(LIB) libptscotch*$(LIBSO) $(libdir)
 
 clean				:
-					-$(RM) *~ *$(OBJ) lib*$(LIB) common2* parser_yy.c parser_ly.h parser_ll.c *scotch.h *scotchf.h y.output dummysizes$(EXE)
+					-$(RM) *~ *$(OBJ) lib*$(LIB) lib*$(LIBSO) common2* parser_yy.c parser_ly.h parser_ll.c *scotch.h *scotchf.h y.output dummysizes$(EXE)
 
 realclean			:	clean
 
@@ -2452,3 +2458,38 @@
 libscotcherrexit$(LIB)		:	library_error_exit$(OBJ)
 					$(AR) $(ARFLAGS) $(@) $(?)
 					-$(RANLIB) $(@)
+
+libptscotch$(LIBSO)		:	libptscotch$(LIB)
+					$(LD)					\
+					-soname $(@) -o $(@)			\
+					--whole-archive  $(^)			\
+					--no-whole-archive $(LDFLAGS)
+
+libscotch$(LIBSO)		:	libscotch$(LIB)
+					$(LD)					\
+					-soname $(@) -o $(@)			\
+					--whole-archive  $(^)			\
+					--no-whole-archive $(LDFLAGS)
+
+libptscotcherr$(LIBSO)		:	libptscotcherr$(LIB)
+					$(LD)					\
+					-soname $(@) -o $(@)			\
+					--whole-archive  $(^)			\
+					--no-whole-archive $(LDFLAGS)
+
+libptscotcherrexit$(LIBSO)	:	libptscotcherrexit$(LIB)
+					$(LD)					\
+					-soname $(@) -o $(@)			\
+					--whole-archive  $(^)			\
+					--no-whole-archive $(LDFLAGS)
+
+libscotcherr$(LIBSO)		:	libscotcherr$(LIB)
+					$(LD)					\
+					-soname $(@) -o $(@)			\
+					--whole-archive $(^) 			\
+					--no-whole-archive $(LDFLAGS)
+
+libscotcherrexit$(LIBSO)	:	libscotcherrexit$(LIB)
+					$(LD)					\
+					-soname $(@) -o $(@)			\
+					--whole-archive $(^) 			\
diff -Naur scotch_5.1.8a_esmumps.orig//src/libscotchmetis/Makefile scotch_5.1.8a_esmumps/src/libscotchmetis/Makefile
--- scotch_5.1.8a_esmumps.orig//src/libscotchmetis/Makefile	2010-05-27 01:27:17.854239010 +0200
+++ scotch_5.1.8a_esmumps/src/libscotchmetis/Makefile	2010-05-27 01:08:02.000000000 +0200
@@ -54,22 +54,22 @@
 
 scotch				:
 					$(MAKE) CC="$(CCS)" SCOTCHLIB=ptscotch						\
-					libscotchmetis$(LIB)
+					libscotchmetis$(LIB) libscotchmetis$(LIBSO)
 
 ptscotch			:
 					$(MAKE) CFLAGS="$(CFLAGS) -DSCOTCH_PTSCOTCH" CC="$(CCP)" SCOTCHLIB=ptscotch	\
-					libptscotchparmetis$(LIB)
+					libptscotchparmetis$(LIB) libptscotchparmetis$(LIBSO)
 
 install				:	scotch
 					-$(CP) metis.h $(includedir)
-					-$(CP) libscotchmetis$(LIB) $(libdir)
+					-$(CP) libscotchmetis$(LIB) libscotchmetis$(LIBSO) $(libdir)
 
 ptinstall			:	ptscotch
 					-$(CP) parmetis.h $(includedir)
-					-$(CP) libptscotchparmetis$(LIB) $(libdir)
+					-$(CP) libptscotchparmetis$(LIB) libptscotchparmetis$(LIBSO) $(libdir)
 
 clean				:
-					-$(RM) *~ *$(OBJ) lib*$(LIB)
+					-$(RM) *~ *$(OBJ) lib*$(LIB) lib*$(LIBSO)
 
 realclean			:	clean
 
@@ -138,3 +138,13 @@
 					metis_graph_part_f$(OBJ)
 					$(AR) $(ARFLAGS) $(@) $(^)
 					-$(RANLIB) $(@)
+
+libptscotchparmetis$(LIBSO)	:	libptscotchparmetis$(LIB)
+					$(LD)					\
+					-soname $(@) -o $(@)			\
+					--whole-archive $(^) 			\
+
+libscotchmetis$(LIBSO)		:	libscotchmetis$(LIB)
+					$(LD)					\
+					-soname $(@) -o $(@)			\
+					--whole-archive $(^) 			\
