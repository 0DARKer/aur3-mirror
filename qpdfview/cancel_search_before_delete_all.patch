=== modified file 'sources/documentview.cpp'
--- sources/documentview.cpp	2012-09-05 18:39:49 +0000
+++ sources/documentview.cpp	2012-09-05 19:13:53 +0000
@@ -286,12 +286,12 @@
 
 DocumentView::~DocumentView()
 {
+    m_searchThread->cancel();
+    m_searchThread->wait();
+
     qDeleteAll(m_pages);
     qDeleteAll(m_thumbnails);
 
-    m_searchThread->cancel();
-    m_searchThread->wait();
-
     if(m_document != 0)
     {
         delete m_document;
@@ -1314,11 +1314,11 @@
     m_prefetchTimer->blockSignals(true);
     m_prefetchTimer->stop();
 
+    cancelSearch();
+
     qDeleteAll(m_pages);
     qDeleteAll(m_thumbnails);
 
-    cancelSearch();
-
     if(m_document != 0)
     {
         delete m_document;

