# Contributor: Piotr Beling <qwak@stud.ics.p.lodz.pl>

pkgname=venice
pkgver=0.721beta
pkgrel=2
pkgdesc="Stock market trading programme that supports portfolio management, charting, technical analysis, paper trading and genetic programming."
depends=('java-runtime=6')
url='http://mov.sourceforge.net/'
arch=('any')
license=('GPL2')

source=(http://downloads.sourceforge.net/mov/$pkgname-$pkgver.tar.gz
        venice.desktop
        venice.png)
md5sums=('dbb2183eb158244959fd22118a406185'
         '91e8064dde73812d1daaed678a5e5466'
         '6b08b9467b952d15b87e8a9721ab5c62')

build() {
    
    install -d $pkgdir/usr/bin
    install -d $pkgdir/usr/share/applications
    install -d $pkgdir/usr/share/pixmaps
    install -d $pkgdir/usr/share/venice
    install -d $pkgdir/usr/share/venice/doc

    cd $srcdir

    install -m644 venice.desktop  $pkgdir/usr/share/applications/
    install -m644 venice.png      $pkgdir/usr/share/pixmaps/

    cd $srcdir/$pkgname-$pkgver

    install -m644 venice.jar      $pkgdir/usr/share/venice/
    install -m644 doc/manual.html $pkgdir/usr/share/venice/doc
    install -m644 doc/manual.txt  $pkgdir/usr/share/venice/doc
    install -m755 venice          $pkgdir/usr/bin/

    sed -i 's|venice.jar|/usr/share/venice/venice.jar|' \
    	    $pkgdir/usr/bin/venice
}
