# Maintainer: 

pkgname=objobf
pkgver=0.5.0
pkgrel=1
pkgdesc="x86/Linux ELF relocateable object obfuscator"
arch=('i686' 'x86_64')
url="https://web.archive.org/web/20040406115208/http://www.team-teso.net/projects/objobf/"
license=('LGPL')
#depends=() #?????????
source=(
  "https://web.archive.org/web/20040217131820/http://www.team-teso.net/projects/objobf/objobf-0.5.0.tar.bz2"
  "objobf.patch")
md5sums=(
  'ba6b6f098f2c1e48c6946c6b13f568bb'
  'bb0a9de3bc6ed44a849709f5dfcd9516')

build() {
  cd $srcdir/$pkgname-$pkgver
  patch -p1 -i $srcdir/package.patch 

  cd $srcdir/$pkgname-$pkgver/src
  make
}

package() {
  mkdir -p $pkgdir/usr/bin
  cp $srcdir/$pkgname-$pkgver/src/objobf $pkgdir/usr/bin

  # Manpage
  mkdir -p $pkgdir/usr/share/man/man1
  cd $srcdir/$pkgname-$pkgver/doc
  cp $srcdir/$pkgname-$pkgver/doc/objobf.1 $pkgdir/usr/share/man/man1
  cd $pkgdir/usr/share/man/man1
  gzip objobf.1
  chmod 644 objobf.1.gz

  # Docs
  mkdir -p $pkgdir/usr/share/doc
  cp -r $srcdir/$pkgname-$pkgver/doc $pkgdir/usr/share
  chmod 644 $pkgdir/usr/share/doc/*
}

# vim:set ts=2 sw=2 et:
