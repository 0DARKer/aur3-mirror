# Maintainer: xduugu
pkgname=jgit
pkgver=0.12.1
pkgrel=1
pkgdesc="A 100% pure java implementation of git"
arch=('any')
url="http://eclipse.org/jgit/"
license=('custom:BSD')
depends=('java-runtime')
source=("org.eclipse.jgit_$pkgver-feature.jar::http://www.jgit.org/updates/features/org.eclipse.jgit_$pkgver.jar"
        "http://www.jgit.org/updates/plugins/org.eclipse.jgit_$pkgver.jar")
noextract=("org.eclipse.jgit_$pkgver-feature.jar"
          "org.eclipse.jgit_$pkgver.jar")
sha256sums=('8282becd08ca51f1658d8c822608ac72fe3b0eeffa10811612bf64a77907e410'
            'f159838c5aa8b51fe8e78df4576d9cbc07705b2f2c407dcb4d6c405bb8836ab6')

build() {
  _dest="$pkgdir/usr/share/eclipse/dropins/$pkgname/eclipse"

  install -d -m755 "$_dest/features/org.eclipse.jgit_$pkgver" || return 1
  cd "$_dest/features/org.eclipse.jgit_$pkgver"
  jar xf "$srcdir/org.eclipse.jgit_$pkgver-feature.jar" feature.xml feature.properties license.html edl-v10.html || return 1
  
  install -D -m644 "$srcdir/org.eclipse.jgit_$pkgver.jar" \
      "$_dest/plugins/org.eclipse.jgit_$pkgver.jar" || return 1
}

# vim:set ts=2 sw=2 et:
