# Maintainer: IgnorantGuru  http://igurublog.wordpress.com/contact-ignorantguru/
# The AUR pcmanfm-mod package does not provide pcmanfm and can thus be
# installed concurrently with other versions of pcmanfm
# The AUR pcmanfm-mod-prov package provides pcmanfm and thus conflicts
# with other versions of pcmanfm
pkgname=pcmanfm-mod
pkgver=1.2.3
pkgrel=1
pkgdesc="A modified version of the legacy PCMan File Manager v0.5.2"
arch=('i686' 'x86_64')
url=("http://igurublog.wordpress.com/downloads/mod-pcmanfm/")
license=('GPL2')
depends=('gtk2' 'gamin' 'hal' 'shared-mime-info' 'desktop-file-utils' 'startup-notification')
optdepends=('fam: alternative to gamin' 'gksu: perform as root functionality' 'gnome-icon-theme')
makedepends=('intltool' 'gettext')
conflicts=('pcmanfm-mod-prov')
install=pcmanfm-mod.install
source=("http://downloads.sourceforge.net/project/pcmanfm-mod/pcmanfm-mod-$pkgver.tar.xz")
md5sums=('d4aa28a390506138ef4ff8d23ab3079e')
sha256sums=('857357ddceda9063be9a874119b5307a4fdc160481bb44c7e935b56c8e69db0a')

build() {
    cd "$srcdir/pcmanfm-mod-$pkgver"
    # NOTE: To disable hal support and dependencies, add --disable-hal to
    #       configure line below.  See README for details.
    # NOTE: To change su program from default ktsuss, add for example
    #       --with-preferable-sudo=gksudo to configure line below.
    ./configure --prefix=/usr
    make || return 1
    make DESTDIR=$pkgdir install || return 1
    install -Dm755 "$srcdir/pcmanfm-mod-$pkgver/pcmanfm-opener" "$pkgdir/usr/bin/pcmanfm-opener"
}

