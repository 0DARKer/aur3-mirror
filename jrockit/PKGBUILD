# Original Contributor: AqD <aquila.deus@gmail.com>
# Contributor: Ignacio Galmarino <igalmarino@gmail.com>

pkgname=jrockit
pkgver=1.6.0_03
filever=R27.5.0-jdk1.6.0_03
pkgrel=1
pkgdesc="JRockit is a high performace JVM"
url="http://www.bea.com/"
depends=('alsa-lib' 'unixodbc' 'libxtst' 'gtk2')
replaces=('jdk' 'j2sdk' 'java-environment' 'j2re' 'java-runtime' 'jre')
provides=('jdk=6' 'j2sdk' 'java-environment' 'j2re' 'java-runtime' 'jre=6')
license=('custom')
arch=('i686')
install='jrockit.install'

source=(silent.xml
	jrockit.profile
	license.html
	http://download2.bea.com/pub/jrockit/60/jrockit-$filever-linux-ia32.bin)

md5sums=('cb117b969a643a2ed7b9f10d5afba44c'
	 '83556c506af39ae5956a0713b9bd98cc'
	 '9212c2dbe1fefa6cea5163497661d704'
	 '887a6e56e82e65c8eb3451a8ca8df8dc')

build() {
  mkdir -p $startdir/pkg/opt/java
  cd $startdir/pkg/opt/java
  chmod 755 $startdir/src/jrockit-$filever-linux-ia32.bin
  $startdir/src/jrockit-$filever-linux-ia32.bin -mode=silent -silent_xml=$startdir/src/silent.xml || return 1
  cd $startdir/src
  install -D -m755 ${pkgname}.profile $startdir/pkg/etc/profile.d/${pkgname}.sh
  install -D -m 644 $startdir/src/license.html $startdir/pkg/usr/share/licenses/$pkgname/license.html
}
