
# Contributor: Joseph R. Nosie <bolts at archlinux dot us>
pkgname=linapple
pkgver=1.1b
pkgrel=3
pkgdesc="Linapple is an emulator of Apple][ series computers for Linux or other POSIX-compliant systems."
arch=('i686' 'x86_64')
url="http://linapple.sourceforge.net"
license=('GPL')
depends=('sdl')
install=linapple.install
source=(http://downloads.sourceforge.net/project/$pkgname/$pkgname/$pkgname-1.1beta/$pkgname-src$pkgver.tar.bz2
        debug.patch
        linapple.sh)
md5sums=('730ddeeba044ec04a8257f3b18e6010b'
         '48d3a5b042005c85b8674a52501adafb'
         'd142c61b6e941bc2d68a2089a2dae503')

build() {
  cd "$srcdir/$pkgname-src_$pkgver/src"
  patch -Np2 -i $srcdir/debug.patch || return 1
  make || return 1

  cd ..
  mkdir -p $pkgdir/usr/bin
  mkdir -p $pkgdir/usr/share/linapple/{bin,config/linapple}

  install -m755 $srcdir/linapple.sh $pkgdir/usr/bin/linapple
  install -m755 linapple $pkgdir/usr/share/linapple/bin/linapple

  install -m644 applelin.bmp $pkgdir/usr/share/linapple/config/linapple/applelin.bmp
  install -m644 charset40.bmp $pkgdir/usr/share/linapple/config/linapple/charset40.bmp
  install -m644 font.bmp $pkgdir/usr/share/linapple/config/linapple/font.bmp
  install -m644 icon.bmp $pkgdir/usr/share/linapple/config/linapple/icon.bmp
  install -m644 linapple.conf $pkgdir/usr/share/linapple/config/linapple/linapple.conf
  install -m644 Master.dsk $pkgdir/usr/share/linapple/config/linapple/Master.dsk
  install -m644 README $pkgdir/usr/share/linapple/README
}

# vim:set ts=2 sw=2 et:
