# Contributor: Eugenio F <eugfcl@gmail.com>
# Contributor: Mathieu Clabaut <mathieu.clabaut@gmail.com>-

pkgname=autoglade
pkgver=0.5
pkgrel=1
pkgdesc="A tool that automagically creates a fully working application from the GUI glade definition plus some declarative information with no programming"
url="http://autoglade.sourceforge.net/"
license=('GPL')
depends=('python2' 'glade' 'pygobject' 'pygtk' )
provides=('autoglade')
arch=('i686' 'x86_64')

source=("http://downloads.sourceforge.net/${pkgname}/${pkgname}_${pkgver}-1ubuntu3.tar.gz")

md5sums=('eac499260ca3143345f50159aed8b15a')

build () {
   cd ${srcdir}/trunk
   sed -i 's@#! */usr/bin/env python@#!/usr/bin/env python2@' autoglade/autoglade.py
}

package () {
   cd ${srcdir}/trunk
   mkdir -p ${pkgdir}/usr/share/${pkgname}
   python2 setup.py install --root ${pkgdir} || return 1
   cp -r html/ examples/ ${pkgdir}/usr/share/${pkgname}
   install -Dm755 ${pkgdir}/usr/lib/python2.7/site-packages/autoglade/autoglade.py \
           ${pkgdir}/usr/bin/autoglade
}