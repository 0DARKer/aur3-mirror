# Maintainer: Dave Reisner <d@falconindy.com>

pkgname=geninit
pkgver=0.2
pkgrel=1
pkgdesc="a modular initramfs creation utility"
arch=('i686' 'x86_64')
url="http://github.com/falconindy/geninit"
license=('MIT')
depends=('coreutils' 'bash' 'libarchive' 'file' 'findutils' 'grep'
         'module-init-tools>=3.13' 'mkinitcpio-busybox' 'udev>=168')
makedepends=('sed' 'git')
optdepends=('lzop: LZO compression')
source=("$pkgname-$pkgver.tar.gz::https://www.github.com/falconindy/$pkgname/tarball/$pkgver")

build() {
  dirname=$(tar tf "$srcdir/$pkgname-$pkgver.tar.gz" | sed 1q);

  cd "$srcdir/$dirname"

  make
}

package() {
  dirname=$(tar tf "$srcdir/$pkgname-$pkgver.tar.gz" | sed 1q);

  cd "$srcdir/$dirname"

  make PREFIX=/usr DESTDIR=$pkgdir install
}

# vim: ft=sh syn=sh
md5sums=('74e4e42c3b84c5423862430abb3f5190')
