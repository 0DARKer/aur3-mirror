# Maintainer: Daniel Duan <danmarner at gmail dot com>
pkgname=loop
pkgver=1.0.6
pkgrel=2
pkgdesc='A little language for the jvm with a particular focus on simplicity and parallelism.'
arch=('any')
url='http://looplang.org'
license=('MIT')
depends=('java-runtime')
provides=("$pkgname-$pkgver")
conflicts=("$pkgname-$pkgver")
install=
changelog=
source=($pkgname-$pkgver.tar.gz::https://github.com/dhanji/loop/blob/master/dist/loop.tar.gz?raw=true)
noextract=()
md5sums=('b7f84a756fd17549162634ef9f763888')
package() {
  install -d $pkgdir/usr/bin
  install -d $pkgdir/usr/share/java/$pkgname
  install -d $pkgdir/usr/share/licenses/$pkgname

  cd "$srcdir/$pkgname"
  cp loop.jar $pkgdir/usr/share/java/$pkgname/
  cp LICENSE $pkgdir/usr/share/licenses/$pkgname/
  echo '#!/bin/sh' > $pkgdir/usr/bin/$pkgname
  echo '"$JAVA_HOME/bin/java"'" -jar /usr/share/java/$pkgname/$pkgname.jar" >>\
      $pkgdir/usr/bin/$pkgname
  chmod +x $pkgdir/usr/bin/$pkgname
}
