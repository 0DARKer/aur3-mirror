# Current Maintainer: Patrick Palka <patrick@parcs.ath.cx>
# Previous Maintainer: Tianyi Cui <tianyicui@gmail.com>
# Contributor: pumbur <free@pumbur.net>
# Development: <http://closure.ath.cx/aur-dev>

pkgname=rubinius
pkgver=1.2.2
pkgrel=1
pkgdesc="An environment for the Ruby programming language providing \
performance, accessibility, and improved programmer productivity"
arch=('i686' 'x86_64')
license=('BSD')
url="http://rubini.us/"
source=(http://asset.rubini.us/$pkgname-$pkgver-20110222.tar.gz)
md5sums=('59124378fb7ee040e9ee4e4736d89fc0')
depends=(openssl readline)
makedepends=(ruby bison zlib)

build(){
    cd $srcdir/$pkgname-$pkgver
    ./configure --prefix=/opt/$pkgname
}

package() {
    cd $srcdir/$pkgname-$pkgver
    FAKEROOT="$pkgdir" rake install
    install -vDm644 LICENSE $pkgdir/usr/share/licenses/$pkgname/LICENSE
    cd $pkgdir
    mkdir -p usr/bin
    cd usr/bin
    ln -s ../../opt/$pkgname/bin/rbx
}
