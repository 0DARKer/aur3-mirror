# Current Maintainer: Patrick Palka <patrick@parcs.ath.cx>
# Previous Maintainer: Tianyi Cui <tianyicui@gmail.com>
# Contributor: pumbur <free@pumbur.net>
# Development: <http://closure.ath.cx/aur-dev>

pkgname=rubinius
pkgver=1.2.1
pkgrel=1
pkgdesc="Rubinius, the Ruby VM"
arch=('i686' 'x86_64')
license=('BSD')
url="http://rubini.us/"
source=(http://asset.rubini.us/$pkgname-$pkgver-20110215.tar.gz)
md5sums=('e4a5127480062fddddc7ce2860b3b813')
depends=(openssl readline)
makedepends=(ruby bison zlib)

build(){
    cd $srcdir/$pkgname-$pkgver
    ./configure --prefix=/opt/rubinius
}

package() {
    cd $srcdir/$pkgname-$pkgver
    FAKEROOT="$pkgdir/" rake install
    install -vDm644 LICENSE $pkgdir/usr/share/licenses/rubinius/LICENSE
    cd $pkgdir
    mkdir -p usr/bin
    cd usr/bin
    ln -s ../../opt/rubinius/bin/rbx
}
