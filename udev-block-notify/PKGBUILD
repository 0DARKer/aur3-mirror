# Maintainer: Christian Hesse <mail@eworm.de>

pkgname=udev-block-notify
pkgver=0.3.4
pkgrel=1
pkgdesc="Notify about udev block events"
arch=('i686' 'x86_64')
url="http://www.eworm.de/"
depends=('libnotify' 'udev' 'util-linux')
license=('GPL')
source=("${pkgname}.c" "${pkgname}.desktop")
    
build() {
  cd ${srcdir}/
  gcc -DPROGNAME="\"${pkgname}\"" -DVERSION="\"${pkgver}-${pkgrel}\"" -DDATE="\"`date -u`\"" \
    `pkg-config --cflags --libs libnotify` \
    `pkg-config --cflags --libs libudev` \
    `pkg-config --cflags --libs blkid` \
    ${pkgname}.c -o ${pkgname}
  install -D -m755 ${pkgname} ${pkgdir}/usr/bin/${pkgname}
  install -D -m644 ${pkgname}.desktop ${pkgdir}/etc/xdg/autostart/${pkgname}.desktop
}

# vim:set ts=2 sw=2 et:
md5sums=('936f971426620b479050e050e9d41195'
         'dd7e19737ac54c043f1816a7c0f09542')
