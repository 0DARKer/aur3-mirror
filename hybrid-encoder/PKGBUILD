# Maintainer: kfgz <kfgz at interia pl>
# Contributor: Hugo Osvaldo Barrera <hugo at osvaldobarrera dot com dot ar>

pkgname=hybrid-encoder
pkgver=140428
pkgrel=1
pkgdesc="A very complete gui for video encoding"
arch=('i686' 'x86_64')
license=('LGPL')
depends=('libvpx' 'x264' 'mediainfo' 'ffmpeg' 'mplayer' 'mencoder' 'gpac' 'x265' \
         'mkvtoolnix' 'sox' 'vorbis-tools' 'lsdvd' 'tsmuxer' 'neroaacenc' 'qt5-multimedia' \
         'aften' 'mp4fpsmod' 'dcaenc' 'delaycut-git' 'qt5-base' 'freetype2' 'dbus-core' \
         'zlib' 'libxrender' 'libxext' 'openssl' 'glib2' 'telxcc-git' 'framecounter' \
         'fdkaac' 'opus-tools' 'bdsup2subpp-git' 'kvazaar-git')
url="http://www.selur.de/"

if test "$CARCH" == x86_64; then
  source=(http://www.selur.de/sites/default/files/hybrid_downloads/Hybrid_${pkgver}_64bit_binary_qt521.zip
          hybrid.desktop
          Hybrid.png)
  md5sums=('ad688f9dec24ec5dda97c01db3efb6f3'
           'dd87c6eb6df85049de38c61dfe400347'
           '798dd936a3bc9bcd3b131d5dd6db96e6')
fi

if test "$CARCH" == i686; then
  source=(http://www.selur.de/sites/default/files/hybrid_downloads/Hybrid_${pkgver}_32bit_binary_qt521.zip
          hybrid.desktop
          Hybrid.png)
  md5sums=('3489e3d66079c360ba057da2f7bd9b90'
           'dd87c6eb6df85049de38c61dfe400347'
           '798dd936a3bc9bcd3b131d5dd6db96e6')
fi

package() {
  cd "${srcdir}"
  install -D -m755 Hybrid "${pkgdir}"/usr/bin/Hybrid
  install -D -m644 hybrid.desktop "${pkgdir}"/usr/share/applications/hybrid.desktop
  install -D -m644 Hybrid.png "${pkgdir}"/usr/share/pixmaps/Hybrid.png
}
