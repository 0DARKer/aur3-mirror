# Contributor: Sven Klomp <mail@klomp.eu>
# Contributor: Mattheus Happe <mhappe@gmail.com>

pkgname=libconcord
_pkgsrcname=concordance
pkgver=0.24
pkgrel=2
pkgdesc="A library for programming Logitech(R) Harmony(TM) remote controls."
arch=('i686' 'x86_64')
url="http://www.phildev.net/harmony/index.shtml"
license=('GPL3')
depends=('libusb-compat')
optdepends=('udev: use libconcord as non-root user')
source=("http://downloads.sourceforge.net/project/${_pkgsrcname}/${_pkgsrcname}/${pkgver}/${_pkgsrcname}-${pkgver}.tar.bz2")
sha256sums=('e2bea0430e936fd9e3e6a853b6533edbfd9211cf328c5334789b432035f03656')

build() { 
  cd "${srcdir}/${_pkgsrcname}-${pkgver}/libconcord"
  ./configure --prefix=/usr
  make || return 1
  make udev || return 1
}

package() {
  cd "${srcdir}/${_pkgsrcname}-${pkgver}/libconcord"
  make prefix="${pkgdir}/usr" install || return 1
  make -j1 prefix="${pkgdir}/" install_udev || return 1
}
