# Contributor: Sven Klomp <mail@klomp.eu>
# Contributor: Mattheus Happe <mhappe@gmail.com>

pkgname=libconcord
_pkgsrcname=concordance
pkgver=1.0
pkgrel=1
pkgdesc="A library for programming Logitech(R) Harmony(TM) remote controls."
arch=('i686' 'x86_64')
url="http://www.phildev.net/harmony/index.shtml"
license=('GPL3')
depends=('libusb-compat' 'zziplib')
optdepends=('udev: use libconcord as non-root user')
source=("http://downloads.sourceforge.net/project/${_pkgsrcname}/${_pkgsrcname}/${pkgver}/${_pkgsrcname}-${pkgver}.tar.bz2")
sha256sums=('f6f449e5cdf33207372d0e229e622b6107f227bfb476587abddc0b27c31eb65a')

build() { 
  cd "${srcdir}/${_pkgsrcname}-${pkgver}/libconcord"
  ./configure --prefix=/usr
  make || return 1
  make udev || return 1
}

package() {
  cd "${srcdir}/${_pkgsrcname}-${pkgver}/libconcord"
  make DESTDIR="${pkgdir}" install || return 1
  make -j1 DESTDIR="${pkgdir}/usr" install_udev || return 1
}
