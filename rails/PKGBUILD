# Contributor: Markus M. May <mmay@javafreedom.org>
# Contributor: Niel Drummond <niel.drummond@grumpytoad.org>
# Maintainer: Alexsandr Pavlov <kidoz at mail dot ru>
pkgname=rails
pkgver=2.3.10
_rack_pkgver=1.1.0
pkgrel=1
pkgdesc="Is an open source web application framework for the Ruby programming language."
arch=(any)
url="http://www.rubyonrails.org/"
license=('MIT')
depends=('ruby' 'ruby-sqlite3')
provides=('ruby-rack=1.1.0' 'ruby-activeresource=2.3.10' 'ruby-actionmailer=2.3.10' 'ruby-actionpack=2.3.10'
			'ruby-activerecord=2.3.10' 'ruby-activesupport=2.3.10' 'ruby-rails=2.3.10')
conflicts=('ruby-rack' 'ruby-rack110' 'ruby-rack1xx' 'ruby-rails' 'ruby-rails-aio' 'ruby-rails2xx' 'ruby-rails2xx-aio')
source=(http://gems.rubyforge.org/gems/activeresource-$pkgver.gem
		http://gems.rubyforge.org/gems/actionmailer-$pkgver.gem
		http://gems.rubyforge.org/gems/actionpack-$pkgver.gem
		http://gems.rubyforge.org/gems/activerecord-$pkgver.gem
		http://gems.rubyforge.org/gems/activesupport-$pkgver.gem
		http://gems.rubyforge.org/gems/rack-$_rack_pkgver.gem
		http://gems.rubyforge.org/gems/rails-$pkgver.gem
		)

noextract=(activeresource-$pkgver.gem
			actionmailer-$pkgver.gem
			actionpack-$pkgver.gem
			activerecord-$pkgver.gem
			activesupport-$pkgver.gem
			rack-$_rack_pkgver.gem
			rails-$pkgver.gem
			)

md5sums=('b3fd76cb17a2407dc6ed0e8a4ff13837'
         '4c052736af7641475db621d8871ce2ad'
         '1a4c0f1aef12a9eaa0f62137661ba29f'
         'c728f26b39a9f18520943c7ee7b9849c'
         '843e065f5484489eb87e6dbf5b65e7c8'
         'f5ff2d6d348f41bb3833847223f792ce'
         '12d97a2e2014e66de0b2df7f07ca2fbc')




_gem_list=(activeresource-$pkgver
			actionmailer-$pkgver
			actionpack-$pkgver
			activerecord-$pkgver
			activesupport-$pkgver
			rack-$_rack_pkgver
			rails-$pkgver
			)
			
build() {
cd $srcdir
local _gemdir="$(ruby -rubygems -e'puts Gem.default_dir')"
for _gem_name in ${_gem_list[*]}
do gem install --ignore-dependencies -i "$pkgdir$_gemdir" $_gem_name.gem
done

mv -t $pkgdir/usr/ $pkgdir$_gemdir/bin
}
