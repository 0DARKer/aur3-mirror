# Contributor: Markus M. May <mmay@javafreedom.org>
# Contributor: Niel Drummond <niel.drummond@grumpytoad.org>
# Maintainer: Alexsandr Pavlov <kidoz at mail dot ru>
pkgname=rails
pkgver=2.3.11
_rack_pkgver=1.1.0
pkgrel=1
pkgdesc="Is an open source web application framework for the Ruby programming language."
arch=(any)
url="http://www.rubyonrails.org/"
license=('MIT')
depends=('ruby' 'ruby-sqlite3')
provides=('ruby-rack=1.1.0' 'ruby-activeresource=2.3.11' 'ruby-actionmailer=2.3.11' 'ruby-actionpack=2.3.11'
			'ruby-activerecord=2.3.11' 'ruby-activesupport=2.3.11' 'ruby-rails=2.3.11')
conflicts=('ruby-rack' 'ruby-rack110' 'ruby-rack1xx' 'ruby-rails' 'ruby-rails-aio' 'ruby-rails2xx' 'ruby-rails2xx-aio')
source=(http://gems.rubyforge.org/gems/activeresource-$pkgver.gem
		http://gems.rubyforge.org/gems/actionmailer-$pkgver.gem
		http://gems.rubyforge.org/gems/actionpack-$pkgver.gem
		http://gems.rubyforge.org/gems/activerecord-$pkgver.gem
		http://gems.rubyforge.org/gems/activesupport-$pkgver.gem
		http://gems.rubyforge.org/gems/rack-$_rack_pkgver.gem
		http://gems.rubyforge.org/gems/rails-$pkgver.gem
		)

noextract=(activeresource-$pkgver.gem
			actionmailer-$pkgver.gem
			actionpack-$pkgver.gem
			activerecord-$pkgver.gem
			activesupport-$pkgver.gem
			rack-$_rack_pkgver.gem
			rails-$pkgver.gem
			)

md5sums=('1db8bd1a5daa398c84052fe3662d3edb'
         '4b76a14a67b2ac8220298c6d3b44792c'
         'edcab685efc7d021b71b6eb848f3d615'
         '531b37f3217ce0431b18ad8aa9dabc9b'
         '713edf8f82c8b0dfa61fedb489626c75'
         'f5ff2d6d348f41bb3833847223f792ce'
         'b37fc9fffea688110f2072d02309bbfa')





_gem_list=(activeresource-$pkgver
			actionmailer-$pkgver
			actionpack-$pkgver
			activerecord-$pkgver
			activesupport-$pkgver
			rack-$_rack_pkgver
			rails-$pkgver
			)
			
build() {
cd $srcdir
local _gemdir="$(ruby -rubygems -e'puts Gem.default_dir')"
for _gem_name in ${_gem_list[*]}
do gem install --ignore-dependencies -i "$pkgdir$_gemdir" -n "$pkgdir/usr/bin" $_gem_name.gem
done
}
