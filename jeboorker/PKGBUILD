# Maintainer: Matthias Geist <mg@morologia.net>
pkgname=jeboorker
pkgver=0.3.1
pkgrel=1
pkgdesc="A gui ebook management software which can be merged with an existing ebook folder structure. Supports epub, cbr, cbz and pdf documents without DRM."
arch=('any')
url="https://code.google.com/p/jeboorker/"
license=('GPL3')
install=jeboorker.install
depends=('xdg-utils' 'java-runtime>=7' 'unrar' 'rar')
source=("$pkgname-$pkgver.tar.gz"::"https://jeboorker.googlecode.com/files/jeboorker-0.3.1.tar.gz")
md5sums=('ff8bbbb3dd9125ea04985f51684bd9f9') #generate with 'makepkg -g'

package() {
  cd "$srcdir/"
  mkdir -p ${pkgdir}/usr/share/java/jeboorker/lib mkdir ${pkgdir}/usr/share/java/jeboorker/lib/dropbox
  mkdir -p ${pkgdir}/usr/share/java/jeboorker/lib/epublib ${pkgdir}/usr/share/java/jeboorker/lib/jmupdf
  mkdir -p ${pkgdir}/usr/share/java/jeboorker/lib/orientdb
  mkdir -p ${pkgdir}/usr/share/applications/
  mkdir -p ${pkgdir}/usr/share/doc/jeboorker/license/
  mkdir -p ${pkgdir}/usr/bin/ ${pkgdir}/usr/share/pixmaps/
  pwd
  install -m644 jeboorker/lib/*.jar "${pkgdir}/usr/share/java/jeboorker/lib/"
  install -m755 jeboorker/*.sh "${pkgdir}/usr/share/java/jeboorker/"
  install -m644 jeboorker/lib/dropbox/* "${pkgdir}/usr/share/java/jeboorker/lib/dropbox/"
  install -m644 jeboorker/lib/epublib/* "${pkgdir}/usr/share/java/jeboorker/lib/epublib/"
  install -m644 jeboorker/lib/jmupdf/* "${pkgdir}/usr/share/java/jeboorker/lib/jmupdf/"
  install -m644 jeboorker/lib/orientdb/* "${pkgdir}/usr/share/java/jeboorker/lib/orientdb/" 
  install -m644 applications/jeboorker.desktop "${pkgdir}/usr/share/applications/"
  install -m644 doc/jeboorker/license/* "${pkgdir}/usr/share/doc/jeboorker/license/"
  install -m644 pixmaps/jeboorker.png "${pkgdir}/usr/share/pixmaps/"
}
