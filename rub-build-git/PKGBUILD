# Maintainer: Kevin Cox <kevincox@kevincox.ca>
pkgname='rub-build-git'
pkgver=cb9499c
pkgrel=1
pkgdesc='A cross-platform language independent build framework.'
arch=('i686' 'x86_64')
url='https://github.com/kevincox/rub'
license=('MIT style')
depends=('ruby')
optdepends=('ruby-sysexits: needs to be available (install it with pacgem).')
makedepends=('git')
provides=('rub-build')
source=('git+https://github.com/kevincox/rub.git')
sha1sums=('SKIP')

pkgver()
{
	cd "$srcdir/rub"
	git describe --always --dirty
}

build()
{
	cd "$srcdir/rub"
	bin/rub "-Dprefix=$pkgdir/usr/"
}

package()
{
	cd "$srcdir/rub"
	bin/rub "-Dprefix=$pkgdir/usr/" :install
}

