# Contributor: Chaiwat Suttipongsakul <cwt at bashell dot com>
# Contributor: Jonathan Liu <net147@gmail.com>
pkgname=python-ipaddr
_realpkgname=ipaddr
pkgver=2.1.5
pkgrel=5
pkgdesc="An IPv4/IPv6 manipulation library in Python"
arch=('any')
url="http://code.google.com/p/ipaddr-py/"
license=('APACHE')
depends=('python2')
makedepends=('python2-distribute')
source=("http://ipaddr-py.googlecode.com/files/$_realpkgname-$pkgver.tar.gz")
md5sums=('1189f0b46bdf1900857cdebe00af8275')

build() { 
  cd "$srcdir/$_realpkgname-$pkgver"
  python2 setup.py build
}

package() {
  cd "$srcdir/$_realpkgname-$pkgver"
  python2 setup.py install --root="$pkgdir" -O1
  find "$pkgdir" -name '*.py' -exec sed -i -r "s|#\s*!\s*/usr/bin/(env\s*)?python\s*$|#!/usr/bin/env python2|" {} +
}

# vim:set ts=2 sw=2 et:
