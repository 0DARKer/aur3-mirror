# Maintainer: Ivan Sichmann Freitas <ivansichfreitas@gmail.com>
# Contributor: Jaroslav Lichtblau <dragonlord@aur.archlinux.org>
# Contributor: Jeff Mickey <jeff@archlinux.org>

pkgname=ctemplate
pkgver=0.99
pkgrel=2
pkgdesc="A library implementing a simple but powerful template language for C++"
arch=('i686' 'x86_64')
url="http://code.google.com/p/google-ctemplate/"
license=('BSD')
depends=('gcc-libs')
options=('!libtool')
source=(http://google-ctemplate.googlecode.com/files/$pkgname-$pkgver.tar.gz
        stddef.patch)
md5sums=('269c317ece4a3d008c815d06c1c54a3c'
         '27229ad5c3a8c8bf484351b436d7b22a')

build() {
  cd ${srcdir}/$pkgname-$pkgver

  cd src/ctemplate
  patch -p0 < $startdir/stddef.patch
  cd -
  ./configure --prefix=/usr
  make || return 1
}

package() {
  cd ${srcdir}/$pkgname-$pkgver
  make DESTDIR=${pkgdir} install || return 1

  #license
  install -D -m644 COPYING ${pkgdir}/usr/share/licenses/$pkgname/LICENSE
}
