# Contributor: Peter Simons <simons@cryp.to>
# Contributor: Nicolas Pouillard <nicolas.pouillard@gmail.com>
pkgname=pycryptopp
pkgver=0.5.29
pkgrel=2
pkgdesc="Python wrappers for the Crypto++ library"
arch=('i686' 'x86_64')
url='http://allmydata.org/trac/pycryptopp'
license=('GPL')
groups=()
depends=('python2' 'crypto++')
makedepends=('darcsver' 'setuptools_darcs')
provides=()
conflicts=()
replaces=()
backup=()
options=()
install=
source=( http://pypi.python.org/packages/source/p/$pkgname/$pkgname-$pkgver.tar.gz )
noextract=()
md5sums=('c5b86ad1ebda0e7999bb50d72e412c6a')

build() {
  cd "$srcdir/$pkgname-$pkgver" || return 1
  export PYCRYPTOPP_DISABLE_EMBEDDED_CRYPTOPP=1
  python2 setup.py build || return 1
  python2 setup.py test || return 1
}

package() {
  cd "$srcdir/$pkgname-$pkgver" || return 1
  python2 setup.py install --root="$pkgdir" || return 1
}
