# Maintainer: Paul N. Maxwell <msg.maxwel@gmail.com>
pkgname=transmission-remote-gui
pkgver=1.4
pkgrel=1
pkgdesc="Cross platform remote GUI for the Transmission daemon"
arch=('i686' 'x86_64')
url="http://code.google.com/p/transmisson-remote-gui/"
license=('GPL2')
depends=('gtk2')
makedepends=('lazarus')
conflicts=('transmission-remote-gui-svn')
options=()
install=transmission-remote-gui.install
source=('http://transmisson-remote-gui.googlecode.com/files/transgui-1.4-src.zip'
        '1.4-fhs.patch'
        'transgui.png'
        'transgui.desktop'
        'transgui.uk')
noextract=()
md5sums=('462f660bc58a9d611bf4c6c7f2b07fd2'
         '11555f6b6a3a9b9fe47744ae541866dc'
         '1f943d5b73e0598ed8a3e58e3eab5f6c'
         'cf55fd5a681d9b34a1f9c7d91b74d121'
         '87936c28f8bba6959367f9a8ef621ac5')

build() {
  cd "$srcdir"
  patch -Np0 < 1.4-fhs.patch

  cd "$srcdir/TransGUI"
  lazbuild transgui.lpi
}

package() {
  cd "$srcdir/TransGUI"
  install -D -m 755 units/transgui $pkgdir/usr/bin/transgui
  install -D -m 644 lang/transgui.ru $pkgdir/usr/share/TransGUI/lang/transgui.ru
  install -D -m 644 history.txt $pkgdir/usr/share/doc/$pkgname/history.txt
  install -D -m 644 readme.txt $pkgdir/usr/share/doc/$pkgname/readme.txt
  install -D -m 644 VERSION.txt $pkgdir/usr/share/doc/$pkgname/VERSION.txt

  cd "$srcdir"
  install -D -m 644 transgui.png $pkgdir/usr/share/pixmaps/transgui.png
  install -D -m 644 transgui.desktop $pkgdir/usr/share/applications/transmission-remote-gui.desktop
  install -D -m 644 transgui.uk $pkgdir/usr/share/TransGUI/lang/transgui.uk
}

