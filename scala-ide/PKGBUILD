# Maintainer: Kristof Jozsa <kjozsa@fsdev.hu>

pkgname=scala-ide
pkgver=2.0.0beta12
pkgrel=2
pkgdesc="Scala IDE for Eclipse"
arch=('i686' 'x86_64')
url="http://www.scala-ide.org/"
license=('custom')
depends=('eclipse>=3.7')
noextract=(${source[@]##*/})

source=(\
http://download.scala-ide.org/releases/2.0.0-beta/features/org.scala-ide.sdt.feature_2.0.0.beta12-2_09-201110310936-87d1fd5.jar \
http://download.scala-ide.org/releases/2.0.0-beta/features/org.scala-ide.sdt.source.feature_2.0.0.beta12-2_09-201110310936-87d1fd5.jar \
http://download.scala-ide.org/releases/2.0.0-beta/features/org.scala-ide.sdt.weaving.feature_2.0.0.beta12-2_09-201110310936-87d1fd5.jar \
http://download.scala-ide.org/releases/2.0.0-beta/plugins/org.aspectj.runtime_1.6.12.20110613132200.jar \
http://download.scala-ide.org/releases/2.0.0-beta/plugins/org.aspectj.weaver_1.6.12.20110613132200.jar \
http://download.scala-ide.org/releases/2.0.0-beta/plugins/org.eclipse.contribution.weaving.jdt_2.1.3.e36x-20110622-1300.jar \
http://download.scala-ide.org/releases/2.0.0-beta/plugins/org.eclipse.equinox.weaving.aspectj_1.0.0.v20100503.jar \
http://download.scala-ide.org/releases/2.0.0-beta/plugins/org.eclipse.equinox.weaving.hook_1.0.0.v20100503.jar \
http://download.scala-ide.org/releases/2.0.0-beta/plugins/org.scala-ide.sbt.full.library_0.11.3.2_09-20111031-0501.jar \
http://download.scala-ide.org/releases/2.0.0-beta/plugins/org.scala-ide.scala.compiler_2.9.2.r25900-b20111028042233.jar \
http://download.scala-ide.org/releases/2.0.0-beta/plugins/org.scala-ide.scala.library_2.9.2.r25900-b20111028042233.jar \
http://download.scala-ide.org/releases/2.0.0-beta/plugins/org.scala-ide.sdt.aspects.source_2.0.0.beta12-2_09-201110310936-87d1fd5.jar \
http://download.scala-ide.org/releases/2.0.0-beta/plugins/org.scala-ide.sdt.aspects_2.0.0.beta12-2_09-201110310936-87d1fd5.jar \
http://download.scala-ide.org/releases/2.0.0-beta/plugins/org.scala-ide.sdt.core.source_2.0.0.beta12-2_09-201110310936-87d1fd5.jar \
http://download.scala-ide.org/releases/2.0.0-beta/plugins/org.scala-ide.sdt.core_2.0.0.beta12-2_09-201110310936-87d1fd5.jar \
http://download.scala-ide.org/releases/2.0.0-beta/plugins/org.scala-refactoring.library_0.3.0.201110310505.jar \
http://download.scala-ide.org/releases/2.0.0-beta/plugins/scalariform_0.1.2.201110310507.jar \
LICENSE)

md5sums=( \
'357e613edf5a5930f71276808823e8f1' \
'1b1c358ed41565ca4128aef80108ad88' \
'f025efecfe6e622d00a902bdba90914d' \
'43f7b90ce20a2f85e619a8694ca2b470' \
'a03d2127e8c588bfc2f4dde58e91048f' \
'e85f14c46bb487a580de32c32f82c3cb' \
'41068c9b17654ea48a44425c52b877b8' \
'193469ced28b6a9950643f38561b2c64' \
'22bb02bb22277d33d8bc174817b51945' \
'49cd7c6080be13013b17b3126a7f1f97' \
'916c10adaa38f13108bf21e80152bbbc' \
'e7358c43d1ab94104491b2df8635effb' \
'32b1ef83abfa619e527fd58365041502' \
'0b1fe87dbc9366a73f49acf416b9b541' \
'08f28c45d6dd624661f1aefe8166122c' \
'7b51ef6285e058b54629448b904cf961' \
'f8949e45c219ec4cc36e9818650bce9e' \
'58b225f304aaf42c8b8738894a10cb96')

build() {
  mkdir -p $pkgdir/usr/share/eclipse/dropins/scala-ide/eclipse/features
  mkdir -p $pkgdir/usr/share/eclipse/dropins/scala-ide/eclipse/plugins

  install -m644 artifacts.jar $pkgdir/usr/share/eclipse/dropins/scala-ide/eclipse/
  install -m644 content.jar $pkgdir/usr/share/eclipse/dropins/scala-ide/eclipse/
  install -m644 site.xml $pkgdir/usr/share/eclipse/dropins/scala-ide/eclipse/
  
  install -m644 org.scala-ide.sdt.feature_2.0.0.beta12-2_09-201110310936-87d1fd5.jar $pkgdir/usr/share/eclipse/dropins/scala-ide/eclipse/features/
  install -m644 org.scala-ide.sdt.source.feature_2.0.0.beta12-2_09-201110310936-87d1fd5.jar $pkgdir/usr/share/eclipse/dropins/scala-ide/eclipse/features/
  install -m644 org.scala-ide.sdt.weaving.feature_2.0.0.beta12-2_09-201110310936-87d1fd5.jar $pkgdir/usr/share/eclipse/dropins/scala-ide/eclipse/features/
  
  for i in \
org.aspectj.runtime_1.6.12.20110613132200.jar \
org.aspectj.weaver_1.6.12.20110613132200.jar \
org.eclipse.contribution.weaving.jdt_2.1.3.e36x-20110622-1300.jar \
org.eclipse.equinox.weaving.aspectj_1.0.0.v20100503.jar \
org.eclipse.equinox.weaving.hook_1.0.0.v20100503.jar \
org.scala-ide.sbt.full.library_0.11.3.2_09-20111031-0501.jar \
org.scala-ide.scala.compiler_2.9.2.r25900-b20111028042233.jar \
org.scala-ide.scala.library_2.9.2.r25900-b20111028042233.jar \
org.scala-ide.sdt.aspects_2.0.0.beta12-2_09-201110310936-87d1fd5.jar \
org.scala-ide.sdt.aspects.source_2.0.0.beta12-2_09-201110310936-87d1fd5.jar \
org.scala-ide.sdt.core_2.0.0.beta12-2_09-201110310936-87d1fd5.jar \
org.scala-ide.sdt.core.source_2.0.0.beta12-2_09-201110310936-87d1fd5.jar \
org.scala-refactoring.library_0.3.0.201110310505.jar \
scalariform_0.1.2.201110310507.jar \
; do 
    install -m644 $i $pkgdir/usr/share/eclipse/dropins/scala-ide/eclipse/plugins/; \
  done

  install -D -m0644 $startdir/LICENSE $pkgdir/usr/share/licenses/${pkgname}/LICENSE
}
