# Contributor: Kristof Jozsa <kjozsa@fsdev.hu>

pkgname=scala-ide
pkgver=2.0.0beta11
pkgrel=1
pkgdesc="Scala IDE for Eclipse"
arch=('i686' 'x86_64')
url="http://www.scala-ide.org/"
license=('custom')
depends=('eclipse>=3.7')
options=(!strip)
noextract=(${source[@]##*/})

source=(http://download.scala-ide.org/releases/2.0.0-beta/artifacts.jar \
http://download.scala-ide.org/releases/2.0.0-beta/content.jar \
http://download.scala-ide.org/releases/2.0.0-beta/site.xml \
http://download.scala-ide.org/releases/2.0.0-beta/features/org.scala-ide.sdt.feature_2.0.0.beta11-2_09-201110031011-3a97f5e.jar \
http://download.scala-ide.org/releases/2.0.0-beta/features/org.scala-ide.sdt.source.feature_2.0.0.beta11-2_09-201110031011-3a97f5e.jar \
http://download.scala-ide.org/releases/2.0.0-beta/features/org.scala-ide.sdt.weaving.feature_2.0.0.beta11-2_09-201110031011-3a97f5e.jar \
http://download.scala-ide.org/releases/2.0.0-beta/plugins/org.aspectj.runtime_1.6.12.20110613132200.jar \
http://download.scala-ide.org/releases/2.0.0-beta/plugins/org.aspectj.weaver_1.6.12.20110613132200.jar \
http://download.scala-ide.org/releases/2.0.0-beta/plugins/org.eclipse.contribution.weaving.jdt_2.1.3.e36x-20110622-1300.jar \
http://download.scala-ide.org/releases/2.0.0-beta/plugins/org.eclipse.equinox.weaving.aspectj_1.0.0.v20100503.jar \
http://download.scala-ide.org/releases/2.0.0-beta/plugins/org.eclipse.equinox.weaving.hook_1.0.0.v20100503.jar \
http://download.scala-ide.org/releases/2.0.0-beta/plugins/org.scala-ide.sbt.full.library_0.11.1.2_09-20111003-0912.jar \
http://download.scala-ide.org/releases/2.0.0-beta/plugins/org.scala-ide.scala.compiler_2.9.2.r25743-b20110928032420.jar \
http://download.scala-ide.org/releases/2.0.0-beta/plugins/org.scala-ide.scala.library_2.9.2.r25743-b20110928032420.jar \
http://download.scala-ide.org/releases/2.0.0-beta/plugins/org.scala-ide.sdt.aspects.source_2.0.0.beta11-2_09-201110031011-3a97f5e.jar \
http://download.scala-ide.org/releases/2.0.0-beta/plugins/org.scala-ide.sdt.aspects_2.0.0.beta11-2_09-201110031011-3a97f5e.jar \
http://download.scala-ide.org/releases/2.0.0-beta/plugins/org.scala-ide.sdt.core.source_2.0.0.beta11-2_09-201110031011-3a97f5e.jar \
http://download.scala-ide.org/releases/2.0.0-beta/plugins/org.scala-ide.sdt.core_2.0.0.beta11-2_09-201110031011-3a97f5e.jar \
http://download.scala-ide.org/releases/2.0.0-beta/plugins/org.scala-refactoring.library_0.3.0.201110030915.jar \
http://download.scala-ide.org/releases/2.0.0-beta/plugins/scalariform_0.1.1.201110030915.jar \
LICENSE)

md5sums=('730f70b757b64c32d56d6aa57e5f7487' \
'96e159009024177b6b708353f8acc787' \
'733a248db869967d55a36ad1d9e09dde' \
'70d9d97db480138aba2bad2dda4fa8e3' \
'acd11a285e4ef9761bca68bfdc3f7a93' \
'b9d92f33a040154f91b2e412f61b53d4' \
'43f7b90ce20a2f85e619a8694ca2b470' \
'a03d2127e8c588bfc2f4dde58e91048f' \
'e85f14c46bb487a580de32c32f82c3cb' \
'41068c9b17654ea48a44425c52b877b8' \
'193469ced28b6a9950643f38561b2c64' \
'c85ca116799563bf8bdc5caed29fafe3' \
'766bb5b2507a90da41fc46f9fb1f03da' \
'a2a639a45b06b14fbfb2aba24a7b36d0' \
'd9e145c31822a198e91943082434e1ef' \
'5fd3dbd03c319ad18eafb989da553573' \
'4b833add2bf623ffde1e4289af287650' \
'2d99278882c380051e0791c8cc4604c7' \
'2bb2781359b7bf2e95f65b727d214e72' \
'08c5def936f9272af635e1242cd66fe5' \
'58b225f304aaf42c8b8738894a10cb96')

build() {
  mkdir -p $pkgdir/usr/share/eclipse/dropins/scala-ide/eclipse/features
  mkdir -p $pkgdir/usr/share/eclipse/dropins/scala-ide/eclipse/plugins

  install -m644 artifacts.jar $pkgdir/usr/share/eclipse/dropins/scala-ide/eclipse/
  install -m644 content.jar $pkgdir/usr/share/eclipse/dropins/scala-ide/eclipse/
  install -m644 site.xml $pkgdir/usr/share/eclipse/dropins/scala-ide/eclipse/
  
  install -m644 org.scala-ide.sdt.feature_2.0.0.beta11-2_09-201110031011-3a97f5e.jar $pkgdir/usr/share/eclipse/dropins/scala-ide/eclipse/features/
  install -m644 org.scala-ide.sdt.source.feature_2.0.0.beta11-2_09-201110031011-3a97f5e.jar $pkgdir/usr/share/eclipse/dropins/scala-ide/eclipse/features/
  install -m644 org.scala-ide.sdt.weaving.feature_2.0.0.beta11-2_09-201110031011-3a97f5e.jar $pkgdir/usr/share/eclipse/dropins/scala-ide/eclipse/features/
  
  for i in \
org.aspectj.runtime_1.6.12.20110613132200.jar \
org.aspectj.weaver_1.6.12.20110613132200.jar \
org.eclipse.contribution.weaving.jdt_2.1.3.e36x-20110622-1300.jar \
org.eclipse.equinox.weaving.aspectj_1.0.0.v20100503.jar \
org.eclipse.equinox.weaving.hook_1.0.0.v20100503.jar \
org.scala-ide.sbt.full.library_0.11.1.2_09-20111003-0912.jar \
org.scala-ide.scala.compiler_2.9.2.r25743-b20110928032420.jar \
org.scala-ide.scala.library_2.9.2.r25743-b20110928032420.jar \
org.scala-ide.sdt.aspects.source_2.0.0.beta11-2_09-201110031011-3a97f5e.jar \
org.scala-ide.sdt.aspects_2.0.0.beta11-2_09-201110031011-3a97f5e.jar \
org.scala-ide.sdt.core.source_2.0.0.beta11-2_09-201110031011-3a97f5e.jar \
org.scala-ide.sdt.core_2.0.0.beta11-2_09-201110031011-3a97f5e.jar \
org.scala-refactoring.library_0.3.0.201110030915.jar \
scalariform_0.1.1.201110030915.jar; do \
    install -m644 $i $pkgdir/usr/share/eclipse/dropins/scala-ide/eclipse/plugins/; \
  done

  install -D -m0644 $startdir/LICENSE $pkgdir/usr/share/licenses/${pkgname}/LICENSE
}
