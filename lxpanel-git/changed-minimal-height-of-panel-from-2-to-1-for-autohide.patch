From c7263d0cebf186fa3c03c1f48421632752c10757 Mon Sep 17 00:00:00 2001
From: Raimar <no@email.de>
Date: Thu, 14 Aug 2014 17:13:26 +0200
Subject: [PATCH] changed minimal height of panel from 2 to 1 for autohide

---
 data/ui/panel-pref.glade | 4 ++--
 src/panel.c              | 4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/data/ui/panel-pref.glade b/data/ui/panel-pref.glade
index e734537..d90eec9 100644
--- a/data/ui/panel-pref.glade
+++ b/data/ui/panel-pref.glade
@@ -3,9 +3,9 @@
   <requires lib="gtk+" version="2.16"/>
   <!-- interface-naming-policy toplevel-contextual -->
   <object class="GtkAdjustment" id="adjustment1">
-    <property name="lower">2</property>
+    <property name="lower">1</property>
     <property name="upper">10</property>
-    <property name="value">2</property>
+    <property name="value">1</property>
     <property name="step_increment">1</property>
   </object>
   <object class="GtkAdjustment" id="adjustment2">
diff --git a/src/panel.c b/src/panel.c
index 4e40f4b..e33c10d 100644
--- a/src/panel.c
+++ b/src/panel.c
@@ -101,7 +101,7 @@ static Panel* panel_allocate(void)
     p->round_corners = 0;
     p->autohide = 0;
     p->visible = TRUE;
-    p->height_when_hidden = 2;
+    p->height_when_hidden = 1;
     p->transparent = 0;
     p->alpha = 255;
     gdk_color_parse("white", &p->gtintcolor);
@@ -1303,7 +1303,7 @@ panel_parse_global(Panel *p, config_setting_t *cfg)
     }
     if (config_setting_lookup_int(cfg, "autohide", &i))
         p->autohide = i != 0;
-    if (config_setting_lookup_int(cfg, "heightwhenhidden", &i) && i >= 2)
+    if (config_setting_lookup_int(cfg, "heightwhenhidden", &i) && i >= 1)
         p->height_when_hidden = i;
     if (config_setting_lookup_string(cfg, "tintcolor", &str))
     {
-- 
2.0.4

