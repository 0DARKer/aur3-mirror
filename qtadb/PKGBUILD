# Maintainer: Gordin <9ordin @t gmail dot com>
# Contributor: Tomas Hetmer <tomas at hetmer dot net>

pkgname=qtadb
pkgver=0.7.6
pkgrel=5
pkgdesc="GUI for Android SDK/ADB, Android phone manager"
arch=('i686' 'x86_64')
url="http://qtadb.wordpress.com/"
license=('custom:"Proprietary"')
install=${pkgname}.install
depends=('qt' 'android-sdk-platform-tools')

[ "$CARCH" = 'x86_64' ] && _architecture=('64')
[ "$CARCH" = 'i686' ] && _architecture=('32')

_srcdir="${srcdir}/QtADB_${pkgver}_linux${_architecture}_with_binaries"

source=("http://downloads.sourceforge.net/project/qtadb/QtADB%20${pkgver}/new/QtADB_${pkgver}_linux${_architecture}_with_binaries.tar.gz"
	"qtadb.desktop" "qtadb.png") # Official website does not provide easily downloadable tgz/zip; mirror

[ "$CARCH" = 'x86_64' ] && md5sums=('91da025d75548a1ba919d81ec15d0a2b' '66dfb4e467c156b99acf2c4711134cb7' 'e27b5da6b0b6ad185201ea073857da28')
[ "$CARCH" = 'i686' ] && md5sums=('0eb3c00a7f1d9bb35b16d22b6ccf9d40' '66dfb4e467c156b99acf2c4711134cb7' 'e27b5da6b0b6ad185201ea073857da28')



build() {
  chmod +x $_srcdir/QtADB
  install -Dm644 $startdir/qtadb.png "$pkgdir/usr/share/pixmaps/$pkgname.png"
  install -Dm644 $startdir/qtadb.desktop "$pkgdir/usr/share/applications/$pkgname.desktop"
  install -Dm755 $_srcdir/QtADB "$pkgdir/usr/bin/QtADB"
}
