# Contributor: ConnorBehan <connor.behan@gmail.com>
pkgname=unified-demos
pkgver=0.2
pkgrel=2
pkgdesc="Replacement for all gtk-demo language bindings"
arch=(i686 x86_64)
url="http://demohack.sourceforge.net/"
license=('LGPL')
depends=('pygtk' 'pyxml' 'medit-full')
makedepends=('pkgconfig' 'gtkmm')
optdepends=('gtkmm:	Running C++ demos'
	    'gtk2-perl:	Running Perl demos'
	    'ruby-gtk2:	Running Ruby demos')
source=(http://downloads.sourceforge.net/sourceforge/demohack/${pkgname}-${pkgver}.tar.gz)

build() {
  cd ${srcdir}/${pkgname}-${pkgver}
  sed -i -e 's|/usr/bin/python|/usr/bin/python2|' demohack
  for file in `ls data/demos/pygtk/bin`; do
  	sed -i -e 's/env python/env python2/' data/demos/pygtk/bin/$file
  done
  make || return 1
  make DESTDIR=${pkgdir} install
}

md5sums=('7bf7943269918125f1a30994a2008739')
