#!/bin/bash

# Maintainer: Kurt J. Bosch <kjb-temp-2009 at alpenjodel.de>

pkgname=fbsplash-extras
pkgver=3.1
pkgrel=1

pkgdesc="Advanced Fbsplash script for Arch Linux initscripts"
arch=('any')
url="http://aur.archlinux.org/packages.php?ID=38775"
license=( 'GPL' )
depends=(
	'bash>=4' 'fbsplash>=1.5.4.3-31'
)
conflicts=( 'initscripts-extras-fbsplash' 'initscripts-splashy' )
optdepends=(
	'mkinitcpio>=0.6.8: Early splash daemon start'
	'initscripts>=2011.09.2: Bootup/shutdown splash daemon control'
	'fbsplash-themes-arch-banner: Show icons for daemons and pseudo-services'
)
source=(
	splash-extras
	fbsplash-extras.sh
	fbsplash-initscripts-services-get
	fbsplash-chvt
	fbsplash-controld
	fbsplash-control-functions.bash
	75fbsplash-extras
)
backup=( etc/conf.d/splash-extras )
install=INSTALL

package() {
	cd ${pkgdir}
	mkdir -p etc/conf.d etc/rc.d/functions.d usr/bin usr/lib/pm-utils/sleep.d
	cd ${srcdir}
	install -m644 -t ${pkgdir}/etc/conf.d              splash-extras
	install -m644 -t ${pkgdir}/etc/rc.d/functions.d  fbsplash-extras.sh
	install -m755 -t ${pkgdir}/usr/bin fbsplash-chvt fbsplash-controld
	install -m644 -t ${pkgdir}/usr/bin fbsplash-control-functions.bash
	install -m755 -t ${pkgdir}/usr/bin fbsplash-initscripts-services-get
	install -m755 -t ${pkgdir}/usr/lib/pm-utils/sleep.d 75fbsplash-extras
}

md5sums=('f8fa0f4df9868b0defdd6a1fbf7a9b32'
         'b545416382ef47f7cb187f6319336f6f'
         '138c98eaa8efdc3f0c01bb577917ba61'
         '10eebc628f5cde5576bb96dd3aefa282'
         '8be493290c841dc37ce9bc7c7eace75f'
         '72e47b0f28dfaaeb67ac0915dce87075'
         'd882ad8d672340ef71cea9579dbfd072')
