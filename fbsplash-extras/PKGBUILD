#!/bin/bash

# Maintainer: Kurt J. Bosch <kjb-temp-2009 at alpenjodel.de>

pkgname=fbsplash-extras
pkgver=3.0.1
pkgrel=1

pkgdesc="Advanced Fbsplash script for Arch Linux initscripts"
arch=('any')
url="http://aur.archlinux.org/packages.php?ID=38775"
license=( 'GPL' )
depends=(
	'bash>=4' 'fbsplash>=1.5.4.3-31'
)
conflicts=( 'initscripts-extras-fbsplash' 'initscripts-splashy' )
optdepends=(
	'mkinitcpio>=0.6.8: Early splash daemon start'
	'initscripts>=2011.09.2: Bootup/shutdown splash daemon control'
	'fbsplash-themes-arch-banner: Show icons for daemons and pseudo-services'
)
source=(
	splash-extras
	fbsplash-extras.sh
	fbsplash-initscripts-services-get
	fbsplash-chvt
	fbsplash-controld
	fbsplash-control-functions.bash
	75fbsplash-extras
)
backup=( etc/conf.d/splash-extras )
install=INSTALL

package() {
	cd ${pkgdir}
	mkdir -p etc/conf.d etc/rc.d/functions.d sbin usr/bin usr/lib/pm-utils/sleep.d
	cd ${srcdir}
	install -m644 -t ${pkgdir}/etc/conf.d              splash-extras
	install -m644 -t ${pkgdir}/etc/rc.d/functions.d  fbsplash-extras.sh
	install -m755 -t ${pkgdir}/sbin    fbsplash-chvt fbsplash-controld
	install -m644 -t ${pkgdir}/sbin    fbsplash-control-functions.bash
	install -m755 -t ${pkgdir}/usr/bin fbsplash-initscripts-services-get
	install -m755 -t ${pkgdir}/usr/lib/pm-utils/sleep.d 75fbsplash-extras
}

md5sums=('85b6886cc6b558f415de9c81f9e5e6e5'
         'caf9ead51d96cd65aeca8769052c7c00'
         '138c98eaa8efdc3f0c01bb577917ba61'
         'a6079212a03b310f7c798644b99baf86'
         '2272116b5967ba3383df59cd2a7a4fb6'
         '72e47b0f28dfaaeb67ac0915dce87075'
         '0e0410900e8617c9ca4d02ffbf93d8be')
