# Maintainer: Mikael Eriksson <mikael_miffe_eriksson@yahoo.se>

pkgname=mingw32-sdl
pkgver=1.2.14
pkgrel=3
pkgdesc="A library for portable low-level access to a video framebuffer, audio output, mouse, and keyboard (mingw32)"
arch=('any')
url="http://libsdl.org/"
license=('LGPL')
depends=('mingw32-runtime')
makedepends=('mingw32-gcc' 'mingw32-w32api' 'mingw32-dx7-headers')
source=(http://libsdl.org/release/SDL-$pkgver.tar.gz)
options=(!strip)
md5sums=('e52086d1b508fa0b76c52ee30b55bec4')

build() {
  cd "$startdir/src/SDL-$pkgver"

  unset LDFLAGS # mingw-ld chokes on the makepkg default: --hash-style

  ./configure --host=i486-mingw32 \
  --prefix=/usr/i486-mingw32 \
  --enable-static \
  --disable-stdio-redirect \
  --enable-shared

  make || return 1
  make DESTDIR="$startdir/pkg" install
}

# vim:set ts=2 sw=2 et:
