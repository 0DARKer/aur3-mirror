# Maintainer: Peter Polacik <polacik.p@gmail.com>
pkgname=vitunes
pkgver=2.2
pkgrel=1
pkgdesc="vitunes is a curses-based playlist manager and media player for *nic operating systems with vim-like keybindings."
arch=('i686' 'x86_64')
license=('custom')
url="http://vitunes.org"
depends=('taglib' 'mplayer' 'ncurses')
makedepends=('mercurial' 'make' 'gcc')
source=()
_hgrepo=http://hg.ryanflannery.net/vitunes
_hgmod=vitunes

build() {
	rm -rf $_hgmod
	hg clone $_hgrepo $_hgmod
	msg "Mercurial Clone done"
	msg "Starting make..."
	cd ${srcdir}/$_hgmod
	make LDEPS='`taglib-config --libs` -ltag_c -lz -lstdc++' LDFLAGS='-lm -lncursesw -lutil $(LDEPS)' linux || return 1
	install -D -m 0555 vitunes $pkgdir/usr/bin/vitunes
	install -D -m 0444 vitunes.1 $pkgdir/usr/share/man/man1/vitunes.1
	rm -rf ${srcdir}/$_hgmod
}
