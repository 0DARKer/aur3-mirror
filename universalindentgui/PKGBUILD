# Maintainer: SÃ©bastien Dumont <sdumont@masteri2l.org>
pkgname=universalindentgui
pkgver=1.2.0
pkgrel=1
pkgdesc="A GUI for GNU Indent, Uncrustify, Artistic Styler, PHP Stylist, Ruby Beautify, HTML Tidy and many other"
url="http://universalindent.sourceforge.net/"
arch=('i686' 'x86_64')
license=('GPL')
depends=('qt4' 'qscintilla')
optdepends=(
	'astyle: a free, fast and small automatic formatter for C, C++, C sharp and Java',
	'ident: the GNU pretty-printer',
	'tidyhtml: a tool to tidy down your HTML code',
	'uncrustify: source code beautifier for C-like languages'
)
source=(
    http://download.sourceforge.net/sourceforge/universalindent/${pkgname}-${pkgver}.tar.gz
    no-strip.patch
)
md5sums=(
    6dd5a6ebc106e342736947857d3d2ad4
    917ed2b97c683364d7ff6a02f902a7f7
)

build() {
  cd ${srcdir}/${pkgname}-${pkgver}

echo "${srcdir}/no-strip.patch src/universalindentgui-${pkgver}/UniversalIndentGUI.pro"
  patch -Np1 -i ${srcdir}/no-strip.patch src/UniversalIndentGUI.pro || return 1
  qmake-qt4 UniversalIndentGUI.pro || return 1

  make || return 1
  make INSTALL_ROOT=${pkgdir} install || return 1
}
# vim:syntax=sh
