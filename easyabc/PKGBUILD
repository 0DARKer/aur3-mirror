# Maintainer: Simon Thorpe <simon@hivetechnology.com.au>
pkgname=easyabc
pkgver=1.3.5.8
pkgrel=1
pkgdesc="A graphical music notation editor for the ABC music notation language"
arch=('i686' 'x86_64' 'ppc')
url="http://sourceforge.net/projects/easyabc/"
license=('GPL')
depends=('wxpython2.8' 'python2-pyparsing' 'python2-pygame' 'abcmidi' 'abcm2ps')
source=('http://downloads.sourceforge.net/project/easyabc/EasyABC/1.3.5.8/easyabc_source_code_1.3.5_p8_20140805.zip'
        'easyabc.desktop')
sha256sums=('3a83462fc9f4bf1ff6680440ac85383aa0de2d4b61a8f302ef071ec9a83d4053'
            '4525afb6ed8026debbdd1f83d98908e3bf1e1bee7635bcf29a7677b4124eb791')

package(){
  mkdir -p $pkgdir/usr/share
  mkdir -p $pkgdir/usr/bin
  cp -R $srcdir/easyabc_source_code_1.3.5_p8 $pkgdir/usr/share/easyabc
  echo -e '#!/bin/bash\npython2 /usr/share/easyabc/easy_abc.py "$@"' >$pkgdir/usr/bin/easyabc
  chmod +x $pkgdir/usr/bin/easyabc
  install -Dm644 $srcdir/easyabc.desktop $pkgdir/usr/share/applications/easyabc.desktop
  install -Dm644 $srcdir/easyabc_source_code_1.3.5_p8/img/logo64.png $pkgdir/usr/share/icons/hicolor/64x64/apps/easyabc.png
}
