# Facter: Installer: Arch
# Maintainer: Thomas S Hatch <thatch45 (at) Gmail.com>

pkgname=facter-ruby1.8
pkgver=1.5.8
pkgrel=1
pkgdesc="A library for collecting facts about your system."
arch=("any")
url="http://puppetlabs.com/projects/facter/"
license=("GPL")
depends=("ruby1.8")
options=(!emptydirs)
sha1sums=('056449d7cdbac4289de14e871da047c0fd081d96')
source=(http://puppetlabs.com/downloads/facter/facter-${pkgver}.tar.gz)

build() {
	cd ${srcdir}/facter-${pkgver}

	# Build
	ruby-1.8 ./install.rb --destdir=${pkgdir} --sitelibdir=/opt/ruby1.8/lib/ruby/1.8/ --bindir=/usr/bin --sbindir=/usr/sbin
    sed -i 's,^#!/usr/bin/ruby,#!/usr/bin/ruby-1.8,' ${pkgdir}/usr/bin/facter
}
