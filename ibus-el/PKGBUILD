# Maintainer: XeCycle <XeCycle@Gmail.com>

pkgname=ibus-el
pkgver=0.2.1
pkgrel=4
pkgdesc="IBus client for GNU Emacs"
arch=('any')
url="https://launchpad.net/ibus.el"
license=('GPL')
depends=('emacs' 'python-xlib' 'ibus')
install=$pkgname.install
source=(http://launchpad.net/ibus.el/0.2/$pkgver/+download/$pkgname-$pkgver.tar.gz)
sha1sums=('65cdcd3f3631c0c6bddc0b5cc47095ed81cb91d2')

build() {
  cd "$srcdir/$pkgname-$pkgver"
  emacs --batch -f batch-byte-compile ibus.el
}

package() {
  cd "$srcdir/$pkgname-$pkgver"
  install -m 755 -d "$pkgdir/usr/share/emacs/site-lisp/ibus"
  install -m 644 README ibus.{el,elc} "$pkgdir/usr/share/emacs/site-lisp/ibus"
  install -m 755 ibus-el-agent "$pkgdir/usr/share/emacs/site-lisp/ibus"
}
