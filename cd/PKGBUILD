# Maintainer: Mihai Militaru <mihai dot militaru at xmpp dot ro>

pkgname=cd
_pkglongname=canvasdraw
pkgver=5.6.1
pkgrel=1
pkgdesc="C platform-independent graphics library."
arch=('i686' 'x86_64')
url="http://www.tecgraf.puc-rio.br/cd/"
license=('MIT')
makedepends=('freetype2' 'libx11' 'libxpm' 'libxmu' 'libxft' 'gtk2' 'lua')
depends=('ftgl' 'im>=3.7' 'gtk2' 'pangox-compat')
optdepends=('lua: bindings for Lua are available')

source=("http://downloads.sourceforge.net/project/${_pkglongname}/${pkgver}/Docs%20and%20Sources/${pkgname}-${pkgver}_Sources.tar.gz")
sha1sums=('3a10939a310cb9af0be5000a7e613a6308ef8e8c')

build() 
{
  cd ${srcdir}/${pkgname}
  chmod -R ugo+rwx .
  make
}

package() {
  cd ${srcdir}/${pkgname}
	
  mkdir -p ${pkgdir}/usr/{include,lib}
  install -m644 ${srcdir}/${pkgname}/lib/Linux*/libcd*.a ${pkgdir}/usr/lib/
  install -m755 ${srcdir}/${pkgname}/lib/Linux*/libcd*.so ${pkgdir}/usr/lib/
  install -m644 ${srcdir}/${pkgname}/lib/Linux*/libpdflib.a ${pkgdir}/usr/lib/
  install -m755 ${srcdir}/${pkgname}/lib/Linux*/libpdflib.so ${pkgdir}/usr/lib/
  install ${srcdir}/${pkgname}/include/* ${pkgdir}/usr/include/
  install -Dm644 ${srcdir}/${pkgname}/COPYRIGHT ${pkgdir}/usr/share/licenses/$pkgname/LICENSE
}
