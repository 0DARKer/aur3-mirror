# Maintainer: maoserr

pkgname=cd
pkgver=5.3
pkgrel=3
pkgdesc="C platform-independent graphics library."
arch=('i686' 'x86_64')
url="http://www.tecgraf.puc-rio.br/cd/"
license=('custom:tecgraf_library')
depends=('libxft' 'libxmu' 'freetype2')
optdepends=('lua: bindings for Lua are available'
            'iup: cross platform GUI toolkit'
            'im: for advanced imaging support'
            'mesa: for OpenGL support')
provides=('cd')
conflicts=('cd')
source=(http://sourceforge.net/projects/canvasdraw/files/5.3/Linux%20Libraries/cd5_3_Linux26_lib.tar.gz/download 'LICENSE')
[ $CARCH = 'x86_64' ] && source=(http://sourceforge.net/projects/canvasdraw/files/5.3/Linux%20Libraries/cd5_3_Linux26_64_lib.tar.gz/download 'LICENSE')
md5sums=('44cac66be2343f162b85fe8c7f0d680b' 
	'e73a2a7e8f737f4d0801bd368e2e1121')
[ $CARCH = 'x86_64' ] && md5sums=('d752e5c7854a3f608f8937f9bc8acfa5' 
	'e73a2a7e8f737f4d0801bd368e2e1121')

build() {
  mkdir -p $pkgdir/usr/{include,lib} || return 1
  install -m644 $srcdir/{libcd*.a,libpdflib.a} $pkgdir/usr/lib/ || return 1 
  install -m755 $srcdir/{libcd*.so,libpdflib.so} $pkgdir/usr/lib/ || return 1 
  install $srcdir/include/* $pkgdir/usr/include/ || return 1
  install -D $startdir/LICENSE $pkgdir/usr/share/licenses/$pkgname/LICENSE || return 1
}
