diff -Nur midori-0.3.5.orig/extensions/wscript_build midori-0.3.5/extensions/wscript_build
--- midori-0.3.5.orig/extensions/wscript_build	2011-05-02 02:06:21.000000000 +0200
+++ midori-0.3.5/extensions/wscript_build	2011-05-14 01:06:33.897434167 +0200
@@ -32,9 +32,9 @@
     obj.target = target
     obj.includes = '..'
     obj.source = source
-    obj.uselib = 'UNIQUE LIBSOUP GIO GTK SQLITE WEBKIT LIBXML HILDON'
+    obj.uselib = 'UNIQUE LIBSOUP GIO GTK SQLITE WEBKIT LIBXML HILDON GNOME-KEYRING'
     obj.vapi_dirs = '../midori'
-    obj.packages = 'glib-2.0 gio-2.0 gtk+-2.0 libsoup-2.4 webkit-1.0 midori'
+    obj.packages = 'glib-2.0 gio-2.0 gtk+-2.0 libsoup-2.4 webkit-1.0 midori gnome-keyring-1'
     obj.install_path = '${LIBDIR}/midori'
     if bld.env['platform'] == 'win32':
         obj.uselib_local = 'midori'
diff -Nur midori-0.3.5.orig/wscript midori-0.3.5/wscript
--- midori-0.3.5.orig/wscript	2011-05-02 02:06:21.000000000 +0200
+++ midori-0.3.5/wscript	2011-05-14 01:05:57.792878613 +0200
@@ -212,6 +212,7 @@
     conf.define ('LIBSOUP_VERSION', conf.check_cfg (modversion='libsoup-2.4'))
     check_pkg ('libxml-2.0', '2.6')
     check_pkg ('sqlite3', '3.0', True, var='SQLITE')
+    check_pkg ('gnome-keyring-1', '3.0.0', True, var='GNOME-KEYRING')
 
     if conf.env['HAVE_LIBSOUP_2_27_90']:
        idn = 'yes'
