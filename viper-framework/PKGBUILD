#Maintainer: Christian Rebischke <echo Q2hyaXMuUmViaXNjaGtlQGdtYWlsLmNvbQo= | base64 -d>

pkgname=viper-framework
pkgver=1.1
pkgrel=3
pkgdesc="Stable version of Viper the Binary Analysis Framework"
arch=("any")
url=("https://github.com/botherder/viper")
license=("BSD")
depends=(
"python2-pyexiftool" "python2-pylzma" "python2-bottle" "python2-pyelftools" 
"python2-bitstring" "python2-dnspython" "python2-m2crypto" "python2-pyasn1" 
"python2-requests" "python2-sqlalchemy" "python2-prettytable" "python2-magic" 
"python2-pydeep" "ssdeep" "python2-ssdeep" "python2-beautifulsoup4" 
"python2-pefile" "python2-crypto" "python2-olefile") 
source=("https://github.com/botherder/viper/archive/${pkgver}.tar.gz"
        "viper-framework.install")
sha512sums=(
"988b678d5ab356d9f74387f99f31f10313c60bceb39659e413a4f5a9e3820819c2eea1cc6ceebe4591fbb0dc1558c1ae72b510c59412e14bb6ea9715022ef66a"
"5f2446433205c4b04b7a2aad4c2262dfd54dc25a034a1b94f8de45a37a164c3fccdebdda60446148ddb940a5f84257426cbda21b7815d1e7b3cea5e9af54c0fe")
install="viper-framework.install"

build() {
  cd "viper-$pkgver"
  python2 -m compileall .
  python2 -O -m compileall .
}

package() {
  cd "$srcdir/viper-$pkgver"
  mkdir -p "$pkgdir/opt/viper/"
  mv * "$pkgdir/opt/viper/"
}
