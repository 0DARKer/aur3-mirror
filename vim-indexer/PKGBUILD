pkgname=vim-indexer
pkgver=3.17
pkgrel=1
_scriptid=16324
pkgdesc='Auto-generate tags for all files of project(s) and keep tags up-to-date. Autoloads *.vim files from project/.vimprj/ directory. Can work together with vim-project plugin.'
url='http://www.vim.org/scripts/script.php?script_id=3221'
arch=('any')
license=('vim')

groups=('vim-plugins')
depends=('vim' 'ctags-for-indexer')
optdepends=('vim-project: vim IDE')

install=vimdoc.install

source=("indexer-${pkgver}.tar.gz::http://www.vim.org/scripts/download_script.php?src_id=$_scriptid")
md5sums=('84446abf78f570e4d198fe9c5688c380')

build() {
  install -dm755 $pkgdir/usr/share/vim/vimfiles/{doc,plugin}
  install -Dm644 $srcdir/indexer/plugin/* $pkgdir/usr/share/vim/vimfiles/plugin/
  install -Dm644 $srcdir/indexer/doc/* $pkgdir/usr/share/vim/vimfiles/doc/
}

