# Maintainer: Christian Hesse <mail@eworm.de>

pkgname=mkinitcpio-archlogo
pkgver=0.0.4
pkgrel=1
pkgdesc="Add colored Arch Linux ASCII art logo to early boot process"
arch=('any')
url="http://www.eworm.de/"
license=('GPL')
install=mkinitcpio-archlogo.install
source=('archlogo' 'archlogo_install')
    
build() {
	echo 'run_hook () {' > ${srcdir}/archlogo_hook
	echo '	cat<<EOF' >> ${srcdir}/archlogo_hook
	sed -e 's/\\/\\\\/g' -e 's/`/\\`/g' < ${srcdir}/archlogo >> ${srcdir}/archlogo_hook
	echo 'EOF' >> ${srcdir}/archlogo_hook
	echo '}' >> ${srcdir}/archlogo_hook
}

package() {
	install -D -m644 ${srcdir}/archlogo_hook ${pkgdir}/lib/initcpio/hooks/archlogo
	install -D -m644 ${srcdir}/archlogo_install ${pkgdir}/lib/initcpio/install/archlogo
}

sha256sums=('3f4dd0d381a7f152d7af4a0293da94a241fef47da1cdba88712014b72abcf5d3'
            '702ca43edadb4cc37d867f8f2f283d9e495387d301e227c4a0283122dc296a79')
