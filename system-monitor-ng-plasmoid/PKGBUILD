# Contributor: Fedor Suchkov <f.suchkov@gmail.com>

pkgname=system-monitor-ng-plasmoid
pkgver=1.0
pkgrel=2
pkgdesc="SystemMonitorNG - a plasmoid to show your CPU and memory usage. It is a fork of the default KDE system monitor, which is quite ugly and does not go with the new slick design of KDE4. This version on the other hand is beautiful, with a pleasant choice of default colors and a glass effect in front of the bars."
arch=('i686' 'x86_64')
url="http://www.kde-look.org/content/show.php/show.php?content=94746"
license=('GPL2')
groups=()
depends=('kdebase-workspace>=4.2')
makedepends=('gcc' 'cmake' 'automoc4')
provides=()
conflicts=()
replaces=()
backup=()
options=()
install=
source=("http://www.kde-look.org/CONTENT/content-files/94746-system_status_ng.tgz" "kde4.2.patch")
noextract=()
md5sums=('421aa8196091837dcc8c5ee801c7cf38' '7539d7e1ff55623ca7504ab86cb43895')
build() {
  cd $srcdir
  patch -Np1 -i ${srcdir}/kde4.2.patch
  mv ${srcdir}/system_status_ng/applet/plasma-applet-system_monitor.desktop ${srcdir}/system_status_ng/applet/plasma-applet-system_monitor_ng.desktop
  cd system_status_ng
  mkdir build && cd build
  cmake -DCMAKE_INSTALL_PREFIX=/usr .. || return 1
  make || return 1
  make DESTDIR="$pkgdir/" install || return 1
}

# vim:set ts=2 sw=2 et:
