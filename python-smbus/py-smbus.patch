Index: py-smbus/Module.mk
===================================================================
--- py-smbus/Module.mk	(revision 6277)
+++ py-smbus/Module.mk	(working copy)
@@ -12,7 +12,7 @@
 PYTHON ?= python
 DISTUTILS := \
 	cd $(PY_SMBUS_DIR) && \
-	CPPFLAGS="$(CPPFLAGS) -I../include" LDFLAGS="$(LDFLAGS) -Llib -li2c" $(PYTHON) setup.py
+	$(PYTHON) setup.py
 
 all-python: $(INCLUDE_DIR)/i2c/smbus.h
 	$(DISTUTILS) build
Index: py-smbus/setup.py
===================================================================
--- py-smbus/setup.py	(revision 6277)
+++ py-smbus/setup.py	(working copy)
@@ -11,4 +11,10 @@
 	maintainer_email="linux-i2c@vger.kernel.org",
 	license="GPLv2",
 	url="http://lm-sensors.org/",
-	ext_modules=[Extension("smbus", ["smbusmodule.c"])])
+	ext_modules=[Extension(
+		"smbus",
+		["smbusmodule.c"],
+		extra_compile_args=['-I../include'],
+		extra_link_args=['-li2c']
+	)]
+)
