diff -Naur mc-4.6.1.orig/configure mc-4.6.1/configure
--- mc-4.6.1.orig/configure	2005-07-23 18:53:09.000000000 +0200
+++ mc-4.6.1/configure	2006-04-21 16:40:56.000000000 +0200
@@ -23434,6 +23434,9 @@
 fi
 
 
+echo "#define LIBX11_FULL_NAME \"/usr/lib/`objdump -p /usr/lib/libX11.so | grep SONAME | awk '{print $2}'`\"" >>config.h
+
+
 echo "
 Configuration:
 
diff -Naur mc-4.6.1.orig/src/x11conn.c mc-4.6.1/src/x11conn.c
--- mc-4.6.1.orig/src/x11conn.c	2005-06-07 15:48:47.000000000 +0200
+++ mc-4.6.1/src/x11conn.c	2006-04-21 16:39:25.000000000 +0200
@@ -119,21 +119,13 @@
 static gboolean x11_available(void)
 {
 #ifdef HAVE_GMODULE
-    gchar *x11_module_fname;
-
     if (lost_connection)
 	return FALSE;
 
     if (x11_module != NULL)
 	return TRUE;
 
-    x11_module_fname = g_module_build_path (NULL, "X11");
-
-    if (x11_module_fname == NULL)
-	return FALSE;
-
-    x11_module = g_module_open (x11_module_fname, G_MODULE_BIND_LAZY);
-    g_free (x11_module_fname);
+    x11_module = g_module_open (LIBX11_FULL_NAME, G_MODULE_BIND_LAZY);
 
     if (x11_module == NULL)
 	return FALSE;
