# Maintainer: josephgbr <rafael.f.f1 at gmail dot com>

# Why this package?
# Answer: https://bugs.launchpad.net/caffeine/+bug/789401

pkgname=caffeine-gnome3
pkgver=373
pkgrel=1
pkgdesc="Caffeine for Gnome3. Branch by Charith Ellawala."
arch=('any')
url="https://code.launchpad.net/~caffeine-developers/caffeine/main"
license=('GPL')
depends=('python2' 'gtk2' 'gnome-python' 'dbus-python' 'python-notify' 'python-xlib')
provides=('caffeine')
conflicts=('caffeine')
makedepends=('bzr')
options=('!libtool' '!emptydirs')
source=()
md5sums=()

_bzrbranch=lp:~charith-h/caffeine/gnome3

build() {
  cd "$srcdir"
  [ -d caffeine ] && rm -rf caffeine
  msg "Connecting to the server...."
  bzr branch "$_bzrbranch" caffeine
  msg "BZR checkout done or server timeout"
}

package() {
  cd $srcdir/caffeine  
  python2 setup.py install --root=$pkgdir/
}

