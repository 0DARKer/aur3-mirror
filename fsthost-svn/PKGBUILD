# Maintainer: rtfreedman  (rob<d0t>til<d0t>freedman<aT>googlemail<d0t>com
# use 'makepkg --skipinteg' to build
# r182: tag 1.5.0
# r183: Work on a copy of Jack MIDI data - because Jack gives same buffers to all clients

pkgname=fsthost-svn
_svnmod=fsthost
pkgver=183
pkgrel=1
pkgdesc="A linux VST host using winelib, fork of FreeST."
arch=('i686' 'x86_64')
url="http://sourceforge.net/projects/fsthost/"
license=('GPL')
depends=('libxml2' 'lash' 'gtk2')
[[ "$CARCH" = 'x86_64' ]] &&
{  depends=(${depends[@]/#/lib32-})
}
depends+=('wine' 'zenity')
#optdepends=('zenity: for fsthost_menu')
makedepends=('subversion')
provides=('fsthost')
conflicts=('fsthost')
source=("$_svnmod::svn+http://svn.code.sf.net/p/fsthost/code/trunk")
md5sum=('SKIP')

pkgver() {
  cd "$SRCDEST/$_svnmod/"
  svnversion | tr -d [A-z]
}

#prepare() {
#  cd "$_svnmod"
#  cp -a "$SRCDEST/$_svnmod/.svn" .
#}

build() {
  cd "$_svnmod"
  make
}

package() {
  cd "$_svnmod"
  make PREFIX=/usr DESTDIR="${pkgdir}" install
}
