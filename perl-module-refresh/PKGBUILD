# Contributor: Daenyth
# Contributor: Anton Leontiev <unsector /at/ km.ru>
pkgname=perl-module-refresh
pkgver=0.16
pkgrel=1
pkgdesc="Perl module to refresh %INC files when updated on disk"
arch=("any")
license=("GPL" "PerlArtistic")
url="http://search.cpan.org/dist/Module-Refresh/"
options=(!emptydirs)
depends=("perl")
checkdepends=("perl-path-class") # 'perl-test-simple' and 'perl-file-temp' are included in 'perl'
source=(http://search.cpan.org/CPAN/authors/id/J/JE/JESSE/Module-Refresh-$pkgver.tar.gz)
md5sums=("dff9c3c7dc2187705d005db3741d515f")

build() {
  cd "$srcdir/Module-Refresh-$pkgver"
  PERL_MM_USE_DEFAULT=1 perl Makefile.PL INSTALLDIRS=vendor
  make
}

check() {
  cd "$srcdir/Module-Refresh-$pkgver"
  make test
}

package() {
  cd "$srcdir/Module-Refresh-$pkgver"
  make install DESTDIR="$pkgdir"
}
