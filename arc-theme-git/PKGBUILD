# Maintainer: zach <zach {at} zach-adams {dot} com>

pkgname=arc-theme-git
pkgver=20150521
pkgrel=1
pkgdesc="A flat theme with transparent elements for GTK 3, GTK 2 and Gnome-Shell."
arch=('any')
url=('https://github.com/horst3180/Arc-theme')
arch=('any')
license=('GPL')
depends=('bash')
makedepends=('git')


_gitroot=git://github.com/horst3180/Arc-theme.git
_gitname=Arc-theme

build() {
  cd "$srcdir"
  msg "Connecting to GIT server...."

  if [[ -d "$_gitname" ]]; then
    cd "$_gitname" && git pull origin
    msg "The local files are updated."
  else
    git clone "$_gitroot" "$_gitname"
  fi

  msg "GIT checkout done or server timeout"
}

package() {
  _destdir=$pkgdir/usr/share/themes/Arc-theme

  cd "$srcdir/$_gitname"

  mkdir -p $_destdir

  #Make sure anyone can write
  find . -type d -exec chmod 755 '{}' \;

  msg "Installing files..."
  cp -r *  $_destdir
}
