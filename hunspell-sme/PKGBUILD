# Contributor: Kevin Brubeck Unhammer <unhammer@gmail.com>
# Maintainer: Kevin Brubeck Unhammer <unhammer@gmail.com>

pkgname=hunspell-sme
pkgver=1.0beta7.20090316
pkgrel=1
pkgdesc="Northern SÃ¡mi (se/sme) dictionary for Hunspell"
arch=('i686' 'x86_64')
url="http://www.divvun.no/en/userdocs/X-spell/install_linux.html"
license=('GPL')
depends=('hunspell')
# Can't find a static link to 1.0beta7.20090316, so this PKGBUILD might eventually need the pkgver changed
source=(http://divvun.no/static_files/hunspell-se.tar.gz)
md5sums=('a207e01a179711cad0e10911480329b6')

build() {
  cd $srcdir/hunspell-se-$pkgver/
  make || return 1
  make DESTDIR=$startdir/pkg install || return 1

  # Ensure that LibreOffice finds them:
  mkdir -p $startdir/pkg/usr/share/hunspell
  ln -s $startdir/pkg/usr/share/myspell/dicts/se.dic $startdir/pkg/usr/share/hunspell/
  ln -s $startdir/pkg/usr/share/myspell/dicts/se.aff $startdir/pkg/usr/share/hunspell/
  ln -s $startdir/pkg/usr/share/myspell/dicts/se_NO.dic $startdir/pkg/usr/share/hunspell/
  ln -s $startdir/pkg/usr/share/myspell/dicts/se_NO.aff $startdir/pkg/usr/share/hunspell/
  ln -s $startdir/pkg/usr/share/myspell/dicts/se_FI.dic $startdir/pkg/usr/share/hunspell/
  ln -s $startdir/pkg/usr/share/myspell/dicts/se_FI.aff $startdir/pkg/usr/share/hunspell/
  ln -s $startdir/pkg/usr/share/myspell/dicts/se_SE.dic $startdir/pkg/usr/share/hunspell/
  ln -s $startdir/pkg/usr/share/myspell/dicts/se_SE.aff $startdir/pkg/usr/share/hunspell/

  # I believe dictionary.lst should be a user-configurable file, in
  # any case it would get overwritten if new packages wanted to do the
  # same thing, and the dictionaries seems to work without this:
  rm -f $startdir/pkg/usr/share/myspell/dicts/dictionary.lst
}
