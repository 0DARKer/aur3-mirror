# Contributor: napa3um <napa3um@gmail.com>

pkgname=mingw32-sqlite3-static
pkgver=3.7.0.1
pkgrel=1
pkgdesc="A C library that implements an SQL database engine. Static version."
arch=('i686' 'x86_64')
license=('custom')
url="http://www.sqlite.org/"
makedepends=('mingw32-w32api' 'mingw32-gcc' 'mingw32-binutils')
conflicts=('mingw32-sqlite')
replaces=('mingw32-sqlite')
source=(http://www.sqlite.org/sqlite-amalgamation-$pkgver.tar.gz)
md5sums=(24b589eb1522b4d9a179a621d0729dfa)

build() {
  cd ${srcdir}/sqlite-${pkgver}
#CFLAGS='-march=i686 -mtune=generic -O2 -pipe'
#CXXFLAGS='-march=i686 -mtune=generic -O2 -pipe'
LDFLAGS=''
  ./configure --prefix=/usr/i486-mingw32 --host=i486-mingw32 --enable-static --disable-shared || return 1
  make || return 1
  make DESTDIR=${pkgdir} install || return 1
  rm -Rf ${pkgdir}/usr/i486-mingw32/share
}

