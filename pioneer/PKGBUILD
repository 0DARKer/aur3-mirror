# Maintainer: Benjamin Hodgetts (Enverex) <ben@xnode.org>

pkgname=pioneer
pkgver=alpha28
pkgrel=1
pkgdesc="Pioneer is a space adventure game set in the milkyway galaxy at the turn of the 31st century."
arch=('i686' 'x86_64')
url="http://pioneerspacesim.net/"
license=('GPL')
conflict=('pioneer-git')
install='pioneer.install'
depends=('alsa-lib' 'libgl' 'libsigc++' 'libvorbis' 'lua' 'sdl' 'sdl_image' 'glew')

if [ "$CARCH" = "i686" ]; then
	_arch=linux32
	md5sums=('46e51941124eb3cf1af9233820223478' '652488f2609db7632d8823e2d0531725' '7cfa4010c56c58f84bb92777f9f6caa9' '29578f061255548c0811a810aabcae77')
elif [ "$CARCH" = "x86_64" ]; then
	_arch=linux64
	md5sums=('46e51941124eb3cf1af9233820223478' '652488f2609db7632d8823e2d0531725' '7cfa4010c56c58f84bb92777f9f6caa9' 'ac896805343e061dd5395204ff59d4f7')
fi

source=(
	"pioneer.png"
	"pioneer.desktop"
	"pioneer.install"
	"http://downloads.sourceforge.net/project/pioneerspacesim/alpha/pioneer-${pkgver}-${_arch}.tar.bz2"
)

package() {
	cd "${srcdir}"
	install -Dm644 "${srcdir}/pioneer.desktop" "${pkgdir}/usr/share/applications/${pkgname}.desktop"
	install -Dm644 "${srcdir}/pioneer.png" "${pkgdir}/usr/share/pixmaps/${pkgname}.png"
	install -d "${pkgdir}/opt"
	cp -r "${srcdir}/pioneer-${pkgver}-${_arch}" "${pkgdir}/opt/pioneer"
}
