 # Contributor: mangus <mangus[_at_]deprecated.it>
### requires only Qt as a dependency. 
###The only drawback is that Marble-Qt doesn't provide the whole functionality of Marble 
###  (e.g. the settings dialog or automatic map download via "GHNS")
pkgname=marble
pkgver=0.10.3
pkgrel=1
pkgdesc="A generic geographical map widget - qt version"
arch=('i686' 'x86_64')
url="http://edu.kde.org/marble"
license=('LGPL')
depends=(qt openssl)
makedepends=(cmake)
optdepends=("gpsd: GPS daemon and library to support USB/serial GPS devices")
source=(http://download.kde.org/stable/4.5.4/src/kdeedu-4.5.4.tar.bz2)
md5sums=('98d103d11db320a36cdf8e44afbeda71')

build() {
  # Compiling Marble: http://edu.kde.org/marble/obtain.php
  mkdir ${srcdir}/kdeedu-4.5.4/marble-build
  cd ${srcdir}/kdeedu-4.5.4/marble-build
  cmake -DCMAKE_INSTALL_PREFIX=/usr -DQTONLY=ON ../marble || return 1
  make || return 1
  make DESTDIR=${pkgdir} install || return 1
}

