# Contributor: mangus <mangus[_at_]deprecated.it>
### requires only Qt as a dependency. 
###The only drawback is that Marble-Qt doesn't provide the whole functionality of Marble 
###  (e.g. the settings dialog or automatic map download via "GHNS")
pkgname=marble
pkgver=1.1.0
pkgrel=2
pkgdesc="A generic geographical map widget - qt version"
arch=('i686' 'x86_64')
url="http://edu.kde.org/marble"
license=('LGPL')
depends=('qt' 'openssl')
makedepends=('cmake' 'gpsd' 'git')
optdepends=("gpsd: GPS daemon and library to support USB/serial GPS devices")
install=marble.install

build() {
  cd $srcdir
  git clone git://anongit.kde.org/marble
  cd $srcdir/marble
  git checkout marble-1.1.0
  mkdir ${srcdir}/build
  cd ${srcdir}/build
  cmake ${srcdir}/marble -DCMAKE_INSTALL_PREFIX=/usr -DQTONLY=ON
  make
}
package() {
  cd ${srcdir}/build
  make DESTDIR=${pkgdir} install
}
