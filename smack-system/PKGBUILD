pkgname=smack-system
pkgver=0.2
pkgrel=1
conflicts=('smack-util')
replaces=('smack-util')
pkgdesc="Main configuration files for smack."
arch=('i686' 'x86_64')
license=('GPL')
url="https://github.com/Blub/libwbsmack"
depends=()
source=(
	etc-rc.d-smack
	smack.service
	smack.mount
	etc-smack-netlabel
	etc-smack-ambient
	etc-smack-accesses
)
backup=(
	etc/smack/netlabel
	etc/smack/ambient
	etc/smack/accesses
)
md5sums=('38a3523589513b657ad1b689c95ba3f2'
         'd2d0df07f797c28c79c552acc1f294d3'
         '082eaefa9a2674d0cde4066b948ecafb'
         '505de7db895a01741c4f0b48e4ae1c3b'
         '92520a5a9cf893220b9cd447f585f144'
         '7186a636c09b8e973a14bc5ae35df171')

install=install

build() {
	:
}

package() {
	install -d -m755 "$pkgdir/etc/smack"
	install -d -m755 "$pkgdir/etc/smack/accesses.d"
	install -D -m644 "$srcdir/etc-smack-netlabel" "$pkgdir/etc/smack/netlabel"
	install -D -m644 "$srcdir/etc-smack-ambient" "$pkgdir/etc/smack/ambient"

	install -D -m755 "$srcdir/etc-rc.d-smack" "$pkgdir/etc/rc.d/smack"
	install -D -m644 "$srcdir/smack.service" "$pkgdir/usr/lib/systemd/system/smack.service"
	install -D -m644 "$srcdir/smack.mount" "$pkgdir/usr/lib/systemd/system/smack.mount"
}
