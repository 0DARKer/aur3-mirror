# Contributor:  Adria  Arrufat <swiftscythe@gmail.com>
 
pkgname=libkdeedu-svn
_pkgname=libkdeedu
pkgver=1221330
pkgrel=1
pkgdesc="KDE Edu libraries"
url="http://edu.kde.org/"
arch=('i686' 'x86_64')
license=('GPL' 'LGPL' 'FDL')
depends=('kdebase-runtime' 'kdelibs')
makedepends=('pkgconfig' 'cmake' 'automoc4')
conflicts=()
provides=()
 
source=()
md5sums=()
 
_svntrunk=svn://anonsvn.kde.org/home/kde/trunk/KDE/kdeedu
_svnmod=kdeedu
 
build() {
  cd $srcdir
 
  if [ -d $_svnmod/$_pkgname/.svn ]; then
    (cd $_svnmod && svn up -r $pkgver)
  else
    svn co -N $_svntrunk --config-dir ./ $_svnmod
        svn up $_svnmod/$_pkgname
  fi
 
  msg "SVN checkout done or server timeout"
  msg "Starting make..."
 
 
  mkdir -p build-$_pkgname
 
  pushd build-libkdeedu
  cmake ../kdeedu/libkdeedu -DCMAKE_INSTALL_PREFIX=/usr -DCMAKE_BUILD_TYPE=RELEASE
  make && make DESTDIR=$pkgdir install
  
}