# Contributor: Drew Liszewski <drew dot liszewski at gmail dot com>
# Maintainer: Drew Liszewski
pkgname=emulationstation-git
_gitname=EmulationStation
pkgver=12b4b12
pkgrel=1
pkgdesc="A graphical front-end for emulators with controller navigation. Developed for the Raspbery Pi, but runs on most Linux systems."
arch=('any')
url="https://github.com/Aloshi/EmulationStation"
license=('WTFPL')
groups=()
makedepends=('git')
depends=('sdl' 'sdl_mixer' 'freeimage' 'boost' 'freetype2' 'retroarch-rbp-git')
source=('git://github.com/Aloshi/EmulationStation.git')
md5sums=('SKIP')

pkgver() {
    cd $_gitname
    # Use the tag of the last commit
    git describe --always | sed 's|-|.|g'
}

build() {
    cd $_gitname
    make || return 1
}

package() {
    cd $_gitname
    install -Dm755 "$srcdir/EmulationStation/emulationstation" "$pkgdir/usr/bin/emulationstation"
}
