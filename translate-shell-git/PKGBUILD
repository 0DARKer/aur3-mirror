# Contributor: Star Brilliant <echo bTEzMjUzQGhvdG1haWwuY29tCg== | base64 -d>

pkgname=translate-shell-git
pkgver=0
pkgrel=1
pkgdesc='A command-line interface and interactive shell for Google Translate.'
arch=('any')
url="http://www.soimort.org/translate-shell/"
license=('Public Domain')
depends=('gawk')
makedepends=('git')
optdepents=(
    'bash: for interpreting the wrapper script'
    'fribidi: needed for displaying right-to-left (RTL) languages'
    'mplayer: needed for the Text-to-Speech functionality'
    'mpg123: needed for the Text-to-Speech functionality'
    'espeak: needed for the Text-to-Speech functionality'
    'rlwrap: needed for readline-style editing and history in the interactive mode'
    'groff: needed for formatting man pages'
    'emacs: for using the Emacs interface'
)
provides=('translate-shell')
conflicts=('translate-shell')
source=('git://github.com/soimort/translate-shell.git')
md5sums=('SKIP')

pkgver() {
    cd "$srcdir/translate-shell"
    git describe --always | sed 's|-|.|g'
}

build() {
    cd "$srcdir/translate-shell"
    make
}

package() {
    mkdir -p "$pkgdir/usr/bin/"
    cd "$srcdir/translate-shell"
    make "INSTDIR=$pkgdir/usr/bin" install
}
