# Contributor: Jonathan Liu <net147@hotmail.com>
# Maintainer: Stefan Husmann <stefan-husmann@t-online.de>
pkgname=sam2p
pkgver=0.47
pkgrel=2
pkgdesc="A bitmap-to-eps-or-pdf-converter that produces very small files"
arch=('i686' 'x86_64')
url="http://www.inf.bme.hu/~pts"
license=('GPL2')
depends=('gcc-libs')
makedepends=('gcc34')
optdepends=('ghostscript: PS, EPS, PDF support'
'libjpeg: JPEG support'
'netpbm: TIFF, PNG support'
'tif22pnm: alternative for tiff support')
source=("http://sam2p.googlecode.com/files/$pkgname-$pkgver.tar.gz")
md5sums=('2f1acc6bc1f24d51c2906ce080f20687')

build() {
  cd "$srcdir/$pkgname-$pkgver"
  ./configure CXX=g++-3.4 --prefix="$pkgdir"/usr --enable-lzw --enable-gif
  make MAKE_DIST=0 dist-noautoconf || return 1
}

package() {
  cd "$srcdir/$pkgname-$pkgver"

  make install || return 1
  install -D -m644 README "$pkgdir"/usr/share/sam2p/docs/README || return 1
}