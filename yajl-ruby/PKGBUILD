# Contributor: lolilolicon <lolilolicon#gmail.com>

pkgname=yajl-ruby
pkgver=0.8.2
pkgrel=1
pkgdesc="Ruby C bindings to the excellent Yajl JSON stream-based parser library."
arch=('i686' 'x86_64')
url="http://github.com/brianmario/yajl-ruby"
license=('MIT')
depends=('ruby')
source=(http://gemcutter.org/downloads/$pkgname-$pkgver.gem)
noextract=("${pkgname}-${pkgver}.gem")
md5sums=('022f60e39f87e409b3e4e74c9fc702f7')

package() {
  cd "$srcdir"
  local _gemdir=$(ruby -rubygems -e'puts Gem.default_dir')
  gem install --ignore-dependencies \
    -i "$pkgdir$_gemdir" "$pkgname-$pkgver.gem" -n "$pkgdir/usr/bin"
}

# Latest Version:
# curl -s http://rubygems.org/gems/yajl-ruby | sed '/ *<h3>\([^<]*\)<\/h3>/!d;s//\1/'
