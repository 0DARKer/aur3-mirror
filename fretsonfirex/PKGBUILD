# Maintainer: M0Rf30

pkgname=fretsonfirex
pkgver=3.121
pkgrel=1
pkgdesc="Highly improved version of Frets on Fire"
url="http://code.google.com/p/fofix"
arch=(any)
license=('GPL')
install=${pkgname}.install
groups=('games')
depends=('python2' 'python2-pygame' 'python2-opengl' 'python2-numpy' 'python2-pillow' 'pyogg' 'pyvorbis' 'python2-pysqlite' 'libffi')
makedepends=('git')
replaces=('fofix')
source=("fretsonfirex::git+https://github.com/M0Rf30/fofix-arch-fork.git" 
	'fretsonfirex.desktop' 
	'fretsonfirex.png')



package() {
  cd fretsonfire-x
  install -d $pkgdir/usr/
  install -d $pkgdir/usr/share/
  install -d $pkgdir/usr/share/applications/
  install -d $pkgdir/usr/share/pixmaps/
  install -d $pkgdir/usr/bin/
  install -d $pkgdir/opt/
  cd ..
  cp fretsonfirex.desktop ${pkgdir}/usr/share/applications/
  cp fretsonfirex.png ${pkgdir}/usr/share/pixmaps/
  cp -r fretsonfirex $pkgdir/opt/fretsonfirex
  cd $pkgdir/usr/bin/
  echo "#!/bin/sh" > fretsonfirex
  echo "cd /opt/fretsonfirex/src/" >> fretsonfirex
  echo "python2 ./FoFiX.py" >> fretsonfirex
  chmod +x fretsonfirex
  chmod -R 777 $pkgdir/opt/fretsonfirex
}

pkgver() {
  cd fretsonfire-x
  echo $(git tag)
}

md5sums=('SKIP'
         '0a4a9b64141c1215a06430319631c475'
         'f886a7fdfa7592b50aa9f62901910e03')
