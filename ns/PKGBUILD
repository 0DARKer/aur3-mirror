# Maintainer: Oleg Smirnov <oleg.smirnov@gmail.com>
# Contributor: Luke McCarthy <luke@iogopro.co.uk>
pkgname=ns
pkgver=2.34
pkgrel=3
pkgdesc="Discrete event simulator targeted at networking research"
url="http://www.isi.edu/nsnam/ns/"
license='GPL'
depends=('glibc' 'tcl84' 'tk84' 'otcl' 'libpcap')
makedepends=('tclcl')
arch=('i686' 'x86_64')
source=(http://downloads.sourceforge.net/sourceforge/nsnam/ns-2/$pkgver/ns-$pkgver.tar.gz)
md5sums=('5dbc3e0a5c240fe9a1c11bef9dd19ef7')
optdepends=('nam: Tcl/TK based animation tool for viewing network simulation traces',
	    'xgraph: X-Windows application for interactive plotting and graphing')
build() {
  cd $startdir/src/$pkgname-$pkgver
  install -d $startdir/pkg/usr/bin
  install -d $startdir/pkg/usr/man
  ./configure --prefix=$startdir/pkg/usr \
              --with-tclcl=/usr/lib/tclcl || return 1
  make || return 1
  make install || return 1
}
