# Maintainer: Dan Serban
# Contributors: Stefan Husmann, tomk

pkgname=dukto-svn
pkgver=latest
pkgrel=1
pkgdesc="A simple, fast and multi-platform file transfer tool for LAN users"
arch=(i686 x86_64)
url=http://code.google.com/p/dukto/
license=(GPL)
depends=(qt)
makedepends=(subversion)

_svntrunk=http://dukto.googlecode.com/svn/trunk/
_svnmod=dukto-read-only

build()
{
  svn co ${_svntrunk} ${_svnmod}
  cd dukto-read-only/src
  qmake Dukto.pro
  make
  install -Dm755 Dukto "${pkgdir}"/usr/bin/dukto
  mkdir -p "${pkgdir}"/usr/share/applications
  DESKTOPFILE="${pkgdir}"/usr/share/applications/dukto.desktop
  echo "[Desktop Entry]" > "${DESKTOPFILE}"
  echo "Name=Dukto" >> "${DESKTOPFILE}"
  echo "GenericName=Transfer files across the LAN" >> "${DESKTOPFILE}"
  echo "Comment=Transfer files across the LAN" >> "${DESKTOPFILE}"
  echo "Exec=dukto" >> "${DESKTOPFILE}"
  echo "Terminal=false" >> "${DESKTOPFILE}"
  echo "Type=Application" >> "${DESKTOPFILE}"
  echo "Categories=Network;Application;" >> "${DESKTOPFILE}"
}

