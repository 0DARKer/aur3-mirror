# Maintainer: Jesper Vesterberg <jumziey@gmail.com>
pkgname=inspircd
pkgver=2.0.2 
pkgrel=1
pkgdesc="A lightweight IRC daemon"
arch=('x86_64')
url="http://www.inspircd.org"
license=('GPL2')
depends=('perl' 'gnutls')
makedepends=()
optdepends=('mysql: m_mysql' \
						'pcre: m_regex_pcre' \
						'postgresql: m_pgsql' \
						'sqlite3: m_sqlite3')
provides=()
conflicts=()
source=(http://sourceforge.net/projects/inspircd/files/InspIRCd-2.0/2.0.2/InspIRCd-$pkgver.tar.bz2 inspircd.sh inspircd.conf.example)
noextract=()
md5sums=('a2023717795c0419b21fad2fbe290905'
         '36073828d35900837829e6c8d54b2ca3'
         'b4ec9d790c9459028ff9d06bcb09660b')

build() {
cd $srcdir/inspircd
./configure --disable-interactive \
						--enable-gnutls \
						--enable-epoll \
						--prefix=/usr/lib/inspircd \
						--config-dir=/etc/inspircd/ \
						--module-dir=/usr/lib/inspircd/modules/ \
						--uid irc \
						--binary-dir=/usr/sbin/ || return 1
make || return 1
make DESTDIR=$pkgdir install || return 1

install -Dm 755 $srcdir/inspircd.sh $pkgdir/etc/rc.d/inspircd
install -Dm 644 $srcdir/inspircd.sh $pkgdir/etc/rc.d/inspircd
}

md5sums=('a2023717795c0419b21fad2fbe290905'
         '36073828d35900837829e6c8d54b2ca3'
         'b4ec9d790c9459028ff9d06bcb09660b')
