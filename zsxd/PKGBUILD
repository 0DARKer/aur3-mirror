# Maintainer: BenObiWan <benobiwan @t gmail dot com>
# Contributor: Sam101 <zoetrem@gmail.com>
# Contributor: BenObiWan <benobiwan @t gmail dot com>
# Contributor: Huulivoide

pkgname=zsxd
pkgver=1.3
pkgrel=2
pkgdesc="Free and opensource, amateur Zelda game with humoristic characters."
arch=('i686' 'x86_64')
url="http://www.zelda-solarus.com/"
license=('GPL/custom')
depends=('lua' 'sdl_image' 'sdl_ttf' 'physfs' 'openal' 'libvorbis' 'libmodplug')
makedepends=('cmake' 'zip')
source=(http://www.zelda-solarus.com/downloads/zsxd/zsxd-1.3-src.tar.gz)
md5sums=('8e54a8b19640fb65a6815ef1d3639e02')

build() {
  cd "${srcdir}/${pkgname}-${pkgver}"

  cmake -D CMAKE_INSTALL_PREFIX="/usr" -D DATAPATH="/usr" .
  make
}

package() {
  cd "${srcdir}/${pkgname}-${pkgver}"

  make install DESTDIR="${pkgdir}/"

  echo -e "#!/bin/sh\n/usr/bin/solarus -datapath=/usr/share/solarus/zsxd" > "${pkgdir}/usr/bin/zsxd"
}

