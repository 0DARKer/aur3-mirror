# Contributor: giniu < gginiu@gmail.com >
pkgname=vim-languagetool
pkgver=1.14
_scriptid=3223
_srcid=15306
pkgrel=1
pkgdesc="Grammar checker for English, French, German (etc.) in Vim"
arch=(i686 x86_64)
url="http://www.vim.org/scripts/script.php?script_id=${_scriptid}"
license=('custom')
depends=('vim' 'languagetool')
makedepends=('unzip')
groups=('vim-plugins')
install=vimdoc.install
source=(LanguageTool.zip::http://www.vim.org/scripts/download_script.php?src_id=${_srcid}
        license.txt)
md5sums=('06aa1ae3cef5f1e4defe35afef9c4970'
         'f49a1270c8ead84829517d3a625e1d83')

build() {
  cd "${srcdir}"
  sed "s|\$HOME . '/JLanguageTool/dist|'/usr/share/languagetool|g" plugin/LanguageTool.vim > LanguageTool.vim
  install -Dm755 doc/LanguageTool.txt "${pkgdir}"/usr/share/vim/vimfiles/doc/LanguageTool.txt || return 1
  install -Dm755 LanguageTool.vim "${pkgdir}"/usr/share/vim/vimfiles/plugin/LanguageTool.vim || return 1
  install -Dm755 license.txt "${pkgdir}"/usr/share/licenses/${pkgname}/license.txt || return 1
}
