# Maintainer: Mohammed Chelouti <mhc23 at web dot de>
pkgname=knotter
pkgver=0.5.0
pkgrel=1
pkgdesc="An editor for celtic knots with SVG export capabilities."
arch=('i686', 'x86_64')
url='https://sourceforge.net/projects/knotter/'
license=('GPL3')
depends=('qt>=4.8')
source=("https://downloads.sourceforge.net/project/$pkgname/$pkgname-$pkgver.tar.gz"
        'knotter.desktop')
sha256sums=('9e72c97c3be7e08f668d63332e54a862c2536124c51d8f916668faf3542890d9'
            '618ce43e2ed20bf0c9676746f4487ed2ca779a490a4cb0e66069d11e23da03ae')

build() {
    cd "$srcdir/$pkgname-$pkgver"
    qmake Knotter.pro
    make clean
    make
}

package() {
    cd "$srcdir/$pkgname-$pkgver"
    make INSTALL_ROOT="$pkgdir/usr" install_target

    install -Dm644 "./img/icon.png" "$pkgdir/usr/share/icons/hicolor/64x64/apps/knotter.png"
    install -Dm644 "$srcdir/knotter.desktop" "$pkgdir/usr/share/applications/knotter.desktop"
}
