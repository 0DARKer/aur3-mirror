# Maintainer: Mizki Suzumori <mizki9577 at gmail dot com>
pkgname=mikutter-git
pkgver=2061
pkgrel=1
pkgdesc="a moest mikutter client"
arch=('any')
url="http://mikutter.hachune.net/"
license=('GPL3')
depends=('ruby-gtk2')
optdepends=('libnotify: notify support')
makedepends=('git' 'ruby-bundler')
provides=('mikutter')
conflicts=('mikutter' 'mikutter-svn')
source=('git://toshia.dip.jp/mikutter.git#branch=develop')
md5sums=('SKIP')

pkgver() {
	cd $srcdir/mikutter
	git rev-list --count HEAD
}

build() {
	cd $srcdir/mikutter
	bundle install --path=vendor/bundle
}

package() {
	mkdir $pkgdir/opt
	cp -R $srcdir/mikutter $pkgdir/opt
	mkdir -p $pkgdir/usr/bin
	cat <<EOF > $pkgdir/usr/bin/mikutter
#!/bin/sh
ruby /opt/mikutter/mikutter.rb $@
EOF
	chmod a+x ${pkgdir}/usr/bin/mikutter
}

# vim:set ts=4 sw=4:
