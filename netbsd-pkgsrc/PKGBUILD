# Mantained by: Jens Staal <staal1978@gmail.com>

pkgname=netbsd-pkgsrc
pkgver=2011Q2
pkgrel=5
pkgdesc="The NetBSD Packages Collection (pkgsrc)"
arch=('i686' 'x86_64')
url="http://www.netbsd.org/docs/software/packages.html"
license=('custom:BSD')
install='bootstrap.install'
provides=('bmake' 'pkgsrc')
conflicts=('bmake')
source=('ftp://ftp.netbsd.org/pub/pkgsrc/pkgsrc-2011Q2/pkgsrc-2011Q2.tar.xz')
md5sums=('cadd040f48ec67cb06f3378d502c055e')


build() {
# patching up configurations etc according to these instructions:
# http://kuparinen.org/martti/comp/slackware/slackware.html could be good
      msg "unpacking source tarball"
}

package() {

msg "copying files to the package directory"
	mkdir $pkgdir/usr
	cp -ar $srcdir/pkgsrc $pkgdir/usr/pkgsrc

# I need to figure out a way to easily configure pkgsrc to be used in a multi-user environment
# How do I define the workdir in a way so that people easily can start using it?
# It would be cool if one could use pkgsrc in a PKGBUILD and build an Arch package.
msg "generation of profile settings"
	mkdir $pkgdir/etc
	mkdir $pkgdir/etc/profile.d
	printf "
export PATH=/usr/pkg/bin:/usr/pkg/sbin:${PATH}" >> $pkgdir/etc/profile.d/pkgsrc.sh

}

