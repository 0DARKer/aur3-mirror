# Mantained by: Jens Staal <staal1978@gmail.com>

pkgname=netbsd-pkgsrc
pkgver=2010Q4
pkgrel=3
pkgdesc="The NetBSD Packages Collection (pkgsrc)"
arch=('i686' 'x86_64')
url="http://www.netbsd.org/docs/software/packages.html"
license=('custom:BSD')
provides=('pkgsrc')
install='bootstrap.install'
source=('ftp://ftp.netbsd.org/pub/pkgsrc/pkgsrc-2010Q4/pkgsrc.tar.gz')
md5sums=('eaca25355f714cb4047b5be24cc59f0b')


build() {
# patching up configurations etc according to these instructions:
# http://kuparinen.org/martti/comp/slackware/slackware.html could be good
      msg "unpacking source tarball"
}

package() {

msg "copying files to the package directory"
	mkdir $pkgdir/usr
	cp -ar $srcdir/pkgsrc $pkgdir/usr/pkgsrc
	mkdir $pkgdir/usr/pkg
	mkdir $pkgdir/usr/pkg/work 
# this means that pkgsrc will only be useable as root
#... for PKGBUILDs perhaps other solutions like union mounts or a new bootstrap work directory
# I need to figure out a way to easily configure pkgsrc to be used in a multi-user environment
# How do I define the workdir in a way so that people easily can start using it
msg "generation of profile settings"
	mkdir $pkgdir/etc
	mkdir $pkgdir/etc/profile.d
	printf "
export PATH=/usr/pkg/bin:/usr/pkg/sbin:${PATH}" >> $pkgdir/etc/profile.d/pkgsrc.sh

}

