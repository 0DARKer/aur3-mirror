# Maintainer: Panagiotis Mavrogiorgos (pmav99) <> (gmail)

pkgname=python2-bottleneck-git
pkgver=0.6.0.37.ga88198e
pkgrel=1
pkgdesc="Fast NumPy array functions written in Cython"
arch=('i686' 'x86_64')
url="http://berkeleyanalytics.com/bottleneck/"
license=('BSD')
depends=('python2-numpy')
optdepends=('python2-nose')
makedepends=('git' 'cython2')
provides=('python2-bottleneck')
conflicts=('python2-bottleneck')
options=('!emptydirs')
source=($pkgname::git://github.com/kwgoodman/bottleneck.git)
md5sums=('SKIP')

pkgver() {
  cd "$srcdir/$pkgname"
  git describe --always | sed 's|-|.|g;s|^v||'
}

prepare() {
  cd "$srcdir/$pkgname"
  sed -i -e 's/python/python2/g' Makefile
}

build() {
  cd "$srcdir/$pkgname"
  make clean pyx build
  python2 setup.py build
}

package() {
    cd "$srcdir/$pkgname"
    python2 setup.py install --skip-build --root="$pkgdir" --optimize=1
} 

