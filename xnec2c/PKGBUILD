# Contributor: Vitaliy Berdinskikh ur6lad[at]i.ua

pkgname=xnec2c
pkgver=1.4
pkgrel=3
pkgdesc="GTK+ Antenna EM Modeling Client"
arch=('i686' 'x86_64')
url="http://5b4az.chronos.org.uk/pages/nec2.html"
license=('GPL')
depends=('gtk2')
makedepends=('autoconf' 'automake')
source=(http://5b4az.chronos.org.uk/pkg/nec2/$pkgname/$pkgname-$pkgver.tar.bz2
        $pkgname.desktop $pkgname.png $pkgname.sh)

build() {
	mkdir -p $pkgdir/usr/share/$pkgname/{doc/images,examples}
	mkdir -p $pkgdir/usr/share/{applications,pixmaps}

	cd $srcdir/$pkgname

	./autogen.sh

	./configure --prefix=/usr CFLAGS="$CFLAGS -Wall"

	make || return 1
	make DESTDIR=$pkgdir install || return 1

	install -D -m 755 ../$pkgname.sh $pkgdir/usr/bin/$pkgname.sh || return 1
	install -m644 doc/images/* $pkgdir/usr/share/$pkgname/doc/images || return 1
	rm -r doc/images
	install -m644 doc/* $pkgdir/usr/share/$pkgname/doc || return 1
	install -m644 examples/* $pkgdir/usr/share/$pkgname/examples || return 1
	install -m644 ../*.desktop $pkgdir/usr/share/applications/ || return 1
	install -m644 ../*.png $pkgdir/usr/share/pixmaps/ || return 1
}
md5sums=('d3c1d34da5519cf66ff429de51c6c768'
         '02105f9a231b715c41279d5be6d40a7c'
         '29ac0ad4650d10363345e5d55a3da81a'
         'e5e3d9bc73159a21c4a5c0902bbb9156')
sha256sums=('66265838daae23b6ae3000f9d2d5cbc5d0f0f7a77dbe5708544b2e79e38fa751'
            'e1c50f909afebaa1c03abae0e940044c6b72a73320ca7fca680ea1f8dac5e06f'
            'cd3ca45049445047a559553328765b466765a9b18069acd09bdd21047cb6cc38'
            'c8e5eada3e4b64e4a7f47287299b2804ebf50071444dcc7497ef324796fc43c6')
