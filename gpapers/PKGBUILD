# Contributor: Stefan Husmann <stefan-husmann@t-online.de>
pkgname=gpapers
pkgver=150
pkgrel=1
pkgdesc="The open-sourced, Gnome based digital library manager. Think of it as an iTunes for your PDFs"
arch=('any')
url="http://code.google.com/p/gpapers"
license=('unknown')
depends=('svn' 'django' 'python-poppler' 'sqlite3' 'pygraphviz' 'gnome-python')
install=
source=(gpapers.sh)
md5sums=('2f08167c64f412a4a0374ea541a085fe')


_svntrunk=http://gpapers.googlecode.com/svn/trunk
_svnmod=gpapers

build() {
  cd "$srcdir"

  if [ -d $_svnmod/.svn ]; then
    (cd $_svnmod && svn up -r $pkgver)
  else
    svn co $_svntrunk --config-dir ./ -r $pkgver $_svnmod
  fi  || return 1
  svn checkout http://deseb.googlecode.com/svn/trunk/src/deseb gpapers/deseb
  msg "SVN checkout done or server timeout"
  msg "Starting make..."

  #
  # BUILD
  #
  install -d $pkgdir/usr/lib/python2.6 || return 1
  cp -r gpapers $pkgdir/usr/lib/python2.6/ || return 1
  install -Dm755 gpapers.sh $pkgdir/usr/bin/gpapers || return 1
}
