# Maintainer: Gilrain <pierre.buard+aur gmail com>
pkgname=libreoffice-extension-grammalecte-fr
pkgver=0.1.2
pkgrel=1
pkgdesc='French grammar checker extension for LibreOffice'
arch=('any')
url='http://www.dicollecte.org/grammalecte/'
license=('GPL3')
depends=('hunspell-fr' 'libreoffice-extension-scripting-python')
groups=('libreoffice-extensions')
conflicts=('libreoffice-extension-languagetool')
makedepends=('unzip')
source=(http://www.dicollecte.org/download/fr/Grammalecte-v$pkgver.oxt)
md5sums=('b6479aa4e3ea59a2629aa2bc0ef2b359')

package() {
  install -dm755 ${pkgdir}/usr/lib/libreoffice/share/extensions
  unzip -q ${srcdir}/Grammalecte-v$pkgver.oxt -d ${pkgdir}/usr/lib/libreoffice/share/extensions/grammalecte
  chmod go-w -R ${pkgdir}/usr/lib/libreoffice/share/extensions/grammalecte
  # Add python2 header
  sed -i -e 1'i\#!/usr/bin/env python2' $(find ${pkgdir} -name '*.py')
}
