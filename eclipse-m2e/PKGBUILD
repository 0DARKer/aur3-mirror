# Maintainer: Dieter Hsu <dieterplex@gmail.com>
pkgname=eclipse-m2e
pkgver=1.0.100
_pkgver=1.0
pkgrel=1
buildid=20110804-1717
pkgdesc="Maven Integration for Eclipse"
arch=('i686' 'x86_64')
url="http://eclipse.org/m2e"
license=('EPL')
depends=('eclipse-wtp-wst')
_url="http://download.eclipse.org/technology/m2e/releases/${_pkgver}/${pkgver}.${buildid}"
replaces=('eclipse-m2eclipse')

source=(
    "${_url}/features/org.eclipse.m2e.feature_${pkgver}.${buildid}.jar"
    "${_url}/features/org.eclipse.m2e.logback.feature_${pkgver}.${buildid}.jar"
    "${_url}/features/org.eclipse.m2e.sdk.feature_${pkgver}.${buildid}.jar"
    "${_url}/features/org.eclipse.m2e.site_${pkgver}.${buildid}.jar"
    "${_url}/plugins/ch.qos.logback.classic_0.9.27.v20110224-1110.jar"
    "${_url}/plugins/ch.qos.logback.core_0.9.27.v20110224-1110.jar"
    "${_url}/plugins/ch.qos.logback.slf4j_0.9.27.v20110224-1110.jar"
    "${_url}/plugins/com.ning.async-http-client_1.6.3.201108040830.jar"
    "${_url}/plugins/org.eclipse.m2e.archetype.common_${pkgver}.${buildid}.jar"
    "${_url}/plugins/org.eclipse.m2e.core.ui_${pkgver}.${buildid}.jar"
    "${_url}/plugins/org.eclipse.m2e.core_${pkgver}.${buildid}.jar"
    "${_url}/plugins/org.eclipse.m2e.discovery_${pkgver}.${buildid}.jar"
    "${_url}/plugins/org.eclipse.m2e.editor.xml_${pkgver}.${buildid}.jar"
    "${_url}/plugins/org.eclipse.m2e.editor_${pkgver}.${buildid}.jar"
    "${_url}/plugins/org.eclipse.m2e.integration.tests.common_${pkgver}.${buildid}.jar"
    "${_url}/plugins/org.eclipse.m2e.jdt_${pkgver}.${buildid}.jar"
    "${_url}/plugins/org.eclipse.m2e.launching_${pkgver}.${buildid}.jar"
    "${_url}/plugins/org.eclipse.m2e.lifecyclemapping.defaults_${pkgver}.${buildid}.jar"
    "${_url}/plugins/org.eclipse.m2e.logback.appender_${pkgver}.${buildid}.jar"
    "${_url}/plugins/org.eclipse.m2e.logback.configuration_${pkgver}.${buildid}.jar"
    "${_url}/plugins/org.eclipse.m2e.maven.indexer_${pkgver}.${buildid}.jar"
    "${_url}/plugins/org.eclipse.m2e.maven.runtime_${pkgver}.${buildid}.jar"
    "${_url}/plugins/org.eclipse.m2e.model.edit_${pkgver}.${buildid}.jar"
    "${_url}/plugins/org.eclipse.m2e.refactoring_${pkgver}.${buildid}.jar"
    "${_url}/plugins/org.eclipse.m2e.scm_${pkgver}.${buildid}.jar"
    "${_url}/plugins/org.eclipse.m2e.tests.common_${pkgver}.${buildid}.jar"
    "${_url}/plugins/org.eclipse.m2e.usagedata_${pkgver}.${buildid}.jar"
    "${_url}/plugins/org.jboss.netty_3.2.4.Final-201108040830.jar"
    "${_url}/plugins/org.slf4j.api_1.6.1.v20100831-0715.jar")
noextract=(
    "org.eclipse.m2e.feature_${pkgver}.${buildid}.jar"
    "org.eclipse.m2e.logback.feature_${pkgver}.${buildid}.jar"
    "org.eclipse.m2e.sdk.feature_${pkgver}.${buildid}.jar"
    "org.eclipse.m2e.site_${pkgver}.${buildid}.jar"
    "ch.qos.logback.classic_0.9.27.v20110224-1110.jar"
    "ch.qos.logback.core_0.9.27.v20110224-1110.jar"
    "ch.qos.logback.slf4j_0.9.27.v20110224-1110.jar"
    "com.ning.async-http-client_1.6.3.201108040830.jar"
    "org.eclipse.m2e.archetype.common_${pkgver}.${buildid}.jar"
    "org.eclipse.m2e.core.ui_${pkgver}.${buildid}.jar"
    "org.eclipse.m2e.core_${pkgver}.${buildid}.jar"
    "org.eclipse.m2e.discovery_${pkgver}.${buildid}.jar"
    "org.eclipse.m2e.editor.xml_${pkgver}.${buildid}.jar"
    "org.eclipse.m2e.editor_${pkgver}.${buildid}.jar"
    "org.eclipse.m2e.integration.tests.common_${pkgver}.${buildid}.jar"
    "org.eclipse.m2e.jdt_${pkgver}.${buildid}.jar"
    "org.eclipse.m2e.launching_${pkgver}.${buildid}.jar"
    "org.eclipse.m2e.lifecyclemapping.defaults_${pkgver}.${buildid}.jar"
    "org.eclipse.m2e.logback.appender_${pkgver}.${buildid}.jar"
    "org.eclipse.m2e.logback.configuration_${pkgver}.${buildid}.jar"
    "org.eclipse.m2e.maven.indexer_${pkgver}.${buildid}.jar"
    "org.eclipse.m2e.maven.runtime_${pkgver}.${buildid}.jar"
    "org.eclipse.m2e.model.edit_${pkgver}.${buildid}.jar"
    "org.eclipse.m2e.refactoring_${pkgver}.${buildid}.jar"
    "org.eclipse.m2e.scm_${pkgver}.${buildid}.jar"
    "org.eclipse.m2e.tests.common_${pkgver}.${buildid}.jar"
    "org.eclipse.m2e.usagedata_${pkgver}.${buildid}.jar"
    "org.jboss.netty_3.2.4.Final-201108040830.jar"
    "org.slf4j.api_1.6.1.v20100831-0715.jar")

md5sums=('6bf13f83a7a3f2b8c491270aeefb5f6b'
    '37bccf28bce1dcef9f4540e8e01686c1'
    '8d0b688248d711771e60280d4d8bf659'
    'bff8f0d6f49d131f614f2441d2c6d69e'
    '69162975a449075c8fc9eccac2638112'
    'b995126e31a0ff3dfd7d7633e00e1c04'
    '776ff672bb28214e746db8f94cb2afe7'
    '62ecc41491ac7529974264d24607f1da' 
    '79c55c1a6088fc59f92b45e3ef97de5e'
    'ccdef4ff8494d13bb21d0dec313c61e9'
    '240b6265e9d861720cc81869b099e4e4'
    '1f7ce11f23627c789f77f7749a117bd6'
    '7ea89cf9096732d08b42b56defb6ea34'
    '82ee72b3ab61441929c9ad730c768ca7'
    '123c7c6d68809c8caef0a25e8d549437'
    '01625534a6524aaf43a0727ff976a1a2'
    'a053d4bb7d2183f361b05ccacefaf48f'
    '4f2d6991b69d38193e5d81dbd49fe90d'
    'df9e3e999b15cc8b77a85dca5e015285'
    'd21d6ceddf4714fca0ee7440f40a25ed'
    '0f29d2c60549c9c5bef4a743883a189a'
    'a0522b5430b238d928a3dad4fae4dcfc'
    '43aa9c54b150f2f6f7dcd8e60ce241e3'
    'aa11a94b408ee6f4629d6271b9c2951b'
    '7ce2ae5451e44483c9b010ef1432fbbe'
    'd2ce48feb4d119f6a84da7d1d2a87ea9'
    '9a8a49c25f21182c7dac37e6db3f35a3'
    'e517d72f1a3fccf27c943d024f3358de'
    '0c1e50d58c936a6c258fd55c9036ba9e')

build() {
  _dest=${pkgdir}/usr/share/eclipse/dropins/m2e/eclipse

  for url in ${source[@]}
  do 
    _file="${url##*/}"
    _type="${url%/*}"
    _type="${_type##*/}"

    install -dm755 ${_dest}/${_type}/${_file/.jar} 
    cd ${_dest}/${_type}/${_file/.jar}
    jar xf ${srcdir}/${_file} || return 1
  done     
}
# vim:set ts=4 sw=4 et:
