# Contributor: T. Jameson Little <t.jameson.little@gmail.com>
pkgname=dartium-bin
pkgver=0.4.3.5_r20605
pkgrel=1
pkgdesc="Chromium-based browser that includes the Dart virtual machine"
arch=('x86_64')
url="http://www.dartlang.org/dartium/"
license=('BSD')
depends=()
optdepends=()
makedepends=()
provides=('dartium')
conflicts=('dartium')
replaces=()
install=
changelog=dartium.changelog
noextract=()
source=("https://storage.googleapis.com/dartium-archive/continuous/dartium-lucid64.zip")
sha512sums=("e4ff7a0bf9ac48655b85f48b5407269886dcb1149a6774e0379e432fc231b62c39c1e92f6cc1f83b8aa70a787a333b96d72ee6c29f0f2bfb3191c2a3af539622")

package(){
	_from=dartium-lucid64-inc-20605.0
	mkdir -p ${pkgdir}/opt ${pkgdir}/usr/bin ${pkgdir}/usr/lib
	find ${srcdir}/${_from} -perm -u+x -exec chmod +x '{}' +
	find ${srcdir}/${_from} -perm -u+r -exec chmod +r '{}' +
	find ${srcdir}/${_from} -perm -u+w -exec chmod +w '{}' +
	cp -r ${srcdir}/${_from} ${pkgdir}/opt/${pkgname}

	ln -s /opt/${pkgname}/chrome ${pkgdir}/usr/bin/dartium
	ln -s /usr/lib/libudev.so ${pkgdir}/usr/lib/libudev.so.0
}