# Maintainer: Army <uli armbruster google>

pkgname=streetview-explorer
_pkgname=StreetViewExplorer
pkgver=65
pkgrel=1
pkgdesc="View StreetView imagery in 3D"
arch=('i686')
url="https://code.google.com/p/streetview-explorer"
license=('WTFPL')
depends=('wxgtk' 'curl' 'glew')
makedepends=('subversion')

_svntrunk="http://streetview-explorer.googlecode.com/svn/trunk/"
_svnmod="${pkgname}-read-only"

build() {
	cd "${srcdir}"
	if [ -d "${_svnmod}" ]; then
		msg "Updating local SVN repository."
		(cd "${_svnmod}" && svn up)
		msg "SVN update done or server timeout."
	else
		msg "Checking out SVN repository."
		svn co "${_svntrunk}" "${_svnmod}"
		msg "SVN checkout done or server timeout."
	fi
	
	msg "Starting make process."
#	rm -rf "${_svnmod}-build/"
#	cp -r "${_svnmod}" "${_svnmod}-build/"
}

package() {
	install -Dm755 "${srcdir}/${_svnmod}/linux/dist/Debug/GNU-Linux-x86/linux" "${pkgdir}/usr/bin/${_pkgname}"
}
