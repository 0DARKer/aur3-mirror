# Contributor: Andrej Gelenberg <andrej.gelenberg@udo.edu>
pkgname=igerman98
pkgver=20100727
pkgrel=1
pkgdesc="German dictionary for Ispell, Myspell und Hunspell using the new orthography"
arch=('i686' 'x86_64')
url="http://www.j3e.de/ispell/igerman98/"
license=('GPL2')
makedepends=('perl' 'ispell' 'aspell' 'hunspell')
depends=()
source=("http://www.j3e.de/ispell/igerman98/dict/$pkgname-$pkgver.tar.bz2")
conflicts=('aspell-de' 'myspell-de' 'hunspell-de' 'myspell-de')

md5sums=('53a66eccaf15fa92d4e5085e7938ee69')
sha512sums=('bbf2dba444aae106d2a7ab07741701fb6a8208496dd8d1ccec9a76e58330d9cfe6b2071556bc3134b6d8b1db3dc654e46d508c862081395fac5861433a79f590')

build()
{
 cd ${startdir}/src/${pkgname}-${pkgver}
 targets="ligature/rmligs"
 for i in de_DE de_AT de_CH
 do
  targets="$targets aspell/$i.rws hunspell/$i.dic hunspell/$i.aff ispell/$i.aff ispell/$i.hash"
 done
 make $targets || return 1

 install -d -m755 $startdir/pkg/usr/bin/
 install -D -m644 ligature/rmligs $startdir/pkg/usr/bin/
 install -d -m755 $startdir/pkg/usr/share/myspell
 install -D -m644 hunspell/*.aff hunspell/*.dic $startdir/pkg/usr/share/myspell
 install -d -m755 $startdir/pkg/usr/lib/ispell
 install -D -m644 ispell/*.aff ispell/*.hash $startdir/pkg/usr/lib/ispell
 aspelldir=$startdir/pkg/`aspell dump config | awk '/default: <data-dir>/{print $5}'`
 install -d -m755 $aspelldir
 install -D -m644 aspell/*.alias aspell/*.dat aspell/*.rws aspell/*.multi $aspelldir
 install -d -m755 $startdir/pkg/usr/share/doc/$pkgname-$pkgver
 install -D -m644 Documentation/* $startdir/pkg/usr/share/doc/$pkgname-$pkgver
}
