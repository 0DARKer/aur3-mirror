# Maintainer: Nuno Araujo <nuno.araujo at russo79.com>
pkgname=pylibg19
pkgver=0.0.3
pkgrel=1
pkgdesc="Basis for G19 support in Gnome15"
arch=(any)
url="http://www.gnome15.org/"
license=('GPL')
depends=(python2 pyusb python-imaging)
source=(http://www.gnome15.org/downloads/Gnome15/G19/${pkgname}-${pkgver}.tar.gz)
md5sums=('608874d1a2884bd15769f128cd0f2b6c')

build() {
  cd "${srcdir}/${pkgname}-${pkgver}"

  # python2 fix
  for file in $(find . -type f -name '*' -print); do
    sed -i 's_^#!.*/usr/bin/python_#!/usr/bin/python2_' $file
    sed -i 's_^#!.*/usr/bin/env.*python_#!/usr/bin/env python2_' $file
  done

  python2 setup.py build
}

package() {
  cd "${srcdir}/${pkgname}-${pkgver}"

  python2 setup.py install --prefix='/usr' --root=${pkgdir}
}

# vim:set ts=2 sw=2 et:
