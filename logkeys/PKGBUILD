# Contributor: domanov <_domanov_@_gmail_.com>
# Maintainer: SanskritFritz (gmail)

pkgname=logkeys
pkgver=0.1.1a
pkgrel=4
pkgdesc="Simple keylogger also supporting USB keyboards"
arch=('i686' 'x86_64')
url="http://code.google.com/p/logkeys/"
license=('GPLv3')
depends=('')
optdepends=('logkeys-keymap: for keymaps other than standard en_US')
install=logkeys.install
source=(http://logkeys.googlecode.com/files/$pkgname-$pkgver.tar.gz
        logkeys-stdout.patch
        logkeysd.sh)

md5sums=('19362a382b65e89c66ea4c5642297589'
         'c11258ab13560081c2cdb56ccd31c6cd'
         'aed9cd7a6775d7ec42fe71dc27dbf6cf')

build() {
	cd $srcdir/$pkgname-$pkgver
	patch -p1 < $srcdir/logkeys-stdout.patch
	./configure --prefix=/usr
	make || return 1
}

package() {
	cd $srcdir/$pkgname-$pkgver
	make prefix=$pkgdir/usr install

	install -Dm0755 "${srcdir}/logkeysd.sh" "${pkgdir}/etc/rc.d/logkeys"
}
