# Maintainer: Hoàng Đức Hiếu <hdh@lazny.tang.la>
# Contributor: Gilfran Ribeiro <contato [at] gilfran [dot] net>
# Contributor: William Díaz <wdiaz [at] archlinux [dot] us>
# Modifed: Gustavo Alvarez <sl1pkn07 [at] gmail [dot] com>

pkgname=cpyrit-opencl-svn
pkgver=288
pkgrel=1
pkgdesc="OpenCL backend for accelerated attack against WPA-PSK authentication, development version"
url="http://code.google.com/p/pyrit/"
license=('GPL3')
arch=('i686' 'x86_64')
depends=('python' 'openssl' 'zlib' 'libpcap' 'cuda-toolkit')
makedepends=('gcc')

_svntrunk=http://pyrit.googlecode.com/svn/trunk
_svnmod=cpyrit_opencl

build() {
  cd ${srcdir}
  svn co $_svntrunk/$_svnmod $_svnmod || return 1

  cd $_svnmod
# rm -r build
  sed -i 's|/usr/local/opencl/OpenCL/common/inc|/usr/include|g' setup.py
  LDFLAGS="" python setup.py build || return 1
  python setup.py install --root=${pkgdir}
}
