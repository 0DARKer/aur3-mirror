# Maintainer: Milo Mirate <mmirate@gmx.com>
_pkgname=plumbum
pkgname=python-plumbum
pkgver=1.1.0
pkgrel=2
pkgdesc="Shell combinators library."
arch=('any')
url="http://pypi.python.org/pypi/plumbum"
license=('GPL')
groups=()
depends=('python' 'python-six')
makedepends=()
provides=()
conflicts=()
replaces=()
backup=()
options=(!emptydirs)
install=
source=("http://pypi.python.org/packages/source/p/plumbum/plumbum-${pkgver}.tar.gz")
md5sums=('6b89b393fede7f623f4065b25f6e0c28')

package() {
  cd "$srcdir/${_pkgname}-$pkgver"

  patch -p1 -R <<'EOF'
diff --git a/plumbum/__init__.py b/plumbum/__init__.py
index d4ddec4..037aed5 100644
--- a/plumbum/__init__.py
+++ b/plumbum/__init__.py
@@ -56,7 +56,6 @@ class LocalModule(ModuleType):
     __all__ = ()                # to make help() happy
     __package__ = __name__
     __getattr__ = local.__getitem__
-    __path__ = []
 
 cmd = LocalModule(__name__ + ".cmd", LocalModule.__doc__)
 sys.modules[cmd.__name__] = cmd
EOF

  python setup.py install --root="$pkgdir/" --optimize=1
}

# vim:set ts=2 sw=2 et:
