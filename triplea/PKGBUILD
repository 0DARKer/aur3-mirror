# Contributor: Raniz <raniz *AT* gmx *DOT* net>
# Maintainer: Parth Nobel <pnob99 *AT* gmail *DOT* com>

pkgname=triplea
pkgver=1.8.0.3
pkgrel=5
pkgdesc='An online multiplayer turn based strategy game and board game engine.'
arch=('any')
url="http://triplea.sf.net"
license=('GPL')
install=${pkgname}.install
depends=('hicolor-icon-theme' 'java-runtime' 'bash')
source=("http://downloads.sourceforge.net/sourceforge/${pkgname}/${pkgname}_${pkgver//./_}_all_platforms.zip" "https://github.com/PTNobel/TripleA/archive/master.zip" "triplea")
sha256sums=('eeafdd732938e4d3c7b2691bfbd79697772ea419a351ab15bc339f160b856512'
            '0362a3906bd1ecf992d6a01d47233ff58326626ba584645a5928668fd9506292'
            '4fdd7ad0c1a802a3142e800dc1f354a246586d8bb75b8c17b6dc948b5cf35f05')

package() {
    install -d "${pkgdir}/usr/share/triplea"
    cd ${srcdir}/${pkgname}_${pkgver//./_}
    cp -R * ${pkgdir}/usr/share/triplea
    cd ${srcdir}/TripleA-master/usr/share/
    cp -R * ${pkgdir}/usr/share
    cd ${srcdir}

    find ${pkgdir}/usr/share/triplea -type d -exec chmod 755 {} \;
    find ${pkgdir}/usr/share/triplea -type f -exec chmod 644 {} \;
    chmod 755 ${pkgdir}/usr/share/triplea/triplea_unix.sh

    install -D -m 0755 ${srcdir}/triplea ${pkgdir}/usr/bin/triplea
}

