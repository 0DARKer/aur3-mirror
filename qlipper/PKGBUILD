# Contributor: sxe <sxxe@gmx.de>
pkgname=qlipper
pkgver=2.0.2
pkgrel=2
pkgdesc="Lightweight & cross-platform clipboard history applet based on qt"
arch=('i686' 'x86_64')
url="http://qlipper.googlecode.com"
license=("GPL")
depends=('qt4' 'libqxt')
makedepends=('cmake')
source=("http://qlipper.googlecode.com/files/qlipper-$pkgver.tar.bz2")
md5sums=('d1aa843d68b4980401ef7fdd65f56006')

build() {
    cd "$srcdir/$pkgname-$pkgver"
    #qmake
    msg "Starting build process."
    cmake -DCMAKE_INSTALL_PREFIX=/usr -DUSE_SYSTEM_QTSA=0 -DCMAKE_BUILD_TYPE=Release -DQT_QMAKE_EXECUTABLE=qmake-qt4
    make
}

package() {
    msg2 "Starting packaging."
    cd "$srcdir/$pkgname-$pkgver"
    make DESTDIR="$pkgdir" install
    install -D -m755 qlipper $pkgdir/usr/bin/qlipper
    install -Dm644 $srcdir/qlipper-$pkgver/qlipper.desktop $pkgdir/usr/share/applications/qlipper.desktop
}