# Maintainer: JokerBoy <jokerboy at punctweb dot ro>

pkgname=kfaenza-icon-theme
pkgver=0.3
pkgrel=1
pkgdesc="Faenza icon theme for KDE4"
url="http://kde-look.org/content/show.php?content=140256"
license=('GPL')
arch=('any')
source=("${pkgname}-${pkgver}.tar.gz::http://ompldr.org/vOGhtdw")
noextract=("${pkgname}-${pkgver}.tar.gz")
sha256sums=('95177133a3f2caa21acfc8f085598080d43f93a9f9e8d87427ebbb62543df8ce')

build() {
  mkdir -p "${pkgdir}/usr/share/icons"
  tar xzf "${srcdir}/${pkgname}-${pkgver}.tar.gz" -C "${pkgdir}/usr/share/icons"

  # set the Arch Linux Dristributor logo
  for size in 16 22 24 32 48; do
    cd "${pkgdir}/usr/share/icons/Faenza/places/${size}"
    ln -sf distributor-logo-archlinux.png distributor-logo.png
  done;

  # set the Arch Linux start menu logo
  for size in 16 22 24; do
    cd "${pkgdir}/usr/share/icons/Faenza/places/${size}"
    ln -sf start-here-archlinux.png start-here.png
    [[ "${size}" != 16 ]] && \
    cd "${pkgdir}/usr/share/icons/Faenza-Dark/places/${size}"
    ln -sf start-here-archlinux.png start-here.png
  done;

  cd "${pkgdir}/usr/share/icons/Faenza/places/scalable"
  ln -sf distributor-logo-archlinux.svg distributor-logo.svg
  chown -R root:root "${pkgdir}/usr"
}
