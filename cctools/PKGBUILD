pkgname=cctools
pkgver=1.94.0
pkgrel=2
pkgdesc="An editor for Chip's Challenge levels."
url="http://cctools.zrax.net/"
arch=(i686)
depends=(qt)
makedepends=(cmake)
license=(GPL)
source=("ftp://ftp.zrax.net/CCTools/$pkgname-$pkgver.tar.gz"
        "ccedit.desktop"
        "ccplay.desktop")
sha1sums=('d6ebaf1b150fcd9a2963f8ff4221e16fe973d4f9'
          'fbc9c47f99f303cf316f97cb81cfd6ba35567364'
          'd8b5262e7839ed5ac2ed372831677a2607eb5677')
md5sums=('e836aed140517278452ef60c6e2401a2'
         'c49153983e8c9e1f7bc702a4264e65db'
         '2060c86d0de0da5c5847601101f9d66b')

build () {
	cd $srcdir/$pkgname-$pkgver

	cmake -DCMAKE_INSTALL_PREFIX=/usr -DCMAKE_BUILD_TYPE=Release
	make || return 1
	make DESTDIR=$pkgdir install

	mkdir -p "$pkgdir"/usr/share/{pixmaps,applications}

	install -m644 "$srcdir"/{ccedit,ccplay}.desktop "$pkgdir/usr/share/applications/"

	install -m644 src/CCEdit/icons/boot-48.png "$pkgdir/usr/share/pixmaps/ccedit-icon.png"
	install -m644 src/CCPlay/icons/chip-48.png "$pkgdir/usr/share/pixmaps/ccplay-icon.png"
}
