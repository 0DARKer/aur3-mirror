--- src/ircptray_main.c.bak	2010-07-07 11:16:10.000000000 -0300
+++ src/ircptray_main.c	2011-04-29 12:35:40.000000000 -0300
@@ -248,14 +248,13 @@
 
 	notification = notify_notification_new (g_get_application_name(),
                                             notify_msg,
-                                            icon,
-                                            NULL);
+                                            icon);
     if (notification == NULL) {
         g_warning("failed to setup notification");
         return;
     }
 
-	notify_notification_attach_to_status_icon (notification, AppTrayIcon);
+	/* notify_notification_attach_to_status_icon (notification); */
 
 	if (!notify_notification_show (notification, NULL))
 	    g_warning("failed to send notification");
@@ -277,11 +276,10 @@
 
 	notification = notify_notification_new (g_get_application_name(),
                                        notify_msg,
-                                       icon,
-                                       NULL);
+                                       icon);
 
 	if (notification != NULL) {
-	    notify_notification_attach_to_status_icon (notification, AppTrayIcon);
+	   /*  notify_notification_attach_to_status_icon (notification); */
 
 		if (!notify_notification_show (notification, NULL))
 			g_warning("failed to send notification\n");
@@ -533,7 +531,7 @@
 		y = 1;
 		while ( labels[y] ) {
 			ck1 = gtk_check_button_new();
-			GTK_WIDGET_UNSET_FLAGS (ck1, GTK_CAN_FOCUS);
+			gtk_widget_set_can_focus (ck1, FALSE);
 			gtk_widget_set_sensitive (ck1, FALSE);
 
 			if ( (y <= 8) && (dev->hints[0] & 1<<(y-1)) )
@@ -560,7 +558,7 @@
 	close = gtk_button_new_from_stock ("gtk-close");
 	gtk_widget_show (close);
 	gtk_dialog_add_action_widget (GTK_DIALOG (info), close, GTK_RESPONSE_CLOSE);
-	GTK_WIDGET_SET_FLAGS (close, GTK_CAN_DEFAULT);
+	/*GTK_WIDGET_SET_FLAGS (close, GTK_CAN_DEFAULT);*/
 
 	g_signal_connect (GTK_OBJECT (info), "response",
 			    G_CALLBACK (on_dialog_response),
