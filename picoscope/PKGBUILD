# Maintainer: aAXEe <axel at brasshack dot de>
# Submitter: Alexandre Bique (abique) <>
pkgname=picoscope
pkgver=6.10.1
pkgrel=1
pkgdesc="gui for picotech oscilloscope"
arch=('x86_64')
url="http://www.picotech.com/linux.html"
license=('GPL')
groups=()
depends=(mono mono-tools libpicoipp desktop-file-utils)
makedepends=(dpkg)
optdepends=('libps3000: support for picoscope 3000 series'
	'libpsXXXX: support for other devices (no packages exists so far)')
provides=()
conflicts=()
replaces=()
backup=()
options=()
install=picoscope.install
changelog=
source=(
  "http://labs.picotech.com/debian/pool/main/p/${pkgname}/picoscope_6.10.1-4r13_all.deb"
  "picoscope.install"
  "95-pico.rules")
md5sums=('b4333b072c9bd8f172c98f7dd279242c'
         '38490f2358bcc48732615f65e829b114'
         'afedfca88c003ead013c18f26f789fd4')
noextract=()

package() {
  mkdir -p $pkgdir/etc/udev/rules.d/
  install -m644 95-pico.rules $pkgdir/etc/udev/rules.d/
  dpkg --extract picoscope_6.10.1-4r13_all.deb $pkgdir
  chmod -R go-w $pkgdir
  chown -R root:root $pkgdir

  mkdir -p $pkgdir/usr/bin
  ln -s /opt/picoscope/bin/picoscope $pkgdir/usr/bin/picoscope
}
