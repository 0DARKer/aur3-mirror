# Maintainer: Guillaume ALAUX <guillaume at alaux dot net>
pkgname=playframework2
pkgver=2.1.1
pkgrel=2
pkgdesc='An open source web application framework in Java which follows the MVC pattern'
arch=('any')
url='http://www.playframework.org/'
license=('Apache')
depends=('java-environment' 'python')
optdepends=('playframework2-doc: for documentation and samples')
conflicts=('playframework')
source=(http://downloads.typesafe.com/play/${pkgver}/play-${pkgver}.zip)
sha256sums=('598f91e07455def628cf5d7c6b66b21d96889cac1238263221993a6d524ad6ab')

package() {
  cd "${srcdir}/play-${pkgver}"
  install -dm755 ${pkgdir}/usr/share/playframework2 ${pkgdir}/usr/bin
  cp -r ./* ${pkgdir}/usr/share/playframework2
  chgrp -R users ${pkgdir}/usr/share/playframework2/{framework,repository}
  chmod -R g+rwx ${pkgdir}/usr/share/playframework2/{framework,repository}
  rm ${pkgdir}/usr/share/playframework2/{play.bat,framework/build.bat}
  ln -s /usr/share/playframework2/play ${pkgdir}/usr/bin/play2
}

