pkgname=skypetab-ng-git
_realname=skypetab-ng
pkgver=20111214
pkgrel=1
pkgdesc='A program that adds tabs to Skypeâ„¢ for Linux'
url='http://keks-n.net/skypetab'
arch=('i686' 'x86_64')
license=('GPL')
depends=('skype')
options=(!strip)
makedepends=('git' 'cmake')
[[ "${CARCH}" = 'x86_64' ]] && makedepends=('git' 'cmake' 'gcc-multilib')

_gitroot="git://github.com/kekekeks/$_realname.git"
_gitname="$_realname-ng"

build() {
  cd ${srcdir}
  msg "Connecting to GIT server...."
  if [[ -d $srcdir/$pkgname-$pkgver ]]; then
    cd $srcdir/$pkgname-$pkgver && git pull origin || return 1
  else
    git clone $_gitroot $srcdir/$pkgname-$pkgver || return 1
    cd $srcdir/$pkgname-$pkgver
  fi
  msg "GIT checkout done or server timeout"
  qmake -spec linux-g++-32
  make
  make INSTALL_ROOT=${pkgdir} install
}
