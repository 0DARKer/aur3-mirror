# Maintainer: Mikael Eriksson <mikael_eriksson@miffe.org>

pkgname=flare-rpg
pkgver=0.15
pkgrel=1
pkgdesc="open source action roleplaying game"
arch=('i686' 'x86_64')
url="http://clintbellanger.net/rpg/"
license=('GPL')
depends=('sdl' 'sdl_image' 'sdl_mixer' 'sdl_ttf')
makedepends=('cmake')
replaces=('osare')
source=(flare-$pkgver.zip::https://github.com/clintbellanger/flare/zipball/v$pkgver)
md5sums=('22e7eb777fc6abbcd16a7c50deffd3e9')

build() {
  #cd "$srcdir/clintbellanger-flare-ad926f7/src"

  #g++ *.cpp -o flare.bin -I/usr/include/SDL -lSDL -lSDL_image -lSDL_mixer -lSDL_ttf
  #install -Dm755 flare.bin $pkgdir/usr/bin/flare.bin

  #install -d -m755 $pkgdir/usr/share/flare
  #for dir in animations enemies engine fonts images items maps music npcs powers quests soundfx tilesetdefs; do
    #cp -r "$srcdir/clintbellanger-flare-ad926f7/$dir" "$pkgdir/usr/share/flare"
  #done
  #chmod -R a-x+X $pkgdir/usr/share/flare
  #find $pkgdir/usr/share/flare -name .DS_Store -exec rm -rf {} \;

#cat > $pkgdir/usr/bin/flare << EOF
##!/bin/sh
#cd /usr/share/flare
#exec flare.bin
#EOF
  #chmod 755 $pkgdir/usr/bin/flare

  cd "$srcdir/clintbellanger-flare-ad926f7"
  cmake -DCMAKE_INSTALL_PREFIX=/usr .
  make
  make install DESTDIR=$pkgdir
}

# vim:set ts=2 sw=2 et:
