#Maintainer: Damien Churchill <damoxc@gmail.com>
pkgname=pyramid
pkgver=1.0
pkgrel=2
pkgdesc='Pyramid is a small, fast, down-to-earth, open source Python web development framework'
arch=('any')
url='http://pylonshq.com/'
license=('custom:BSD')
depends=('python2'
		 'python-mako>=0.3.4'
		 'python-paste>=1.7.2'
		 'python-paste-deploy>=1.3.3'
		 'python-paste-script>=1.7.3'
		 'python2-webob>=0.9.6.1'
		 'python2-repoze.lru'
		 'zope-component'
		 'zope-configuration'
		 'zope-deprecation'
		 'zope-event'
		 'zope-interface'
		 'zope-i18nmessageid'
		 'zope-schema'
		 'venusian'
		 'translationstring')
makedepends=('python2-distribute')
source=(http://pypi.python.org/packages/source/p/pyramid/pyramid-${pkgver}.tar.gz)
md5sums=('811ac86625e39083f24f2b6d400a5d39')

build() {
  cd $srcdir/pyramid-${pkgver}
  python2 setup.py install --root=$pkgdir/ --optimize=1
  sed -i -e "s|#![ ]*/usr/bin/python$|#!/usr/bin/python2|" \
         -e "s|#![ ]*/usr/bin/env python$|#!/usr/bin/env python2|" \
    $(find $pkgdir -name '*.py')
}
