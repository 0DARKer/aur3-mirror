# Maintainer: archtux <antonio.arias99999@gmail.com>

pkgname=lynsol
pkgver=1.9
pkgrel=1
pkgdesc="Solitaire, Jumbo, Freecell, Spider and Ten Across card games"
arch=('i686' 'x86_64')
url="http://xzcallaway.synthasite.com/cards.php"
license=('GPL2')
depends=('python-pygame' 'wxpython' 'xchm')
source=(http://xzcallaway.synthasite.com/resources/${pkgname}_$pkgver-1_i386.deb)
md5sums=('66d3dc0538e5a1469581941c7912cb0b')

build() {
   #Extract debian package
   bsdtar xf $pkgname*
   bsdtar xf data.tar.gz -C $pkgdir

   #Python2 fix
   export PYTHON="/usr/bin/python2"
   cd $pkgdir/usr/share/applications
   sed -i 's_Exec=python_Exec=python2_' Solitaire.desktop
   cd ../lynsol
   sed -i 's_/usr/bin/python_/usr/bin/python2_' Look.py Options.py StartTutorial.py tl.py
   sed -i 's_#!/usr/bin/env python_#!/usr/bin/env python2_' sound.py
}