# Maintainer: Tom Wizetek <tom@wizetek.com>
pkgname=realvnc-viewer
pkgver=5.0.2
pkgrel=1
pkgdesc="RealVNC Viewer"
url="http://www.realvnc.com/"
license=('custom')
arch=('i686' 'x86_64')
depends=('libxext')

[[ "${CARCH}" = "i686" ]] && _pkgbin="VNC-Viewer-5.0.2-linux-x86" && source=("${_pkgbin}.gz::http://www.realvnc.com/download/binary/1170") && md5sums=('d0bb17180ce35f6035b6b0fc4c367704')
[[ "${CARCH}" = "x86_64" ]] && _pkgbin="VNC-Viewer-5.0.2-linux-x64" && source=("${_pkgbin}.gz::http://www.realvnc.com/download/binary/1161") && md5sums=('d41d8cd98f00b204e9800998ecf8427e')

package() {
  install -D -m 755 ${srcdir}/${_pkgbin} ${pkgdir}/usr/bin/${_pkgbin}

  cat > ${pkgname}.desktop << EoF
[Desktop Entry]
Type=Application
Categories=Application;Network;
Terminal=false
Exec=/usr/bin/${_pkgbin}
Name=RealVNC Viewer
GenericName=Remote desktop client
Comment=Connect to VNC servers
EoF

  install -D -m 644 ${srcdir}/${pkgname}.desktop ${pkgdir}/usr/share/applications/${pkgname}.desktop
}
