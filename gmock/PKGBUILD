# Maintainer: Paul Viren <paul dot viren at lmco dot com>
# Contributor: Paul Viren <paul dot viren at lmco dot com>
pkgname=gmock
pkgver=1.5.0
pkgrel=1
pkgdesc="Google Mock - A library for writing and using C++ mock classes"
arch=('i686' 'x86_64')
url="http://code.google.com/p/googlemock/"
license=('BSD')
depends=('python2')
provides=('gtest=1.5.0')
options=(!libtool)
source=(http://googlemock.googlecode.com/files/$pkgname-$pkgver.tar.gz)
md5sums=('d9e62a4702c300ae9c87284ca8da7fac')

build() {
  cd "$srcdir/$pkgname-$pkgver"
  find -name \*.py -exec sed -i 's/#!\/usr\/bin\/env python/#!\/usr\/bin\/env python2/' {} \;
  ./configure --prefix=/usr || return 1
  make || return 1
  make DESTDIR="$pkgdir/" install || return 1
  mkdir -p "$pkgdir/usr/share/licenses/gmock/"
  cp "$srcdir/$pkgname-$pkgver/COPYING" "$pkgdir/usr/share/licenses/$pkgname/"
}

# vim:set ts=2 sw=2 et:
