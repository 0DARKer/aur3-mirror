# Contributor: Nielkie
pkgname=libwebcam
pkgver=0.1
pkgrel=1
pkgdesc="A libary that is designed to simplify the development of webcam applications"
arch=(i686 x86_64)
url="http://www.quickcamteam.net/software/libwebcam/"
license="GNU"
depends=('libxml2' 'linux-uvc-svn')
makedepends=('pkgconfig' 'automake' 'autoconf' 'gengetopt')
source=(http://www.quickcamteam.net/dev/$pkgname-$pkgver.tar.gz
	 'http://svn.berlios.de/svnroot/repos/linux-uvc/linux-uvc/trunk/uvcvideo.h'
	 'http://svn.berlios.de/svnroot/repos/linux-uvc/linux-uvc/trunk/uvc_compat.h')
md5sums=('fbc5d79d00d6fdb3f84ee6e9ced9e07e')

build() {
  cd $startdir/src/$pkgname-$pkgver
  mv $startdir/uvc_compat.h Common/include/
  mv $startdir/uvcvideo.h Common/include/

  ./autogen.sh
  make || return 1
  make DESTDIR=$startdir/pkg install
  cd $startdir/pkg/usr/
  mv local/* .
  rm -rf local
  rm bin/test
}
