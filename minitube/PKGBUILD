# Maintainer: Frikilinux <frikilinux at frikilinux.com.ar>

pkgname=minitube
pkgver=1.4.2
pkgrel=2
pkgdesc="A native YouTube client in QT. Watch YouTube videos without Flash Player"
arch=('i686' 'x86_64')
url="http://flavio.tordini.org/minitube"
license=('GPL3')
depends=('phonon' 'qt')
optdepends=('phonon-xine: for xine backend'
            'phonon-gstreamer: for gstreamer backend'
            'gstreamer0.10-plugins: to get all videos to play with phonon-gstreamer'
	    'phonon-vlc: for vlc backend'
            'phonon-mplayer-git: for mplayer backend (from AUR)')
install=minitube.install
source=(http://flavio.tordini.org/files/${pkgname}/${pkgname}-${pkgver}.tar.gz)
sha256sums=('3e9bf99e84ef0191e48a813466ad89b69ea613006d166c856504009cac08b6fc')

build() {
        cd "${srcdir}"/${pkgname}

# Fix locale path
	sed -i 's|qApp.*tor()[^"]*"|"/usr/share/$pkgname/|' src/main.cpp
        
	qmake PREFIX="/usr"
}
package() {
	cd "${srcdir}"/${pkgname}
        make install INSTALL_ROOT="${pkgdir}"
}

