# Maintainer: Frikilinux <frikilinux at frikilinux.com.ar>

pkgname=minitube
pkgver=1.4.3
pkgrel=1
pkgdesc="A native YouTube client in QT. Watch YouTube videos without Flash Player"
arch=('i686' 'x86_64')
url="http://flavio.tordini.org/minitube"
license=('GPL3')
depends=('phonon' 'qt')
optdepends=('phonon-xine: for xine backend'
            'phonon-gstreamer: for gstreamer backend'
            'gstreamer0.10-plugins: to get all videos to play with phonon-gstreamer'
	    'phonon-vlc: for vlc backend'
            'phonon-mplayer-git: for mplayer backend (from AUR)')
install=minitube.install
source=(http://flavio.tordini.org/files/${pkgname}/${pkgname}-${pkgver}.tar.gz)
sha256sums=('f23d72d4c675d3bb6d7d986007edee99eff63670580e3c7a644421919989aa09')

build() {
        cd "${srcdir}"/${pkgname}

# Fix locale path
	sed -i 's|qApp.*tor()[^"]*"|"/usr/share/$pkgname/|' src/main.cpp
        
	qmake PREFIX="/usr"
}
package() {
	cd "${srcdir}"/${pkgname}
        make install INSTALL_ROOT="${pkgdir}"
}

