# Maintainer: Limao Luo <luolimao+AUR@gmail.com>
# Contributor: wesbrown18@gmail.com

pkgname=ruby-redis
pkgver=3.0.4
pkgrel=1
pkgdesc="Ruby client library for Redis, the key value storage server"
arch=(any)
url=https://github.com/redis/redis-rb
license=(GPL)
depends=(redis ruby)
source=(http://rubygems.org/downloads/${pkgname#*-}-$pkgver.gem)
noextract=($pkgname-$pkgver.gem)
sha256sums=('4d5d11fd5c337ef5ab992ad21941b6a1fdd0becedb4bbe79f107473570a944d0')
sha512sums=('d2902854fa5f8d5a97ad3dc089fe940169b9c4ec8e1b0ad2dc437a15e00b90fcf40feed2d589362180ee198dccb5da28a9523e597cdfc315a69037b9855216a5')

package() {
    gem install \
        --ignore-dependencies \
        --no-user-install \
        -i "$pkgdir"/$(ruby -rubygems -e'puts Gem.default_dir') \
        ${pkgname#*-}-$pkgver.gem
}
