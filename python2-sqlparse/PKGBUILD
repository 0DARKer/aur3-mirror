# Maintainer: Limao Luo <luolimao+AUR@gmail.com>

pkgname=python2-sqlparse
pkgver=0.1.11
pkgrel=1
pkgdesc="Python object model built on JSON schema and JSON patch"
arch=(any)
url=https://github.com/andialbrecht/sqlparse
license=(BSD)
depends=(python2)
makedepends=(python2-setuptools)
source=(http://pypi.python.org/packages/source/s/${pkgname#*-}/${pkgname#*-}-$pkgver.tar.gz
    https://raw.github.com/andialbrecht/sqlparse/master/COPYING)
sha256sums=('4355f38d0fd620a6f2c45a9cfe822988a379d3d097bb47bf009e9eb5b323ed1e'
    'd8b24f15d472885f788a2d6e985850f264627b86012a17bb242c83f310d907e5')
sha512sums=('f9ff42251dae52af2fb864dbe67b47814f7b22d91ac8bf37bad2f4d14af6b2776f9ce8f6f57f16403334f31676086f7e5367384dd0ef2ab754212edb1b635c10'
    '6a4c6b57a9cfe227175852c67ab7536fcc23646761cd10d25800edfccf408b139b1f589313f6cf6717c5764ca2e554cc16921118e01aebfbdf3ddfada82c6bac')

build() {
    cd ${pkgname#*-}-$pkgver/
    python2 setup.py build
}

package() {
    install -Dm644 COPYING "$pkgdir"/usr/share/licenses/$pkgname/COPYING
    cd ${pkgname#*-}-$pkgver/
    python2 setup.py install --prefix=/usr --root="$pkgdir"
    mv "$pkgdir"/usr/bin/sqlformat{,2}
}
