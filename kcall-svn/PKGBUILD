# Contributor: Mladen Pejakovic <pejakm@gmail.com> -> # Maintainer Venky80 < venkythegeek at gmail com >

pkgname=kcall-svn
pkgver=1011895
pkgrel=1
pkgdesc="KCall is the future telephony application of KDE4's Kontact"
arch=('i686' 'x86_64')
url="http://websvn.kde.org/trunk/playground/network/kcall/"
license=('GPL2')
depends=('kdebase-workspace' 'telepathy-mission-control-5' 'telepathy-gabble' 'telepathy-qt4' 'libtelepathy' 'telepathy-accounts-kcm' 'telepathy-farsight')
makedepends=('pkgconfig' 'cmake' 'automoc4' 'qt' 'kdelibs' 'kdelibs-experimental' 'glib' 'telepathy-farsight' 'telepathy-glib' 'gstreamer0.10')


_svntrunk=svn://anonsvn.kde.org/home/kde/trunk/playground/network/kcall/
_svnmod=kcall

source=()
md5sums=()

build() {
    cd $srcdir
    svn co $_svntrunk $_svnmod
      msg "SVN checkout done or server timeout"
      msg "Starting make..."
    cd $_svnmod
      cmake -DCMAKE_INSTALL_PREFIX=/usr -DCMAKE_BUILD_TYPE=debug
    make VERBOSE=1 || return 1
    make DESTDIR=$pkgdir install || return 1
}
