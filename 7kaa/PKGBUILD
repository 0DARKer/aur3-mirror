# Contributor: xnitropl <xnitropl at gmail dot com>
# Contributor: diffycat

pkgname=7kaa
pkgver=2.14.3
pkgrel=1
pkgdesc='Seven Kingdoms, designed by Trevor Chan, brings a mix of RTS like Warcraft 2 and turn-based strategy of Civilization.'
url='http://7kfans.com/'
arch=('i686' 'x86_64')
license=('GPL')
depends=('openal' 'sdl_net' 'sh' 'gcc-libs')
# Dependency 'sdl' provides by 'sdl_net'
optdepends=('7kaa-data: original dataset')
source=("http://downloads.sourceforge.net/project/skfans/7KAA%20${pkgver}/${pkgname}-source-${pkgver}.tar.bz2"
        "${pkgname}.sh"
        "${pkgname}.desktop")
md5sums=('145090c391a4c843500bde399b19ba9b'
         '8d0634b0962ad621a7608378d7172e02'
         'd331afa30e60d39ae3b7dafa50e39d4d')

build() {
  cd "${srcdir}/${pkgname}-${pkgver}"
  ./configure
  make
}

package() {
  install -D -m755 "${pkgname}.sh" "${pkgdir}/usr/bin/${pkgname}"
  install -D -m644 "${pkgname}.desktop" "${pkgdir}/usr/share/applications/${pkgname}.desktop"

  install -dm755 "${pkgdir}/opt/${pkgname}/"
  install -D -m755 "${srcdir}/${pkgname}-${pkgver}/src/client/${pkgname}" "${pkgdir}/opt/${pkgname}/${pkgname}"
}

# vim:set ts=2 sw=2 et:
