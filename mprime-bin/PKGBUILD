# Maintainer: graysky <graysky AT archlinux dot us>
# Contributor: Chrysalis <mindaxis@gmail.com>

pkgname=mprime-bin
_pkgname=mprime
pkgver=279
pkgrel=1
pkgdesc="A GIMPS, distributed computing project client, dedicated to finding Mersenne primes. Precompiled binary version."
arch=('i686' 'x86_64')
url="http://www.mersenne.org"
license=('custom')
provides=('mprime')
conflicts=('mprime')
depends=('gcc-libs')

if [[ $CARCH = "x86_64" ]]; then
	source=("http://www.mersenne.info/gimps/p95v$pkgver.linux64.tar.gz")
	sha256sums=('7fb64f49f4825945d0ed470ecaa12f4b1ffc62c5e56edc7a181fb0751785692d')
elif [[ $CARCH = "i686" ]]; then
	source=("http://www.mersenne.info/gimps/p95v$pkgver.linux32.tar.gz")
	sha256sums=('500d7e0f5a6f19084bdc439f25532ca0b8609ceb4fe88f792fbc01dd844abdbe')
else
	echo "Cannot determine architecture."
	exit 1
fi

package() {
	install -Dm755 mprime ${pkgdir}/usr/bin/mprime
	install -Dm644 license.txt ${pkgdir}/usr/share/licenses/${_pkgname}/license.txt
	install -Dm644 readme.txt ${pkgdir}/usr/share/doc/${_pkgname}/readme.txt
	install -Dm644 stress.txt ${pkgdir}/usr/share/doc/${_pkgname}/stress.txt
	install -Dm644 undoc.txt ${pkgdir}/usr/share/doc/${_pkgname}/undoc.txt
	install -Dm644 whatsnew.txt ${pkgdir}/usr/share/doc/${_pkgname}/whatsnew.txt
}

# vim:set ts=2 sw=2 et:
