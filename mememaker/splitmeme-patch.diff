--- mememaker.sh	2012-03-18 00:23:10.000000000 -0400
+++ mememaker.sh	2012-03-19 20:31:49.320739006 -0400
@@ -85,27 +85,75 @@
 echo All delete urls are saved in ~/deleteurls.txt
 echo "$url $deleteurl" >> ~/deleteurls.txt
 }
+function creatememe (){
+	if [[ -z $top ]]; then
+		echo -n Top caption: 
+		read top
+	fi
+	if [[ -z $bottom ]]; then
+		echo -n Bottom caption: 
+		read bottom
+	fi
+	width=`identify -format %w meme.jpg`
+	convert -background '#0008' -fill white -gravity center -size ${width}x30 \
+			  caption:"$bottom" \
+			  meme.jpg +swap -gravity south -composite  out.png
+	convert -background '#0008' -fill white -gravity center -size ${width}x30 \
+			  caption:"$top" \
+			  out.png +swap -gravity north -composite  out.png
+	imgur out.png
+	rm out.png
+	rm meme.jpg
+}
 cd `dirname "$0"`
-echo Please select a meme.
-cat ./list.txt
-echo 
-echo 
-echo -n meme \#: 
-read meme
-cp ./memes/$meme.jpg ./meme.jpg
-echo 
-echo -n Top caption: 
-read top
-echo 
-echo -n Bottom caption: 
-read bottom
-width=`identify -format %w meme.jpg`
-convert -background '#0008' -fill white -gravity center -size ${width}x30 \
-          caption:"$bottom" \
-          meme.jpg +swap -gravity south -composite  out.png
-convert -background '#0008' -fill white -gravity center -size ${width}x30 \
-          caption:"$top" \
-          out.png +swap -gravity north -composite  out.png
-imgur out.png
-rm out.png
-rm meme.jpg
\ No newline at end of file
+case $1 in
+	-h | --help)
+		echo -e "-h --help  		display this message"
+		echo -e "-s --split 		create a split meme"
+		echo -e "-s --split #1 #2 	create a split meme with #1 on top and #2 on bottom"
+		echo -e "-m --meme 			create a meme"
+		echo -e "-m --meme #1 #2 	create a meme with #1 on top and #2 on bottom";;
+	-l | --list)
+		cat ./list.txt;;
+	-s | --split)
+		if [[ -n $2 ]];then
+			convert -crop 100%x50% ./memes/$2.jpg "$2"%d.jpg
+			convert -crop 100%x50% ./memes/$3.jpg "$3"%d.jpg
+			convert -append -adaptive-resize "480x480" "$2"0.jpg "$3"1.jpg meme.jpg
+			rm  "$2"0.jpg "$2"1.jpg  "$3"1.jpg "$3"0.jpg
+		else
+			cat ./list.txt
+			echo Please select Top Meme
+			echo -n meme1 \#:
+			read meme1
+			echo Please select bottomMeme
+			echo -n meme2 \#:
+			read meme2
+			convert -crop 100%x50% ./memes/$meme1.jpg "$meme1"%d.jpg
+			convert -crop 100%x50% ./memes/$meme2.jpg "$meme2"%d.jpg
+			#montage -mode concatenate +adjoin -tile 1x2 "$meme1"0.jpg "$meme2"1.jpg meme.jpg
+			convert -append -adaptive-resize "480x480" "$meme1"0.jpg "$meme2"1.jpg meme.jpg
+			rm  "$meme1"0.jpg "$meme2"1.jpg  "$meme1"1.jpg "$meme2"0.jpg
+		fi
+		creatememe;;
+	-m | --meme)
+		if [[ -n $2 ]];then
+			cp ./memes/$2.jpg ./meme.jpg
+		else
+			cat ./list.txt
+			echo Please select a meme.
+			echo -n meme \#: 
+			read meme
+			cp ./memes/$meme.jpg ./meme.jpg
+		fi
+		creatememe;;
+	*)
+		cat ./list.txt
+		echo Please select a meme.
+		echo -n meme \#: 
+		read meme
+		cp ./memes/$meme.jpg ./meme.jpg
+		creatememe;;
+esac
+
+# vim:set ft=sh:
