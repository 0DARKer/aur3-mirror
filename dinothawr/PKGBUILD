#Contributor <Themaister> <maister@archlinux.us>

pkgname=dinothawr
pkgver=0.1
pkgrel=1
pkgdesc="Simple puzzle game for the libretro API."

arch=('i686' 'x86_64')
license=('custom')
depends=('retroarch' 'qt')
makedepends=('git')
url=('https://github.com/Themaister/RetroArch')

source=('http://www.retinaleclipse.com/dinothawr/dinothawr-launcher-0.1.tar.gz'
         'http://www.retinaleclipse.com/dinothawr/dinothawr-linux-0.1.tar.gz')

md5sums=('9ce1d3fd4a95b4e7a691d1baec0687bc'
         '90689018696aa36bfabe02852d546ba0')

build() 
{
   cd ${srcdir}/dinothawr-launcher
   qmake .
   make
}

package()
{
   mkdir -p ${pkgdir}/usr/share
   mkdir -p ${pkgdir}/usr/lib/libretro

   cd ${srcdir}/dinothawr-launcher
   make install INSTALL_ROOT=${pkgdir}/usr

   if [ "$CARCH" = x86_64 ]; then
      echo "Copying x86_64 library."
      install -m644 ${srcdir}/*x86_64.so ${pkgdir}/usr/lib/libretro/libretro-dinothawr.so
   else
      echo "Copying x86 library."
      install -m644 ${srcdir}/*x86.so ${pkgdir}/usr/lib/libretro/libretro-dinothawr.so
   fi

   cp -r ${srcdir}/dinothawr ${pkgdir}/usr/share
}

