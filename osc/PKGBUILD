# Contributor: Bernhard Walle	<bwalle.de: bernhard		>
# Contributor: Jesse Jaara	<gmail.com, mail.ru: jesse.jaara>
# AUR Category: devel

pkgname=osc
pkgver=0.132.5
pkgrel=1
pkgdesc="Command line client for the openSUSE Build Service"
url="http://build.opensuse.org"
license="GPL"
depends=('python2' 'python-m2crypto' 'urlgrabber')
builddepends=('python2' 'git')
arch=(any)

build() {
  cd "${srcdir}"
  msg "Connecting to gitorious.org server...."
  git clone git://gitorious.org/opensuse/osc.git osc-${pkgver}
  cd osc-${pkgver}
  git checkout ${pkgver} --

  python2 setup.py build
}

package() {
  cd "${srcdir}/osc-${pkgver}"

  python2 setup.py install --prefix=/usr --root="${pkgdir}"
  cd "${pkgdir}/usr/bin"
  ln -s osc-wrapper.py osc
}
