# Contributor: Bernhard Walle   <bwalle.de: bernhard            >
# Contributor: Jesse Jaara      <gmail.com, mail.ru: jesse.jaara>
# Contributor: Armin Wehrfritz
# Maintainer:  Patrick McCarty  <pnorcks at gmail dot com>
 
pkgname=osc
pkgver=0.134.1
_gittaghash=51b7be6
pkgrel=1
pkgdesc="Command line client for the openSUSE Build Service"
arch=(any)
url="http://build.opensuse.org"
license=('GPL')
depends=('python2' 'python-m2crypto' 'urlgrabber')
optdepends=('osc-build-git: required to run local builds')
conflicts=('osc-git')
source=(https://github.com/openSUSE/${pkgname}/tarball/${pkgver})
sha256sums=('dc1a0de63e2ce67d69cbb57d676898a1d25e4a984a4b221b20a121abf9c7e43b')

build() {
  cd "${srcdir}/openSUSE-${pkgname}-${_gittaghash}"
 
  python2 setup.py build
}
 
package() {
  cd "${srcdir}/openSUSE-${pkgname}-${_gittaghash}"
 
  python2 setup.py install --root="${pkgdir}/" --optimize=1
  cd "${pkgdir}/usr/bin"
  ln -s osc-wrapper.py osc
}
