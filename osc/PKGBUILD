# Contributor: Bernhard Walle <bernhard@bwalle.de>
# AUR Category: devel
pkgname=osc
pkgver=0.129
pkgrel=1
pkgdesc="Command line client for the openSUSE Build Service"
url="http://build.opensuse.org"
license="GPL"
depends=(python python-m2crypto urlgrabber)
builddepends=('python' 'urlgrabber' 'git')
arch=(i686 x86_64)
source=()
md5sums=()

build() {
  cd $startdir/src
  msg "Connecting to gitorious.org server...."
  git clone git://gitorious.org/opensuse/osc.git osc-$pkgver
  cd osc-$pkgver
  git checkout $pkgver --
  python2 setup.py build
  mkdir -p $startdir/pkg/
  python2 setup.py install --prefix=/usr --root=$startdir/pkg
  cd $startdir/pkg/usr/bin
  ln -s osc-wrapper.py osc
  cd -
}
