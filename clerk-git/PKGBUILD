# Maintainer: Rasmus Steinke <rasi at xssn dot at>
# Contributor: Christian Rebischke

pkgname=clerk-git
pkgver=85.2e8479d
pkgrel=1
pkgdesc="clerk - mpd client for dmenu/rofi"
arch=('any')
url='https://github.com/carnager/clerk'
license=('GPL')
depends=('mpc' 'python-mpd2' 'python-notify2')
optdepends=('rofi-git:   backend for clerk'
            'dmenu2: alternative backend for clerk'
            'mpd-sima: similar artists mode')
install="clerk-git.install"
makedepends=('git')
source=('git+http://git.53280.de/clerk')

pkgver() {
	cd clerk
	printf "%s.%s" "$(git rev-list --count HEAD)" "$(git rev-parse --short HEAD)"
}

package() {

  install -D -m755 "${srcdir}/clerk/clerk" \
    "${pkgdir}/usr/bin/clerk"

  install -D -m644 "${srcdir}/clerk/config.clerk" \
    "${pkgdir}/usr/share/doc/clerk/config.example"

  install -D -m755 "${srcdir}/clerk/clerk_helper" \
    "${pkgdir}/usr/bin/clerk_helper"
}

md5sums=('SKIP')
