# Maintainer: Robert Orzanna <orschiro@gmail.com>

pkgname=dmenu-recent-aliases
pkgver=r562.95d110f
pkgrel=1
pkgdesc="Launch dmenu with recent custom aliases stored in ~/.zsh_aliases"
arch=('any')
url="https://github.com/ewancoder/dotfiles/commits/master/bin/dm"
license=('GPL')
depends=('dmenu')
source=("$pkgname"::'git://github.com/ewancoder/dotfiles.git')
install=dmenu-recent-aliases.install
md5sums=('SKIP')

pkgver() {
  cd "$srcdir/$pkgname/bin"
  printf "r%s.%s" "$(git rev-list --count HEAD)" "$(git rev-parse --short HEAD)"
}

package() {
    install -d -m755 "$pkgdir/usr/bin"
    install -m755 "$srcdir/$pkgname/bin/dm" "$pkgdir/usr/bin/dmenu_recent_aliases"
}