# Maintainer: Christophe-Marie Duquesne <chmd@chmd.fr>
pkgname=netmon-git
pkgver=20130420
pkgrel=1
pkgdesc="A lightweight tray network monitor useful with netctl"
arch=('any')
url="http://github.com/chmduquesne/netmon"
license=('GPL')
depends=(
    'python2'
    'iproute2'
    'iputils'
    'wpa_supplicant')
makedepends=('git')

_gitroot="https://github.com/chmduquesne/netmon"
_gitname="netmon"

build() {
    cd "$srcdir"
    msg "Connecting to GIT server...."

    if [ -d $_gitname ] ; then
        cd $_gitname && git pull origin
        msg "The local files are updated."
    else
        git clone $_gitroot $_gitname
    fi
}

package() {
  cd "$srcdir/$_gitname"
  install -Dm 755 netmon $pkgdir/usr/bin/netmon
}
