# Maintainer: D. Can Celasun <dcelasun[at]gmail[dot]com>

pkgname=gtk3-engine-unico
pkgver=69
pkgrel=1
pkgdesc="Unico is a Gtk+ engine that aims to be the more complete yet powerful theming engine for Gtk+ 3.0 and newer. Itâ€™s the first Gtk+ engine written with Gtk+ style context APIs in mind, using CSS as first class citizen."
arch=('i686' 'x86_64')
url="https://launchpad.net/unico"
license=('GPL')
depends=('gtk3' 'gnome-common')
makedepends=('bzr')
#install=${pkgname}.install

_bzrtrunk="lp:unico"
_bzrmod="unico"

build() {
  cd "$srcdir"
  msg "Connecting to Bazaar server...."

  if [ -d $_bzrmod ] ; then
    cd ${_bzrmod} && bzr pull ${_bzrtrunk} -r ${pkgver}
    msg "The local files are updated."
  else
    bzr branch ${_bzrtrunk} ${_bzrmod} -r ${pkgver}
  fi

  msg "Bazaar checkout done or server timeout"
  msg "Starting make..."

  cd "$srcdir/$_bzrmod"
  sh autogen.sh --prefix=/usr
  ./configure --prefix=/usr
  make 

}

package() {
  cd "$srcdir/$_bzrmod"

  make DESTDIR="${pkgdir}" install
} 
