# Maintainer: osily <ly50247 at gmail dot com>

pkgname=xterm-lite
_realname=xterm
pkgver=269
pkgrel=1
pkgdesc="X Terminal Emulator"
arch=('i686' 'x86_64')
url="http://invisible-island.net/xterm/"
license=('custom')
depends=('libxft' 'ncurses')
provides=("$_realname")
conflicts=("$_realname")
groups=('xorg')
source=(http://invisible-island.net/datafiles/release/${_realname}.tar.gz)
md5sums=('d32150a7c1b2a8b6e2cbc95d180b9fec')

build() {
  cd "${srcdir}/${_realname}-${pkgver}"
  ./configure --prefix=/usr \
      --libdir=/etc \
      --mandir=/usr/share/man \
      --with-x \
      --enable-wide-chars \
      --disable-full-tgetent \
      --disable-imake \
      --disable-16-color \
      --enable-256-color \
      --with-tty-group=tty \
      --disable-ziconbeep \
      --disable-rectangles \
      --disable-vt52 \
      --disable-tek4014  \
      --disable-session-mgt \
      --disable-samename  \
      --disable-rightbar \
      --disable-regex  \
      --disable-maximize \
      --disable-desktop \
      --disable-sun-fkeys \
      --disable-initial-erase \
      --disable-paste64 \
      --disable-pty-handshake \
      --disable-samename \
      --disable-rpath-hack 

  make
}

package() {
  cd "${srcdir}/${_realname}-${pkgver}"
  mkdir -p "${pkgdir}/usr/bin/"
  mkdir -p "${pkgdir}/usr/share/man/man1/"
  cp xterm "${pkgdir}/usr/bin/xterm"
  cp xterm.man "${pkgdir}/usr/share/man/man1/xterm.1"

  chmod 0755 "${pkgdir}/usr/bin/xterm"
}
