# Maintainer: jose <jose1711 [at] gmail (dot) com>

pkgname=pacmanager
pkgver=3.3
pkgrel=1
pkgdesc="Perl/GTK Gnome replacement for SecureCRT/Putty"
arch=('i686' 'x86_64')
url="http://sites.google.com/site/davidtv/"
license=("GPL-3")
source=("https://sourceforge.net/projects/pacmanager/files/pac-3.0/pac-${pkgver}-all.tar.gz")
depends=("perl-gtk2-ex-simple-list" "perl-expect" "perl-io-stty" "perl-yaml" "glade-perl" "gconf-perl" "perl-crypt-cbc" "perl-crypt-blowfish" "perl-net-arp" "perl-socket6" "uuid" "perl-freezethaw" "vte" "perl-gnome2-vte")
md5sums=('b8b2fe26e9e0163901d5cd4bc2fd5886')
options=('!strip')

build() {
  return 0
}

package() {
  cd $srcdir/pac
  mkdir -p $pkgdir/usr/{share/pacmanager/{lib,res,utils},bin}
  /bin/tar cf - lib/* | ( cd ../../pkg/usr/share/pacmanager/; tar xfp - )
  install -D -m 644 res/*png $pkgdir/usr/share/pacmanager/res
  install -D -m 644 res/*jpg $pkgdir/usr/share/pacmanager/res
  install -D -m 644 res/*glade $pkgdir/usr/share/pacmanager/res
  install -D -m 755 utils/pac_from_mcm.pl $pkgdir/usr/share/pacmanager/utils/pac_from_mcm.pl
  install -D -m 755 utils/pac_from_putty.pl $pkgdir/usr/share/pacmanager/utils/pac_from_putty.pl
  install -D -m 755 pac $pkgdir/usr/share/pacmanager/pac
  install -D -m 644 README $pkgdir/usr/share/pacmanager/README
  install -D -m 644 res/pac.1 $pkgdir/usr/share/man/man1/pac.1
  install -D -m 644 res/pac.yml $pkgdir/usr/share/pacmanager/res/pac.yml
  install -D -m 644 res/pac64x64.png ${pkgdir}/usr/share/pixmaps/pac.png && \
  install -D -m 644 res/pac.desktop ${pkgdir}/usr/share/applications/pac.desktop
  install -D -m 644 res/pac_start.desktop ${pkgdir}/usr/share/applications/pac_start.desktop
  ln -s /usr/share/pacmanager/pac ${pkgdir}/usr/bin/pac
}

