# Maintainer: oslik <oslik@mail.ru>
# Contribtor: skydrome

_gitname=mksv3
pkgname="${_gitname}-git"
pkgver=20120604
pkgrel=1
pkgdesc="Advanced all in one code editor"
url="http://hlamer.github.com/mksv3"
arch=('i686')
license=('GPLv2')
depends=(python2
         python2-pyqt
         python2-qscintilla
         python2-pyparsing
         python2-pygments
         python2-markdown)
makedepends=()
provides=("$_gitname")
_gitroot="git://github.com/hlamer/${_gitname}.git"

build() {
    cd $srcdir
    msg "Connecting to GIT server..."
    if [[ -d ${_gitname} ]]
        then (cd ${_gitname} && git pull origin)
        else git clone --depth=1 ${_gitroot} ${_gitname}
    fi
    msg "GIT checkout done or server timeout"

    cd ${srcdir}/${_gitname}
    python2 setup.py build || exit 1
    python2 setup.py install --root="${pkgdir}" --optimize=1
}
