# Maintainer: Josh Klar <j@iv597.com>
pkgname=budgie-desktop
pkgver=8
pkgrel=2
pkgdesc="Simple GTK3 desktop experience"
arch=('any')
url="http://evolve-os.com/"
license=('GPLv2')
groups=()
depends=('gtk3' 'upower' 'libwnck3' 'gnome-menus' 'gnome-settings-daemon' 'libpeas' 'mutter' 'desktop-file-utils' 'libpulse' 'vala' 'libgee')
makedepends=('autoconf' 'git')
checkdepends=()
optdepends=()
provides=('budgie-desktop')
conflicts=('budgie-desktop-git')
replaces=()
backup=()
options=()
install=budgie-desktop.install
changelog=
source=("https://github.com/evolve-os/budgie-desktop/archive/v${pkgver}.tar.gz"
        'budgie-desktop.install'
		'gvc.tar.gz')
noextract=('gvc.tar.gz')
sha1sums=('939e71b637cbd09950a972ab2b2ad95938c0c9b8'
          'f2aca6a9b28e263daf8a03a3f3d08069c1dbcb6b'
		  '4a949a62b2ee3dea52697ecd73b6de9b3c7dd493')

build() {
	cd "$srcdir/$pkgname-$pkgver"
	cd gvc
	tar -zxf "$srcdir/gvc.tar.gz" .
	cd ..
	autoreconf --force --install
	./configure --prefix=/usr
	make
}

check() {
	cd "$srcdir/$pkgname-$pkgver"
	make -k check
}

package() {
	cd "$srcdir/$pkgname-$pkgver"
	make DESTDIR="$pkgdir/" install
}
