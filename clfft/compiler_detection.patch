--- a/CMakeLists.txt	2013-08-13 17:38:37.000000000 +0200
+++ b/CMakeLists.txt	2013-11-15 22:28:56.663322173 +0100
@@ -176,7 +176,7 @@
 
 	endif( )
 
-elseif( C_COMPILER_NAME STREQUAL "gcc" )
+elseif( CMAKE_COMPILER_IS_GNUCXX )
 	message( STATUS "Detected GNU fortran compiler." )
 	EXEC_PROGRAM( ${CMAKE_CXX_COMPILER} ARGS --version OUTPUT_VARIABLE vnum )
 	STRING(REGEX REPLACE ".*([0-9])\\.([0-9])\\.([0-9]).*" "\\1\\2\\3" vnum ${vnum})
@@ -198,7 +198,7 @@
         set( CMAKE_C_FLAGS "${CMAKE_C_FLAGS} --coverage")
     endif()
 else( )
-	message( FATAL_ERROR "Compiler name not detected" )
+	message( FATAL_ERROR "Compiler not supported or not detected" )
 endif( )
 
 # If UNICODE is defined, pass extra definitions into 
