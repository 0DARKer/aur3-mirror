# Alice: Installer: Arch
# Contributor: Chris Giles <Chris.G.27 (at) Gmail.com>

pkgname=alice
realname=Alice
pkgver=2.0.0
pkgrel=1
pkgdesc="An educational software that teaches students computer programming in a 3D environment"
arch=("any")
url="http://www.${pkgname}.org/"
license=("custom")
depends=("java-runtime" "mesa")
options=(!emptydirs)
source=(http://www.${pkgname}.org/downloads/authoringtool/linux/${realname}-${pkgver}.tar.gz)

build() {
	cd ${srcdir}/${realname}/Required

	# Directories
	install -d ${pkgdir}/usr/share/apps/${pkgname}/

	# Application
	cp -r * ${pkgdir}/usr/share/apps/${pkgname}/
	chown -R ${USER} ${pkgdir}/usr/share/apps/${pkgname}/
	#install -D * ${pkgdir}/usr/share/apps/${pkgname}/

	# Binaries
	install -D -m 755 ${startdir}/extra/${pkgname} ${pkgdir}/usr/bin/${pkgname}
	#cp ${startdir}/extra/${pkgname} ${pkgdir}/usr/bin/
	#ln -s /usr/share/apps/${pkgname}/run-${pkgname} ${pkgdir}/usr/bin/${pkgname}

	# Desktop
	install -D ${startdir}/extra/${pkgname}.desktop ${pkgdir}/usr/share/applications/${pkgname}.desktop
	#cp ${startdir}/extra/${pkgname}.desktop ${pkgdir}/usr/share/applications/

	# License
	install -D ${startdir}/extra/LICENSE ${pkgdir}/usr/share/licenses/${pkgname}/LICENSE
}
