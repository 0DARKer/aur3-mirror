# Maintainer: Daniel Spies <daniel dot spies at fuceekay dot com>

pkgname=fakturama
pkgver=1.6.4
_filever=1_6_4
pkgrel=2
pkgdesc="Free and Open Source Invoicing Software"
arch=('x86_64' 'i686')
url="http://fakturama.sebulli.com/"
license=('EPL')
provides=()
conflicts=()
depends=('java-environment' 'libxext' 'libxrender' 'fontconfig')
optdepends=('libreoffice-writer: office integration')
makedepends=()

if [ "$CARCH" = "x86_64" ]; then
	source=("http://fakturama.sebulli.com/download/${_filever}/Fakturama_${pkgver}_linux.gtk.x86_64.tar.gz"
	        "Fakturama.png"
			  "fakturama.desktop"
			 )
	sha256sums=('466a329fe410c92152a9ef3a5da679c2a54ae1be0e22d2415618c6926bd1f4cc'
	            '8fa4ba469a14f699e906bf5f14f2d180c253d906cc753cc085a15956c3cc3618'
					'e60a1e5c4cafc523d66daaa2ee6157b608213b3734c1c7c03ec8711606bcd7ce'
				  )
elif [ "$CARCH" = "i686" ]; then
	source=("http://fakturama.sebulli.com/download/${_filever}/Fakturama_${pkgver}_linux.gtk.x86.tar.gz"
	        "Fakturama.png"
			  "fakturama.desktop"
			 )
	sha256sums=('c371f89d8a827dfd1a328bc7ea7df4268f5979e4d1adae1da65094a07b5f885d'
	            '8fa4ba469a14f699e906bf5f14f2d180c253d906cc753cc085a15956c3cc3618'
					'e60a1e5c4cafc523d66daaa2ee6157b608213b3734c1c7c03ec8711606bcd7ce'
				  )
fi

install=fakturama.install

package() {
	install -d -m755 ${pkgdir}/usr/share/pixmaps/
	install -d -m755 ${pkgdir}/usr/share/applications/
	install -d -m755 ${pkgdir}/usr/bin/

	if [ "$CARCH" = "x86_64" ]; then
		cp -dr --preserve=mode,timestamp ${srcdir}/linux.gtk.x86_64/Fakturama ${pkgdir}/usr/share/Fakturama
	elif [ "$CARCH" = "i686" ]; then
		cp -dr --preserve=mode,timestamp ${srcdir}/linux.gtk.x86/Fakturama ${pkgdir}/usr/share/Fakturama
	fi

	install -m755 Fakturama.png ${pkgdir}/usr/share/pixmaps/
	install -m755 fakturama.desktop ${pkgdir}/usr/share/applications/
	ln -s /usr/share/Fakturama/Fakturama ${pkgdir}/usr/bin/fakturama
}

