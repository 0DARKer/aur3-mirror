pkgname=lib32-gmp
pkgver=5.0.2
pkgrel=1
pkgdesc="A free library for arbitrary precision arithmetic (32-bit)"
arch=('x86_64')
url="http://gmplib.org/"
groups=('lib32')
depends=('gmp' 'lib32-gcc-libs')
makedepends=('gcc-multilib')
license=('LGPL3')
options=(!libtool)
source=(ftp://ftp.gnu.org/gnu/gmp/gmp-${pkgver}.tar.bz2)
md5sums=('0bbaedc82fb30315b06b1588b9077cd3')

build() {
  cd "${srcdir}"/gmp-${pkgver}
  ./configure ABI='32' CC='gcc -m32' CXX='g++ -m32' \
     PKG_CONFIG_PATH='/usr/lib32/pkgconfig' \
     --prefix=/usr --enable-cxx --libdir=/usr/lib32
  make
  make check
}

package() {
  cd "${srcdir}"/gmp-${pkgver}
  make DESTDIR="${pkgdir}" install
  # install includes , they are different for 32 bit
  install -d "${pkgdir}"/usr/lib32/gmp 
  mv "${pkgdir}"/usr/include "${pkgdir}"/usr/lib32/gmp/include
  rm -rf "${pkgdir}"/usr/share
}


