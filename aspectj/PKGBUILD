# Maintainer: Sean Bartell <wingedtachikoma@gmail.com>
# Contributor: Nicolas Diaz <pablonicolas.diaz-at-gmail.com>

pkgname=aspectj
pkgver=1.6.11
pkgrel=3
pkgdesc="A seamless aspect-oriented extension to the Java programming language"
arch=('any')
url="http://www.eclipse.org/aspectj"
license=('EPL')
depends=( 'java-runtime' )
makedepends=( 'java-environment' ) 
source=( ftp://mirrors.ibiblio.org/pub/mirrors/eclipse/tools/${pkgname}/${pkgname}-${pkgver}.jar aj aj5 ajbrowser ajc ajdoc )
	
build() {
    sed -i -e 's%${basedir}/../../lib%/usr/share/java/aspectj%' ./doc/examples/build.xml
    install -dm755 "${pkgdir}/usr/share/doc/${pkgname}"
    find doc -type f -print0 | xargs -0 chmod -x
    cp -Rp ./doc/* "${pkgdir}/usr/share/doc/${pkgname}"
    install -dm755 "${pkgdir}/usr/share/java/${pkgname}"
    install -m644 ./lib/*.jar "${pkgdir}/usr/share/java/${pkgname}"
    install -dm755 "${pkgdir}/usr/bin"
    install -m755 aj aj5 ajbrowser ajc ajdoc "${pkgdir}/usr/bin"
    install -m644 ./*.html "${pkgdir}/usr/share/doc/${pkgname}"
}
md5sums=('68b7545b23dc38a03fce6e9bf01831c0'
         '88179a58a94840f96ff3a2b8bf164213'
         'fdbaf1a6c01e3a9cde8646b95aafea1d'
         '8add52d1a0f8fba864b8f68fd405c5ba'
         'd2ff0ef88ec0d4f8a3d3c0b6d06eff02'
         '99133e692f1f8bdc9f5cb5724b1e5f2f')
