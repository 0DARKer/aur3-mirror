# Contributor: Nicolas Diaz <pablonicolas.diaz-at-gmail.com>

pkgname=aspectj
pkgver=1.6.8
pkgrel=3
pkgdesc="a seamless aspect-oriented extension to the Java programming language"
arch=(i686 x86_64)
url="http://www.eclipse.org/aspectj"
license=('EPL')
depends=( 'java-runtime' )
makedepends=( 'java-environment' ) 
source=( ftp://mirrors.ibiblio.org/pub/mirrors/eclipse/tools/${pkgname}/${pkgname}-${pkgver}.jar aspectj.sh)
noextract=( ${pkgname}-${pkgver}.jar )
	
build() {
	mkdir -p ${pkgdir}/opt/${pkgname}
	java -jar ${srcdir}/${pkgname}-${pkgver}.jar -to ${pkgdir}/opt/${pkgname}	
	# hack for bash scripts ... 
	sed -i 's%${pkgdir}/opt/${pkgname}%/opt/${pkgname}%g' ${pkgdir}/opt/${pkgname}/bin/*
	mkdir -p ${pkgdir}/etc/profile.d
	install -D -m755 ${srcdir}/aspectj.sh ${pkgdir}/etc/profile.d/
}
md5sums=('d162e4f9d11fc55ae2d4a79712a1d2a5'
         '9aba9ce88bd722c0a47e99bca91379c6')
