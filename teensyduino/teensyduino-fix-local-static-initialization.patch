--- a/hardware/teensy/cores/teensy3/mk20dx128.c	2014-02-16 11:33:55.000000000 +0100
+++ b/hardware/teensy/cores/teensy3/mk20dx128.c	2014-04-12 21:15:35.045633427 +0200
@@ -538,14 +538,15 @@
 }
 
 __attribute__((weak)) 
-int __cxa_guard_acquire (int *g) 
+int __cxa_guard_acquire (char *g) 
 {
-	return 1;
+	return !(*g);
 }
 
 __attribute__((weak)) 
-void __cxa_guard_release(int *g)
+void __cxa_guard_release(char *g)
 {
+	*g = 1;
 }
 
 int nvic_execution_priority(void)
