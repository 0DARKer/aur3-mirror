# Maintainer: Stefan Husmann <stefan-husmann@t-online.de>
# Contributor: lang2 <wenzhi.liang_at_gmail.com>
# Contributor: Lex Black <autumn-wind at web dot de>

pkgname=vixn
pkgver=0.7.15
pkgrel=1
pkgdesc="vi implemented in python"
depends=('python2' 'pygtk' 'pygtksourceview2' 'python2-xdg')
optdepends=('python2-dbus')
arch=('any')
license=('GPL')
url="http://www.vixn.org"
source=(http://download.tuxfamily.org/$pkgname/$pkgname-$pkgver.tar.bz2
	'vixn-python2.patch')
md5sums=('90c6a218da55fd2a5331c8b8f5597ab9'
         'cb1ec806c09b519325a03b4503a09baf')

package() {
  install -d $pkgdir/usr/doc
  cd $srcdir/$pkgname-$pkgver
  patch -p1 < "$srcdir/vixn-python2.patch"

  (cd docs/html && rm menus.txt && ln -s ../../config/menus menus.txt)
  ./install.sh $pkgdir/usr
  cd $pkgdir/usr/bin
  rm vixn vixgrep
  ln -s ../lib/vixn/vixn.py $pkgname
  ln -s ../lib/vixn/vixgrep .
}
