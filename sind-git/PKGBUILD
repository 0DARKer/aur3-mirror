# Contributor: Tyler H. <htyler@pdx.edu>
pkgname=sind-git
pkgver=20130327
pkgrel=1
pkgdesc="Simple textbased notification daemon"
arch=('i686' 'x86_64')
url="https://github.com/htylo/simplenotifydaemon"
license=('MIT')
depends=( dbus )
makedepends=( git gcc )

_gitroot="git@github.com:htylo/simplenotifydaemon.git"
_gitname="simplenotifydaemon"
_gitbranch="master"

build() {
  cd ${srcdir}
  echo "Fetching source from GIT"
  if ! [ -d "$_gitname" ] ; then
    # if git dir does not exist yet
    # then clone git repo
    git clone "$_gitroot" || return 1
    cd "$_gitname"
  else
    # else pull sources
    cd "$_gitname" && git pull origin || return 1
  fi
  # compile
  make PREFIX=/usr DESTDIR="$pkgdir" || return 1
}

package() {
  cd "${srcdir}/${_gitname}"
  pwd
  make PREFIX=/usr DESTDIR="$pkgdir" install || return 1
}
