# Maintainer: Benjamin Robin <benjarobin>

pkgname=eclipse-subversive-svn-connector
pkgver=2.3.0.I20120413_1700
pkgrel=1
pkgdesc="Subversive SVN Connectors"
arch=('i686' 'x86_64')
url="http://www.polarion.com/products/svn/subversive.php"
license=('EPL')
depends=('eclipse')
source=("$pkgname-$pkgver-feature.jar::http://community.polarion.com/projects/subversive/download/eclipse/2.0/update-site/features/org.polarion.eclipse.team.svn.connector_${pkgver//_/-}.jar" \
"$pkgname-$pkgver-plugin.jar::http://community.polarion.com/projects/subversive/download/eclipse/2.0/update-site/plugins/org.polarion.eclipse.team.svn.connector_${pkgver//_/-}.jar")
noextract=($pkgname-$pkgver-{feature,plugin}.jar)

md5sums=('9202adc0422df416099a01c993cac6b6'
         '53459dcf35fa1a7b402c0ab7b46bafd4')

build() {
	_dest="$pkgdir/usr/share/eclipse/dropins/${pkgname/eclipse-}/eclipse"

	# Feature(s)
	install -d -m755 $_dest/features/org.polarion.eclipse.team.svn.connector_${pkgver//_/-}
	cd $_dest/features/org.polarion.eclipse.team.svn.connector_${pkgver//_/-}
	jar xf $srcdir/$pkgname-$pkgver-feature.jar || return 1
	# Plugin(s)
	install -D -m644 $srcdir/$pkgname-$pkgver-plugin.jar \
	$_dest/plugins/org.polarion.eclipse.team.svn.connector_${pkgver//_/-}.jar || return 1

}
