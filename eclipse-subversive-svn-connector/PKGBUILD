# Maintainer: Jonathan Wiersma <archaur at jonw dot org>
# Contributor: Jonathan Wiersma <archaur at jonw dot org>
pkgname=eclipse-subversive-svn-connector
pkgver=2.2.2.I20110602_1700
pkgrel=1
pkgdesc="Subversive SVN Connectors"
arch=('any')
url="http://www.polarion.com/products/svn/subversive.php"
license=('EPL')
depends=('eclipse')
_updateurl="http://community.polarion.com/projects/subversive/download/eclipse/2.0/update-site"
_plugname="org.polarion.eclipse.team.svn.connector"
source=(
	"feature.jar::$_updateurl/features/${_plugname}_${pkgver/_/-}.jar"
	"plugin.jar::$_updateurl/plugins/${_plugname}.sources_${pkgver/_/-}.jar"
)
noextract=('feature.jar' 'plugin.jar')

package() {
  _dest="$pkgdir/usr/share/eclipse/dropins/${pkgname/eclipse-}/eclipse"
  # Feature(s)
  install -d -m755 $_dest/features/org.polarion.eclipse.team.svn.connector_${pkgver//_/-}
  cd $_dest/features/${_plugname}_${pkgver//_/-}
  jar xf $srcdir/feature.jar
  # Plugin(s)
  install -D -m644 $srcdir/plugin.jar \
    $_dest/plugins/${_plugname}_${pkgver//_/-}.jar
}

md5sums=('41f1eb07559bcb3049dbc5b9f13efb57'
         '43adcc95386c986c5e8c1ad0b76a9dc6')
