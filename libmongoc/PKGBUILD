#Maintainer: Manuel Schoenlaub <manuel.schoenlaub@gmail.com>

pkgname='libmongoc'
_pkgname='mongo-c-driver'
pkgver='0.92.0'
pkgrel='1'

pkgdesc='The official MongoDB client library written in C.'
arch=('i686' 'x86_64')
url='http://www.mongodb.org/display/DOCS/C+Language+Center'
license=('Apache')
depends=(
		'libbson>=0.6.4'
	)
makedepends=(perl)
optdepends=(
		'xmlto' 
		'asciidoc' 
		'python' 
		'libsasl>=2.1.6'
		'openssl'
	)
source=("https://github.com/mongodb/$_pkgname/archive/$pkgver.tar.gz")

md5sums=('fbdcaf8c9a0b1c734b9a474985d12804')

prepare() {
          cd "$srcdir/$_pkgname-$pkgver"
	  ./autogen.sh
}
build() {
	  cd "$srcdir/$_pkgname-$pkgver"
	  ./configure --prefix='/usr' CFLAGS='-pthread' LDFLAGS='-lpthread' --with-documentation
	  make
}

package() {
	cd "$srcdir/$_pkgname-$pkgver"
	make DESTDIR="$pkgdir/" install
}

