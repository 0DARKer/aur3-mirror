# Maintainer: adorableGNU <adorablegnu@hushmail.com>
pkgname=pybristol
pkgver=1.0
pkgrel=1
pkgdesc="GUI for bristol, based on python3 and tkinter"
arch=('any')
url="https://github.com/adorableGNU/pyBristol"
depends=('python' 'bristol')
makedepends=('git')
optdepends=('jack: A low-latency audio server')
license=('GPL3')
_gitroot=('https://github.com/adorableGNU/pyBristol.git')
_gitname=('pyBristol')
md5sums=('SKIP')

prepare() {
    cd $srcdir
    msg "Connecting to the GIT server...."
    git clone ${_gitroot}
    msg "GIT checkout done."
}

package() {
    mkdir -p $pkgdir/opt/${_gitname}
    cp -R $srcdir/${_gitname}/gif $pkgdir/opt/${_gitname}/
    cp -R $srcdir/${_gitname}/doc $pkgdir/opt/${_gitname}/
    cp -R $srcdir/${_gitname}/icon $pkgdir/opt/${_gitname}/
    cp $srcdir/${_gitname}/default.conf $pkgdir/opt/${_gitname}/
    install -D -m755 $srcdir/${_gitname}/${_gitname}.py $pkgdir/opt/${_gitname}/${_gitname}.py
    install -D -m755 $srcdir/${_gitname}/${_gitname} $pkgdir/usr/bin/${_gitname}
    install -D -m644 $srcdir/${_gitname}/${_gitname}.desktop $pkgdir/usr/share/applications/${_gitname}.desktop
    install -D -m644 $srcdir/${_gitname}/icon/${_gitname}.svg $pkgdir/usr/share/pixmaps/${_gitname}.svg
}
