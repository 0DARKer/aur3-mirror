# Maintainer: Lucas Hermann Negri <lucashnegri@gmail.com>

pkgname=qtfuzzylite
pkgver=3.1
pkgrel=1
pkgdesc="A Fuzzy Logic Control Library and Application in C++ (Qt4 editor)"
arch=('i686' 'x86_64')
url="http://code.google.com/p/fuzzylite/" 
depends=('qt4' 'fuzzylite')
makedepends=('cmake' 'gcc')
license=('GPL3')
source=("http://fuzzylite.googlecode.com/files/fuzzylite-$pkgver-sources.zip"
        "qtfuzzylite-headers.diff")
md5sums=("d027429d914c18eb6feb86e9ded8092b"
         "1931bb93f2dcec8d6d6fa1cb926b042b")

prepare() {
  cd "$srcdir/fuzzylite-$pkgver"
  patch -uNp1 -i ../qtfuzzylite-headers.diff || return 1
}

build() { 
  cd "$srcdir/fuzzylite-$pkgver/$pkgname"
  mkdir -p build
  cd build
  cmake -DCMAKE_BUILD_TYPE=release -DCMAKE_INSTALL_PREFIX=/usr ..
  make
}

package() {
  cd "$srcdir/fuzzylite-$pkgver/$pkgname/build"
  make install DESTDIR=${pkgdir}
}
