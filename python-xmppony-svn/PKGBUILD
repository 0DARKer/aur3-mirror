# Maintainer: Nick Campbell <s0ma AT theangryfist DOT net>
# Contributor: Vincent Berset <msieurhappy@gmail.com>

pkgname=python-xmppony-svn
_pkgname=xmppony-svn
pkgver=20090806
pkgrel=1
pkgdesc="XMPP library written in Python"
arch=('i686' 'x86_64')
url="http://xmppony.last-exile.org"
license=('GPL3')
depends=('python')
optdepends=('python-dnspython: SRV records support' 'pydns: SRV records support')
makedepends=('setuptools' 'subversion')
source=()
md5sums=()

_svntrunk=http://svn.last-exile.org/xmppony/trunk/
_svnmod=xmppony


build() {
  cd ${srcdir}

  if [ -d $_svnmod/.svn ]; then
    (cd $_svnmod && svn update)
  else
    svn co $_svntrunk --config-dir ./ $_svnmod
  fi

  cp -r $_svnmod $_svnmod-build
  cd $_svnmod-build

  python setup.py install --prefix=/usr --root=$startdir/pkg || return 1
  rm -rf ${srcdir}/$_svnmod-build

}

