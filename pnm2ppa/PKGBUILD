# Contributor: Peter Baldwin <bald_pete@hotmail.com>
# Maintainer: Matěj Týč <matej.tyc@gmail.com>

arch=('i686 x64')
license=('GPL')
pkgname=pnm2ppa
pkgver=1.12
pkgrel=1
pkgdesc="This is a Ghostscript print filter which allows owners of HP DeskJet 710C, 712C, 720C, 722C, 820Cse, 820Cxi, 1000Cse, or 1000Cxi printers to print PostScript Level 2"
depends=(ghostscript cups glibc foomatic-filters)
url="http://pnm2ppa.sourceforge.net/"
source=(http://downloads.sourceforge.net/pnm2ppa/$pkgname-$pkgver.tar.gz \
)

md5sums=(effd8c42bbe7c970e70fa7d9d991275b \
)

build() {
cd $startdir/src/$pkgname-$pkgver
make BINDIR="/usr/bin" CONFDIR="/etc" MANDIR="/usr/man/man1" || return 1
make install BINDIR="$startdir/pkg/usr/bin" CONFDIR="$startdir/pkg/etc" MANDIR="$startdir/pkg/usr/man/man1"

mkdir -p $startdir/pkg/usr/share/cups/model/
cd $startdir/
cp HP-DeskJet_{1000C,720C,710C,722C,712C,820C}-pnm2ppa.ppd $startdir/pkg/usr/share/cups/model/
}
