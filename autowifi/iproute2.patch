diff --git a/etc/rc.d/autowifi b/etc/rc.d/autowifi
index 7419ae7..e966c3a 100755
--- a/etc/rc.d/autowifi
+++ b/etc/rc.d/autowifi
@@ -17,6 +17,12 @@ WPA_CLI="/usr/sbin/wpa_cli"
 AUTOWIFI="/usr/sbin/wpa_actiond"
 PIDFILE="/var/run/autowifi-${INTERFACE}.pid"
 
+ifdown() {
+  hash ip &> /dev/null && ip link set $1 down && return
+  hash ifconfig &> /dev/null && ifconfig $1 down && return
+  echo "could not bring interface $1 down" >&2
+}
+
 case "$1" in
   start)
     stat_busy "Starting autowifi"
@@ -41,7 +47,7 @@ case "$1" in
       kill $(cat ${PIDFILE})
       rm -f ${PIDFILE}
     fi
-    ifconfig ${INTERFACE} down
+    ifdown ${INTERFACE}
     rm_daemon autowifi
     stat_done
     ;;
