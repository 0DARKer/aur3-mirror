# Maintainer: Andrew Zuban <and.zuban@gmail.com>
pkgname=novacoin
pkgver=0.4.4.5
pkgrel=2
pkgdesc="NovaCoin - a hybrid scrypt PoW + PoS based cryptocurrency."
arch=('i686' 'x86_64')
url="http://novacoin.org"
depends=('qt4>=4.6' 'boost-libs>=1.46' 'miniupnpc>=1.6')
makedepends=('git' 'boost' 'gcc' 'make' 'automoc4')
provides=('novacoin')
conflicts=('novacoin')
license=('MIT')
source=("http://github.com/CryptoManiac/novacoin/archive/v${pkgver}.tar.gz"
	"${pkgname}.desktop")

build() {
    cd "${srcdir}/${pkgname}-${pkgver}"

    qmake-qt4
    make
    cd src
    make ${MAKEFLAGS} -f makefile.unix novacoind
}

package() {
    mkdir -p ${pkgdir}/usr/bin
    install -D -m755 "${srcdir}/${pkgname}-${pkgver}/novacoin-qt" ${pkgdir}/usr/bin
    install -D -m755 "${srcdir}/${pkgname}-${pkgver}/src/novacoind" "${pkgdir}/usr/bin"
    install -D -m644 "${srcdir}/${pkgname}-${pkgver}/COPYING" "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"
    install -D -m644 "${srcdir}/${pkgname}-${pkgver}/src/qt/res/icons/${pkgname}-128.png" \
"${pkgdir}/usr/share/pixmaps/${pkgname}128.png"
    mkdir -p ${pkgdir}/usr/share/applications
    install -D -m644 $srcdir/${pkgname}.desktop $pkgdir/usr/share/applications/ 
}
md5sums=('3d3b18eca2d2a998c0260c50fff02041'
         'afc66f26d311a3ce3413bb2538d26c72')
