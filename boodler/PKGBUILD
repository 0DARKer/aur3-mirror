# Maintainer: Sarkasper <echo a2FzcGVyLm1lbnRlbkBnbXguY29tCg== | base64 -d>
# Contributor: Jeremy Sands <cto@jeremysands.com>

pkgname=boodler
pkgver=2.0.4
pkgrel=3
pkgdesc="Boodler is a dynamic soundscape creator, capable of producing things such as endless thunderstorm sounds."
arch=('i686' 'x86_64')
url="http://www.boodler.org"
license=('LGPL')
depends=('python2' 'python2-pyqt')
install=${pkgname}.install
source=(http://boodler.org/dl/Boodler-$pkgver.tar.gz
	https://github.com/Sarkasper/boodle-ui-qt/raw/master/boodle-ui-qt.py)    
md5sums=('79c2c20733416998659ab2e2d310d88a'
         'a6407e388f0f2a14fde413ed55360353')

build() {
  cd "$startdir"/src/Boodler-$pkgver
  python2 setup.py build || return 1

  python2 setup.py install --prefix "$startdir"/pkg || return 1

  # Boodler puts stuff in /bin ... frowny face
  mkdir -p "$startdir"/pkg/usr/bin
  mv "$startdir"/pkg/bin/* "$startdir"/pkg/usr/bin/

  # Add the GUI
  cd "$startdir"/src/
  cp boodle-ui-qt.py "$startdir"/pkg/usr/bin/boodle-ui-qt
  chmod 755 "$startdir"/pkg/usr/bin/boodle-ui-qt
}
