# Maintainer: Hakan Erduman <hakan at erduman dot de>
pkgname=xfce4-hamster-plugin
pkgver=1.3
pkgrel=1
pkgdesc="A recreation of the gnome-shell hamster extension as a xfce4 panel plugin."
url="https://github.com/projecthamster/${pkgname}"
arch=('x86_64' 'i686')
license=('GPL')
depends=('xfce4-panel' 'libxfcegui4' 'hamster-time-tracker')
makedepends=('pkgconfig' 'intltool')
source=("https://github.com/projecthamster/${pkgname}/archive/v${pkgver}.tar.gz")
sha256sums=('7c13790475c6add06c5f81000fd8d428044bc014001b4df2a06d4e02a93b8aa9')

build() {
  cd "${srcdir}/${pkgname}-${pkgver}"
  ./autogen.sh
  ./configure --prefix=/usr --enable-silent-rules -silent --with-icon_name=hamster-time-tracker
}

package() {
  cd "${srcdir}/${pkgname}-${pkgver}"
  make || return 1
  make -C panel-plugin DESTDIR="${pkgdir}" install-exec install-pluginLTLIBRARIES || return 1
  make -C panel-plugin prefix="${pkgdir}/usr" install-desktopDATA
  make -C po DESTDIR="${pkgdir}" install
}

# vim:set ts=2 sw=2 et:
