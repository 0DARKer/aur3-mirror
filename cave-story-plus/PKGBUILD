# Maintainer: Gerardo Marset <gammer1994@gmail.com>

pkgname=cave-story-plus
pkgver=3
pkgrel=1
pkgdesc="The extended version of Cave Story, a side-scrolling platformer game"
arch=('i686' 'x86_64')
url="http://www.nicalis.com/"
license=('custom')
depends=('sdl' 'mesa')
source=(CaveStoryPlus-linux.tar.gz cave-story-plus)
md5sums=('946a5a7315933728f9e4d56e8509bfc9'
         '181b6397136ebee9c0ac62d59318b5dd')
options=(!strip)

build() {
  cd CaveStory+

  install -dm755 $pkgdir/opt/$pkgname
  cp -r data $pkgdir/opt/$pkgname
  if [ "$CARCH" == "i686" ] ; then
    install -Dm755 CaveStory+ $pkgdir/opt/$pkgname
  else
    install -Dm755 CaveStory+_64 $pkgdir/opt/$pkgname/CaveStory+
  fi

  install -Dm755 ${srcdir}/cave-story-plus "${pkgdir}/usr/bin/cave-story-plus"
}

# vim: set sts=2 sw=2 et:
