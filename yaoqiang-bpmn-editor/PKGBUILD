# Maintainer: Piotr Mro≈ºek <dnadesigned[at]gmail[dot]com>
# Contributor: Johannes Dewender  arch at JonnyJD dot net
# Contributor: Michael Pusterhofer <pusterhofer@student.tugraz.at>
# Contributor: Javier Fuentes <0xffaa.r@gmail.com>
pkgname="yaoqiang-bpmn-editor"
_pkgver_major=4.0
_pkgver_minor=16
pkgver="${_pkgver_major}.${_pkgver_minor}"
pkgrel=1
pkgdesc="An open source graphical editor for business process diagrams, compliant with OMG specifications (BPMN 2.0)."
arch=(any)
url="http://bpmn.sourceforge.net/"
_curver_license="GPLv3"
license=('GPL3'
    'custom: "free for non-commercial use"')
depends=(java-environment)
source=('yaoqiang-bpmn-editor'
    'yaoqiang-bpmn-editor.desktop'
    'yaoqiang-bpmn-editor.png'
    "http://downloads.sourceforge.net/project/bpmn/${_pkgver_major}-${_curver_license}/${pkgname}-${pkgver}.zip")
md5sums=('b6e5b597352b5415231a3eff7a4cb91b'
    '97446f3ef10f5fa8c16e72171a3302a2'
    '6672924faa8d9bd3fee21a9294dd1a21'
    '96d36c69b80d2ad273c7eb4371406fe5')

build() {
    # prepare the application files
    mkdir -p ${srcdir}/opt/${pkgname}
    cp -r ${srcdir}/yaoqiang-${pkgver}/* ${srcdir}/opt/${pkgname}
    cp ${srcdir}/${pkgname}.png ${srcdir}/opt/${pkgname}
    cp ${srcdir}/${pkgname} ${srcdir}/opt/${pkgname}
}

package() {
    # add the application files
    cp -r ${srcdir}/opt ${pkgdir}/opt
    # prepare and add the .desktop file
    mkdir -p ${pkgdir}/usr/share/applications
    cp ${srcdir}/${pkgname}.desktop ${pkgdir}/usr/share/applications/${pkgname}.desktop
}
