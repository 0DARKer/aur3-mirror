# Maintainer: Fergus Symon <fergofrog at fergofrog dot com>
pkgname=razercfg
pkgver=0.06
pkgrel=1
pkgdesc="A Razer device configuration tool."
arch=('any')
url="http://bu3sch.de/joomla/index.php/razer-nextgen-config-tool"
license=('GPL')
depends=('python' 'libusb')
makedepends=('cmake')
optdepends=('pyqt: for the graphical qrazercfg tool')
install=('razercfg.install')
source=(http://bu3sch.de/razercfg/$pkgname-$pkgver.tar.bz2
        razercfg.desktop
        razerd)
md5sums=('972f73909c277c87baf8edca92d860fe'
         '1eab70090396d3af15e55228af71c968'
         '73574642df956f0c6848cb1096d45897')
         
build() {
  cd "$srcdir/$pkgname-$pkgver"

  cmake -DCMAKE_INSTALL_PREFIX=/usr . || return 1
  make || return 1
  make DESTDIR="$pkgdir" install || return 1

  install -m755 -d $pkgdir/etc/rc.d || return 1
  install -m755 $startdir/razerd $pkgdir/etc/rc.d || return 1

  install -m755 -d $startdir/pkg/usr/share/applications || return 1
  install -m644 $startdir/razercfg.desktop $startdir/pkg/usr/share/applications || return 1
}
