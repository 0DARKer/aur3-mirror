# Contributor: Michal Minar <mr.mini@centrum.cz>

pkgname=lua-oocairo
pkgver=1.2
pkgrel=2
pkgdesc="Module providing access to the Cairo from within Lua."
arch=(i686 x86_64)
url="http://luaforge.net/projects/oocairo/"
license=('MIT')
depends=("cairo>=1.8.0" "lua>=5.1")
makedepends=("libtool" "pkgconfig")
source=("http://luaforge.net/frs/download.php/3884/${pkgname}-${pkgver}.tar.gz" "Makefile.diff")
md5sums=(db932466e55228332875e24aeefbfb01
         6c0c7c1e9e58c74c88e34d5c6c2a8d9b)

build() {
  cd "$srcdir/$pkgname-$pkgver"

  mv Makefile.osx Makefile
  export PKG_CONFIG_PATH=$PKG_CONFIG_PATH:/usr/lib/pkgconfig
  patch Makefile $startdir/Makefile.diff
  make || return 1
  make PREFIX="$pkgdir/usr" install
  mkdir -p "$pkgdir/usr/share/licenses/lua-oocairo"
  cp COPYRIGHT "$pkgdir/usr/share/licenses/lua-oocairo"
}
# vim:syntax=sh
