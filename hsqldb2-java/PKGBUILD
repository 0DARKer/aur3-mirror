# Maintainer : Thomas Wei√üschuh <thomas_weissschuh||lavabit.com>
# Contributor: Andreas Radke <andyrtr@archlinux.org>
# Contributor: Andrew Wright <andreww@photism.org>

pkgname=hsqldb2-java
pkgver=2.2.4
pkgrel=3
pkgdesc="HSQLDB Java libraries, Version 2"
arch=('any')
license=('custom')
depends=('java-environment')
makedepends=('java-runtime' 'unzip' 'apache-ant')
conflicts=('hsqldb-java')
source=(http://downloads.sourceforge.net/project/hsqldb/hsqldb/hsqldb_2_2/hsqldb-${pkgver}.zip)
url="http://hsqldb.org/"
md5sums=('76d5e31e175512f35031c9a18e2cd67a')


build() {
  [ -z "${JAVA_HOME}" ] && . /etc/profile.d/openjdk6.sh
  [ -z "${ANT_HOME}" ] && . /etc/profile.d/apache-ant.sh

  cd ${srcdir}/hsqldb-${pkgver}/hsqldb/build

  ant jar || return 1

}

package() {

  mkdir -p ${pkgdir}/usr/share/java
  install -m644 ${srcdir}/hsqldb-${pkgver}/hsqldb/lib/hsqldb.jar ${pkgdir}/usr/share/java/

  mkdir -p ${pkgdir}/usr/share/licenses/${pkgname}
  install -m644 ${srcdir}/hsqldb-${pkgver}/hsqldb/doc/hsqldb_lic.txt ${pkgdir}/usr/share/licenses/${pkgname}/
}
