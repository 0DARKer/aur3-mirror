# Maintainer: Wijnand Modderman-Lenstra <maze@maze.io>
pkgname=trustedqsl
pkgver=2.0.1
pkgrel=1
epoch=
pkgdesc="TrustedQSL - Logbook of the World"
arch=('x86_64' 'i686')
url="http://lotw.arrl.org/"
license=('ARRL')
groups=()
replaces=(tsql)
depends=(openssl expat zlib wxgtk curl)
makedepends=(openssl expat zlib wxgtk curl cmake)
source=(http://www.arrl.org/files/file/LoTW%20Instructions/tqsl-${pkgver}.tgz)
md5sums=('30ace0f66c979ba9e621103520c350a4')
sha1sums=('3930581d9a20488bdf5226d4c8ad33bcb8cf88e4')

build() {
	cd "$srcdir/tqsl-$pkgver"
	mkdir -p build
	cd build
	cmake \
		-DCMAKE_INSTALL_PREFIX=/usr \
		-DwxWidgets_CONFIG_EXECUTABLE='/usr/bin/wx-config-2.8' \
		-DwxWidgets_wxrc_EXECUTABLE='/usr/bin/wxrc-2.8' \
		../
	make
}

package() {
	cd "$srcdir/tqsl-$pkgver/build"
	make DESTDIR="$pkgdir/" install
}
