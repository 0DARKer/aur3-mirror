# Maintainer: Bolivar Stephen <bolivar.stephen@gmail.com>

pkgname=twmn
pkgver=20110819
pkgrel=1
pkgdesc="A notification system for tiling window managers"
arch=(any)
url="https://github.com/sboli/Twmn"
license=('LGPL3')
groups=
provides=('twmnc' 'twmnd')
depends=('qt>=4.6' 'boost-libs>=1.46' 'boost>=1.46' 'asio>=1.4')
makedepends=('git')
replaces=('twmn')
install=
source=()
_gitroot="git://github.com/sboli/Twmn.git"
_gitname="Twmn"

build() {
    msg "Downloading source code from git repository..."
    if [[ -d $_gitname ]] ; then
	cd $_gitname
	git pull
	msg "The local copy has been updated."
    else
	git clone $_gitroot || return 1
	msg "Source code successfully downloaded."
	cd $_gitname
    fi
    qmake || return 1
    make || return 1
    mkdir -p $pkgdir/usr/bin/
    cp bin/twmn* $pkgdir/usr/bin/
}
