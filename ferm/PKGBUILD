# Maintainer: Sebastien Luttringer <seblu+arch@seblu.net>
# Contributor: Marti Raudsepp <marti@juffo.org>
# Contributor: Manuel Mazzuola <origin.of@gmail.com>

pkgname=ferm
pkgver=2.0.9
pkgrel=2
pkgdesc="Tool to maintain complex firewalls"
arch=('any')
url="http://ferm.foo-projects.org/"
license=('GPL2')
depends=('iptables' 'perl')
optdepends=('ebtables' 'arptables')
source=(
  http://ferm.foo-projects.org/download/2.0/$pkgname-$pkgver.tar.gz
  rc.d
  conf.d
  ferm.conf
   ) 
md5sums=('2af1fd6942268308c58f99b0cd81f68a'
         'b3a555430868cbd420ce2263eb658d9c'
         'beac7f5a6e44094637954161b2786dd4'
         '314ebaf66abbe754850449359620e2d8')

package() {
  # software setup
  cd "${srcdir}/$pkgname-$pkgver"
  make PREFIX="${pkgdir}/usr" install

  # setup rc.d script
  install -D -m 755 "${startdir}/rc.d" "${pkgdir}/etc/rc.d/ferm"
  
  # setup conf.d file
  install -D -m 644 "${startdir}/conf.d" "${pkgdir}/etc/conf.d/ferm"

  # setup default config
  install -D -m 644 "${startdir}/ferm.conf" "${pkgdir}/etc/ferm.conf"
}

# vim:set ts=2 sw=2 ft=sh et:
