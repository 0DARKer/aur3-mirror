# Maintainer: hl037 <hl037 dot prog at gmail dot com>
# Contributor: d1t2 <dieterplex at gmail dot com>

pkgname='eclipse-testng'
pkgver='6.8.0'
pkgdate='20121120_1820'
pkgrel='1'
pkgdesc='A testing framework inspired from JUnit and NUnit'
arch=('any')
url='http://testng.org/'
license=('APACHE')
depends=('eclipse>=3.3')
#_url="https://github.com/cbeust/testng-eclipse/raw/master/testng-eclipse-update-site"
_url="http://beust.com/eclipse-old/eclipse-$pkgver.$pkgdate"
_path="org.testng.eclipse_$pkgver.$pkgdate"
source=(
    artifacts.jar::"$_url/artifacts.jar"
    content.jar::"$_url/content.jar"
    features.jar::"$_url/features/$_path.jar"
    plugins.jar::"$_url/plugins/$_path.jar")
#noextract=(${source[@]##*/})
noextract=(artifacts.jar content.jar features.jar plugins.jar)

package() {
  _dest=$pkgdir/usr/share/eclipse/dropins/${pkgname/eclipse-}/eclipse

  install -dm755 $_dest || return 1
  install -Dm644 artifacts.jar $_dest || return 1
  install -Dm644 content.jar $_dest || return 1

  for jar in 'features' 'plugins'; do
      install -Dm644 $srcdir/$jar.jar $_dest/$jar/$_path.jar || return 1
  done
}
md5sums=('16c535ba828010b4886c2f30a45a0e5b'
         '180c4870d1cddc72f47c3277dedfc26a'
         '22efbff0f21b8b8ec19bbecc7947d8a9'
         '665cf9d5761d04fe2d0b8ce3bc813fa0')
