# Maintainer: flan_suse <windows2linux AT zoho DOT com>
pkgname=xfce-theme-greybird
_pkgname=Greybird
pkgver=0.2.1
pkgrel=5
pkgdesc="A low saturation Xfce theme, introduced in the release of Xubuntu 11.04"
arch=('any')
url="http://shimmerproject.org/projects/greybird/"
license=('GPL3')
groups=('xfce-themes-shimmer-collection')
depends=('gtk-engine-murrine')
makedepends=('git')
optdepends=('elementary-icons: matching icon set')

package() {
    
    # Clone git repository
    git clone "git://github.com/shimmerproject/$_pkgname.git"

    # Change into source directory
    cd "$_pkgname"

    # Install the wallpaper first
    # When Shimmer Project marks a new git-tag release,
    # this can be done at the end of the package() process
    install -d -m755 "${pkgdir}/usr/share/backgrounds/"
    cp -f "backdrops/greybird-wall-1920x1200.png" "${pkgdir}/usr/share/backgrounds/$_pkgname.png"

    # Checkout current git-tag release
    git checkout "v$pkgver"

    # Remove excess files and return to parent folder
    rm -f ".gitignore"
    rm -rf ".git"
    cd ..

    # Create installation directories
    install -d -m755 "${pkgdir}/usr/share/themes/"
    install -d -m755 "${pkgdir}/usr/share/xfce4/backdrops/"

    # Install the theme
    cp -rf "$_pkgname" "${pkgdir}/usr/share/themes/"

    # Make a symbolic link inside of the Xfce backdrops directory, for use with Desktop Settings
    cd "${pkgdir}/usr/share/xfce4/backdrops/"
    ln -s "../../backgrounds/$_pkgname.png" "$_pkgname.png"

}


