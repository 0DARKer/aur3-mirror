# Maintainer: Bjoern Franke <bjo at nord-west.org>
# Contributor: flan_suse
#
# This suite contains the following:
#        * xfwm4 theme
#        * xfwm4 compact theme
#        * metacity theme
#        * emerald theme
#        * gtk2 theme
#        * gtk3 theme
#        * unity theme
#        * xfce4-notify theme
#        * lightdm theme
#        * wallpaper (found in the shimmer-wallpapers package; optdepends)

pkgname=xfce-theme-greybird
_pkgname=Greybird
pkgver=1.4
pkgrel=4
pkgdesc="A grey and blue Xfce theme, used by default in Xubuntu 12.04"
arch=(any)
url=http://shimmerproject.org/projects/greybird/
license=(CCPL:by-sa-3.0 GPL)
groups=(xfce-themes-shimmer-collection)
depends=(gtk-engine-murrine)
optdepends=('elementary-xfce-icons: matching icon set; use the dark icon theme'
    'gtk3: required for CSS/GTK3 theme'
    'lightdm-gtk-greeter: required for the LightDM GTK theme'
    'lightdm-unity-greeter: required for the LightDM Unity theme'
    'shimmer-wallpapers: contains the Greybird wallpaper, among others'
    'lib32-gtk-engine-murrine: required for multilib')
conflicts=($pkgname-git)
source=($pkgname-$pkgver.tar.gz::https://github.com/shimmerproject/$_pkgname/archive/v$pkgver.tar.gz
    'gtk-3.14-fix.patch'
    'fix-checkboxes-and-radiosin-gtk-3.14.patch')
sha512sums=('8b414373f01655673e29c7454f88ffffade10b8a0883e777b1b5f41706042253d04ff5f886bb70a0e01a869f4ee5cb2dbe50dde4b48df5e4956d6446aaf16621'
            'eb914dc4e3b3e1f8b15caf5d2738018ad9a302c61331669b52ed0775279ae8daecae4b18d24d13c23dcaff85ba1cea7228a58748978bd17ba890cf3637dc7af8'
            '73114843d31f116bd80bf602e270fcedbec8192da39f588e3387feff3ce0f50d9cc59b835325e937df5e0bf3d50c101a0f113ed6a7640d854f82e96fda4f2847')


prepare() {
	patch -p1 -d $srcdir/Greybird-1.4 -i $srcdir/gtk-3.14-fix.patch
	patch -p1 -d $srcdir/Greybird-1.4 -i $srcdir/fix-checkboxes-and-radiosin-gtk-3.14.patch
}



package() {
    local _themedir="$pkgdir/usr/share/themes"
    install -d "$_themedir/$_pkgname "{Classic,Compact}

    cp -rf $_pkgname-$pkgver/ "$_themedir"/$_pkgname/
    rm "$_themedir"/$_pkgname/.gitignore
    ln -s /usr/share/themes/$_pkgname/xfwm4_compact "$_themedir/$_pkgname Compact/xfwm4"
}
