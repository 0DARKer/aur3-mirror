# Contributor: Adria Arrufat <swiftscythe at gmail _dot_com>

pkgname=cronopete
pkgver=1.0.0
pkgrel=1
pkgdesc="An Apple's Time Machine clone"
arch=('i686' 'x86_64')
url="http://www.rastersoft.com/programas/cronopete.html"
license=('GPL2')
depends=('gtk2' 'vala' 'gsl' 'libgee')

source=("http://www.rastersoft.com/descargas/${pkgname}_${pkgver}.tar.bz2")
md5sums=('ca412b3ef1fdaa3026f4ebd9d591f6d9')

build() {
  cd ${srcdir}/${pkgname}
  make || return 1
}

package() {
  cd ${srcdir}/${pkgname}

  install -Dm755 ${pkgname} ${pkgdir}/usr/bin/${pkgname} || return 1
  install -Dm644 ${srcdir}/${pkgname}/${pkgname}.desktop \
    ${pkgdir}/usr/share/applications/${pkgname}.desktop || return 1
  install -d ${pkgdir}/usr/share/${pkgname}
  cp interface/*.ui ${pkgdir}/usr/share/${pkgname}
  cp interface/*.svg ${pkgdir}/usr/share/${pkgname}
  install  -d ${pkgdir}/usr/share/locale/es/LC_MESSAGES
  cp po/es.mo ${pkgdir}/usr/share/locale/es/LC_MESSAGES/cronopete.mo
  install  -d ${pkgdir}/usr/share/locale/gl/LC_MESSAGES
  cp po/gl.mo ${pkgdir}/usr/share/locale/gl/LC_MESSAGES/cronopete.mo
  #install -Dm644 Icons/${pkgname}32.png \
    #${pkgdir}/usr/share/icons/hicolor/32x32/apps/${pkgname}.png || return 1
  #install -Dm644 Icons/${pkgname}48.png \
    #${pkgdir}/usr/share/icons/hicolor/48x48/apps/${pkgname}.png || return 1
  #install -Dm644 Icons/${pkgname}64.png \
    #${pkgdir}/usr/share/icons/hicolor/64x64/apps/${pkgname}.png || return 1
}
