# Contributor: oliparcol <oliparcol AT gmail DOT com>
pkgname=ruby-jekyll
pkgver=0.10.0
pkgrel=3
pkgdesc="Jekyll is a simple, blog aware, static site generator."
arch=(any)
url="http://jekyllrb.com/"
license=('MIT')
depends=(ruby 'ruby-directory_watcher>=0.5.9' 'ruby-liquid>=1.9.0' 'ruby-maruku>=0.5.9' 'ruby-classifier>=1.3.1' 'ruby-redcloth>=4.2.1')
makedepends=(rubygems)
source=(http://rubygems.org/downloads/jekyll-$pkgver.gem
        https://github.com/mojombo/jekyll/raw/master/LICENSE)
noextract=(jekyll-$pkgver.gem)
md5sums=('04134e1eedc708b1ce606bf08557dd10'
         'e0536661da750ea371220479a8a1746b')

build() {
        cd $srcdir
        local _gemdir="$(ruby -rubygems -e'puts Gem.default_dir')"

        gem install --ignore-dependencies -i "$pkgdir$_gemdir" jekyll-$pkgver.gem -n "$pkgdir/usr/bin"

        install -Dm644 LICENSE "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
}
