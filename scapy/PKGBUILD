# Maintainer: Ebubekir KARUL <ebubekirkarul@yandex.com>
# Contributor: s1gma,shirokuro

pkgname=scapy
pkgver=2.2.0
pkgrel=6
pkgdesc="A powerful interactive packet manipulation program written in Python"
url="http://www.secdev.org/projects/scapy/"
depends=('tcpdump' 'python2' )
optdepends=('pycrypto: WEP decryption support'
            'python2-pyx: psdump() and pdfdump() functions'
	    'gnuplot: plotting support'
	    'gnuplot-py: additional plotting support'
            'graphviz: conversations() method support')
makedepends=('')
provides=('scapy')
arch=('i686' 'x86_64')
license=('GPL')
md5sums=('406990bd8da1f4958b354b4b6fc4b3eb' '1437d9b5f33badb22e2c5b4a90d0e6af')

source=(http://www.secdev.org/projects/scapy/files/$pkgname-$pkgver.tar.gz setuppatch.patch)

build(){
  cd $srcdir/$pkgname-$pkgver
  cp $startdir/setuppatch.patch $srcdir/$pkgname-$pkgver/setuppatch.patch
  patch < setuppatch.patch
  python2 setup.py build
}

package() {
  cd $srcdir/$pkgname-$pkgver
  python2 setup.py install --prefix=$pkgdir/usr
}
