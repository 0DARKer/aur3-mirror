# Maintainer: Tyler <tjb0607 at gmail dot com>
# Contributor: Austin <doorknob60 at gmail dot com>
pkgname=apng-utils
pkgver=2.3
pkgrel=2
pkgdesc="apngasm for assembling apng files, apngdis for disassembling apng files, and gif2apng for converting."
arch=('i686' 'x86_64')
url="http://sourceforge.net/projects/apngdis/"
license=('LGPL')
depends=('libpng' 'zlib')
source=('http://sourceforge.net/projects/apngdis/files/2.3/apngdis-2.3-src.zip' 'http://sourceforge.net/projects/apngasm/files/2.1/apngasm-2.1-src.zip' 'http://sourceforge.net/projects/gif2apng/files/1.4/gif2apng-1.4-src.zip' 'apngdis.patch' 'apngasm.patch' 'gif2apng.patch')
md5sums=('48698c896cf18c8c3cce4c966610f51e'
         'df7c65ff207ab9d9cf0e236a01b723f6'
         '8354726166a2023d3cabbd0bc336ce0d'
         '996cec150c014d1c4437b36be0595b2c'
         'e2f8bd5734fa60fe3ce02d41918e322d'
         'a9f16eeab47c3c6d30cd18e87933be3d')

build() {
patch apngdis.c < apngdis.patch
gcc -o apngdis apngdis.c -lz
install -d $pkgdir/usr/bin/
cp apngdis $pkgdir/usr/bin/
patch apngasm.c < apngasm.patch
gcc -o apngasm apngasm.c -lz -lpng 
cp apngasm $pkgdir/usr/bin/
patch gif2apng.c < gif2apng.patch
gcc -lz gif2apng.c -o gif2apng
cp gif2apng $pkgdir/usr/bin/
}
