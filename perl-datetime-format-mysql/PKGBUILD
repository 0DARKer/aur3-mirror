pkgname=perl-datetime-format-mysql
pkgver=0.04
pkgrel="4"
pkgdesc="Parse and format MySQL dates and times"
arch=(i686 x86_64)
license=('perl')
url="http://search.cpan.org/~drolsky/DateTime-Format-MySQL"
options=(!emptydirs)

depends=('perl-datetime' 'perl-datetime-format-builder')

#provides=('DateTime-Format-MySQL')
provides=('datetime-format-mysql=0.04' 'DateTime::Format::MySQL=0.04' 'perl-datetime-format-mysql=0.04')

source=(http://search.cpan.org/CPAN/authors/id/D/DR/DROLSKY/DateTime-Format-MySQL-0.04.tar.gz)
md5sums=('f52377ecdeb19055ae64037fb1ef530e')
sha512sums=('166b1dbf32e0de0442aa8b554d987dd3d67583bdf3208e23dc219b6e75016949d6732ae1a8664edf3d092f3583a59631ba7f1c30d9fbabb6516b696ecd6837bc')

build() {
  cd "${srcdir}/DateTime-Format-MySQL-${pkgver}"
  PERL_MM_USE_DEFAULT=1 perl Makefile.PL INSTALLDIRS=vendor || return 1
  make  || return 1
  make test || return 1
}

package() {
  cd "${srcdir}/DateTime-Format-MySQL-${pkgver}"
  make install DESTDIR=${pkgdir} || return 1

  # remove perllocal.pod and .packlist
  find ${pkgdir} -name perllocal.pod -delete
  find ${pkgdir} -name .packlist -delete
}
