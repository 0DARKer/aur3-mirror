# Maintainer: Mario Rodas <rodasmario2@gmail.com>

pkgname=libmaxminddb-git
_gitname=libmaxminddb
pkgver=r787.f1774eb
pkgrel=1
pkgdesc="C library for the MaxMind DB file format"
arch=('i686' 'x86_64')
url="https://github.com/maxmind/libmaxminddb"
license=('GPL')
depends=('glibc')
makedepends=('git')
conflicts=()
options=('!libtool')
provides=()
source=("$_gitname::git+https://github.com/maxmind/libmaxminddb.git")
sha256sums=('SKIP')

pkgver() {
  cd "$srcdir/$_gitname"
  printf "r%s.%s" "$(git rev-list --count HEAD)" "$(git rev-parse --short HEAD)"
}

build() {
  cd "$srcdir/$_gitname"
  rm -f ltmain.sh
  autoreconf -fiv
  ./configure --prefix=/usr
}

package() {
  cd "$srcdir/$_gitname"
  make PREFIX=/usr SUBDIRS="src bin" DESTDIR="$pkgdir" install
}

# vim: ft=sh syn=sh et
