# Maintainer: Mario Rodas <rodasmario2@gmail.com>

pkgname=libmaxminddb-git
_gitname=libmaxminddb
pkgver=281.8b70b2e
pkgrel=1
pkgdesc="C library for the MaxMind DB file format"
arch=('i686' 'x86_64')
url="https://github.com/maxmind/libmaxminddb"
license=('GPL')
depends=('glibc')
makedepends=('git')
conflicts=()
options=('!libtool')
provides=()
source=('git://github.com/maxmind/libmaxminddb.git')
sha256sums=('SKIP')

pkgver() {
  cd $_gitname
  echo $(git rev-list --count HEAD).$(git rev-parse --short HEAD)
}

build() {
  cd $_gitname

  rm -f ltmain.sh
  autoreconf -fiv
  ./configure --prefix=/usr
  make SUBDIRS="libmaxminddb apps"
}

package() {
  cd $_gitname

  make SUBDIRS="libmaxminddb apps" PREFIX=/usr DESTDIR="$pkgdir" install
}

# vim: ft=sh syn=sh et
