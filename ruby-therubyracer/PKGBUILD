# Maintainer: Jerome Leclanche <jerome.leclanche+arch@gmail.com>

pkgname=ruby-therubyracer
_gemname=${pkgname#ruby-}
pkgver=0.11.4
pkgrel=1
pkgdesc="Call JavaScript code and manipulate JavaScript objects from Ruby. Call Ruby code and manipulate Ruby objects from JavaScript."
arch=('any')
url="https://github.com/cowboyd/therubyracer"
license=('MIT')
depends=('ruby-libv8>=3.11.8.12' 'ruby-ref')
makedepends=('rubygems')
source=("http://gems.rubyforge.org/gems/${_gemname}-${pkgver}.gem")
noextract=("${_gemname}-${pkgver}.gem")
sha256sums=('388ea7ba5452ea0a40465f0048d4b9ca029f46efd3f5d42219b3ac2f53fcc996')

build() {
	local _gemdir="$(ruby -rubygems -e'puts Gem.default_dir')"
	gem install --no-user-install --ignore-dependencies -i "$pkgdir$_gemdir" -n "$pkgdir/usr/bin" ${_gemname}-$pkgver.gem
}
