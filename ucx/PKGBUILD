# Maintainer: David Roheim <david dot roheim at gmail dot com>
pkgname=ucx
pkgver=14.0.0.3
pkgrel=1
pkgdesc="UltraCompare Professional is a powerful compare/merge application."
arch=('i686' 'x86_64')
url="http://www.ultraedit.com/products/ultracompare-mac-linux.html"
license=('custom')
install=${pkgname}.install
depends=(glibc gdk-pixbuf2 glib2 icu libpng libjpeg-turbo libx11 libxml2 zlib pango)
options=(!strip)

source=("http://www.ultraedit.com/files/ucx/Other/ucx-${pkgver}_amd64.tar.gz")
sha256sums=('b59a95a345ddc9bf5e72c1af9ed5a6b157efe03a592fc9500d62d128f5350f9c')

if [ "${CARCH}" = 'i686' ]; then
	source[0]=("http://www.ultraedit.com/files/ucx/Other/ucx-${pkgver}_i386.tar.gz")
	sha256sums[0]=("5fa1e09194d253146e7f28589c7e4d95c5e184c1284f57253f736b86edae64c8")
fi

build() {
  true
}

package() {
  cd "${srcdir}/${pkgname}"
  install -m755 -d ${pkgdir}/opt
  install -m755 -d ${pkgdir}/usr/bin
  install -m755 -d ${pkgdir}/usr/share/menu
  install -m755 -d ${pkgdir}/usr/share/pixmaps
  install -m755 -d ${pkgdir}/usr/share/applications
  install -m755 -d ${pkgdir}/usr/share/licenses/${pkgname}
  
  cp -R ${srcdir}/${pkgname}             ${pkgdir}/opt
  ln -s /opt/ucx/bin/ucx                 ${pkgdir}/usr/bin/ucx
  ln -s /opt/ucx/share/ucx/ucx.xpm       ${pkgdir}/usr/share/pixmaps/ucx.xpm
  ln -s /opt/ucx/share/ucx/ucx.menu      ${pkgdir}/usr/share/menu/ucx.menu
  ln -s /opt/ucx/share/ucx/ucx.desktop   ${pkgdir}/usr/share/applications/ucx.desktop
  ln -s /opt/ucx/share/doc/ucx/copyright ${pkgdir}/usr/share/licenses/${pkgname}/LICENSE
}

