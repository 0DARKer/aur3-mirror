# fedoracoind Arch PKGBUILD
# Maintainer mxtm <max@mxtm.me>
# Based off of the dogecoin-qt-git PKGBUILD, based off of primecoin-qt's PKGBUILD by Daniel Spies

pkgname=fedoracoind
_binname=fedoracoin
pkgver=0.41
pkgrel=3
pkgdesc="Daemon for FedoraCoin."
arch=('x86_64' 'i686')
url="https://bitcointalk.org/index.php?topic=380466.0"
license=('MIT')
provides=('fedoracoind')
conflicts=('fedoracoind-git')
depends=('miniupnpc' 'boost-libs')
makedepends=('boost' 'gcc' 'make' 'git')
source=('http://files.fedoraco.in/0.41/fedoracoin-0.41.tar.gz')
install=fedoracoind.install

sha256sums=('f4cc040caaab76e73a7d94195be31d67f4d65434d582bcb0bfacd8b8170e01c9')

## files & commands for building
pkgver() {
	cd "$srcdir/${_binname}"
	git describe --long | sed -E 's/([^-]*-g)/r\1/;s/-/./g'
}
    

build() {
	tar -xvzf ${_binname}-${pkgver}.tar.gz

	cd ${_binname}/src

	mkdir obj

	make -f makefile.unix ${MAKEFLAGS}
}

package() {
	cd ${_binname}/src
	install -Dm755 ${_binname}d "$pkgdir"/usr/bin/${_binname}d
	install -Dm644 ../COPYING "$pkgdir/usr/share/licenses/$pkgname/COPYING"
}
