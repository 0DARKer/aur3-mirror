# Maintainer: Xiao-Long Chen <chenxiaolong@cxl.epac.to>

pkgname=wxhexeditor
pkgver=0.22
pkgrel=1
pkgdesc="a free hex editor / disk editor for Linux, Windows and MacOSX"
arch=('i686' 'x86_64' 'mips64el' 'armv6h')
url="http://wxhexeditor.sourceforge.net/"
license=('GPL')
depends=('udis86-git' 'wxgtk')
provides=("wxhexeditor=${pkgver}")
conflicts=('wxhexeditor')
source=("http://downloads.sourceforge.net/project/wxhexeditor/wxHexEditor/v${pkgver}%20Beta/wxHexEditor-v${pkgver}-src.tar.bz2"
        'use_shared_udis86.patch')
sha512sums=('d846b30110bf2c864ec8dc45d1a4e9e333ec79379e335d7ecf5c8eed18a22bf2af26de1bcdca1977c94f2789a82c6eaf5fd2c2a91389f4c20f219a974c5e18ac'
            'a9a3226c94c995cc87979f4e93d52f5ff61792014ba2f404b12815dc9bc550f11beac52842efbe63959919ebcdff0dd3b54aa91b4595872023fb2867442d8f82')

build() {
  cd "${srcdir}/wxHexEditor"

  # Use shared libraries
  #rm -rvf udis86 mhash
  rm -rv udis86
  patch -Np1 -i "${srcdir}/use_shared_udis86.patch"

  make -j1
}

package() {
  cd "${srcdir}/wxHexEditor"
  make PREFIX="${pkgdir}/usr/" install
}

# vim:set ts=2 sw=2 et:
