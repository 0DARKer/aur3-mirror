# Contributor: mutantmonkey <mutantmonkey@mutantmonkey.in>
pkgname=firefox-extension-scriptish
pkgver=0.1.6
_ffver=9.0
pkgrel=1
pkgdesc="Firefox add-on for user scripts (fork of Greasemonkey)"
arch=('any')
url="http://scriptish.org/"
license=('MIT')
depends=('firefox>='${_ffver} 'firefox<9.99.0')
conflicts=('scriptish')
replaces=('scriptish')
source=("https://addons.mozilla.org/firefox/downloads/latest/231203/addon-231203-latest.xpi")
md5sums=('140296460d84fbbb56de1468d5599a0e')
sha256sums=('d570bde5ec394b2750c45c387f46ed60e3c897bacf1c0aef949235d8ca64e375')

package() {
  cd $srcdir

  emid=$(sed -n '/.*<em:id>\(.*\)<\/em:id>.*/{s//\1/p;q}' install.rdf) || return 1
  installdir=$pkgdir/usr/lib/firefox/extensions/$emid

  install -d ${installdir} || return 1
  cp -a * ${installdir} || return 1
}
