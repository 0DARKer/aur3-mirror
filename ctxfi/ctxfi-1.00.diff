diff -Naur XFiDrv_Linux_Public_US_1.00~/cthw20k1.c XFiDrv_Linux_Public_US_1.00/cthw20k1.c
--- XFiDrv_Linux_Public_US_1.00~/cthw20k1.c	2009-01-14 16:23:36.000000000 -0600
+++ XFiDrv_Linux_Public_US_1.00/cthw20k1.c	2009-01-14 16:23:42.000000000 -0600
@@ -26,7 +26,7 @@
 #include <linux/spinlock.h>
 #include <linux/kernel.h>
 #include <linux/interrupt.h>
-
+#include <linux/delay.h>
 
 struct hw20k1 {
 	struct hw hw;
diff -Naur XFiDrv_Linux_Public_US_1.00~/cthw20k2.c XFiDrv_Linux_Public_US_1.00/cthw20k2.c
--- XFiDrv_Linux_Public_US_1.00~/cthw20k2.c	2009-01-14 16:23:36.000000000 -0600
+++ XFiDrv_Linux_Public_US_1.00/cthw20k2.c	2009-01-14 16:23:42.000000000 -0600
@@ -25,6 +25,7 @@
 #include <linux/string.h>
 #include <linux/kernel.h>
 #include <linux/interrupt.h>
+#include <linux/delay.h>
 
 static u32 hw_read_20kx(struct hw *hw, u32 reg);	
 static void hw_write_20kx(struct hw *hw, u32 reg, u32 data);
diff -Naur XFiDrv_Linux_Public_US_1.00~/Makefile XFiDrv_Linux_Public_US_1.00/Makefile
--- XFiDrv_Linux_Public_US_1.00~/Makefile	2009-01-14 16:23:36.000000000 -0600
+++ XFiDrv_Linux_Public_US_1.00/Makefile	2009-01-14 16:26:15.000000000 -0600
@@ -19,18 +19,19 @@
 
 MODDIR = $(PWD)
 MODPATH	= /lib/modules/`uname -r`/kernel/drivers/ssound
-MODULES = ctxfi.ko
+MODULE = ctxfi.ko
+COPYPATH = /usr/share/licenses/ctxfi
+COPYING = CEULA
 
 install:
-	@echo "Copy module files..."
-	@rm -rf $(MODPATH)
-	@mkdir $(MODPATH)
-	@cd $(MODDIR)/; cp -f $(MODULES) $(MODPATH)/
-	@echo "Update module dependency relationships..."
-	@/sbin/depmod
-	@/sbin/modprobe ctxfi
+	@echo "Copying module..."
+	@install -d -m 0755 $(DESTDIR)$(MODPATH)
+	@install -D -m 0644 $(MODULE) $(DESTDIR)$(MODPATH)
+	@echo "Copying Creative EULA..."
+	@install -d -m 0755 $(DESTDIR)$(COPYPATH)
+	@install -D -m 0644 $(COPYING) $(DESTDIR)$(COPYPATH)
 
-users := $(word 3, $(shell /sbin/lsmod | grep ^ctxfi | head -n 1))
+users := $(word 3, $(shell /bin/lsmod | grep ^ctxfi | head -n 1))
 uninstall:
 	@if [ "$(users)" = "0" ]; then \
 		echo "Unload ctxfi..."; \
diff -Naur XFiDrv_Linux_Public_US_1.00~/CEULA XFiDrv_Linux_Public_US_1.00/CEULA
--- XFiDrv_Linux_Public_US_1.00~/CEULA	1969-12-31 18:00:00.000000000 -0600
+++ XFiDrv_Linux_Public_US_1.00/CEULA	2009-01-14 16:23:42.000000000 -0600
@@ -0,0 +1,137 @@
+CREATIVE END-USER SOFTWARE LICENSE AGREEMENT (for Web Software)
+Version 2.9, September 2006
+
+PLEASE READ THIS DOCUMENT CAREFULLY. YOU HAVE AGREED TO THE TERMS OF THIS AGREEMENT BEFORE DOWNLOADING THE SOFTWARE FROM THE INTERNET.
+
+This is a legal agreement between you and Creative Technology Ltd and its subsidiaries ("Creative"). This Agreement states the terms and conditions upon which Creative offers to license the software downloaded from this website together with all related documentation and accompanying items including, but not limited to, the executable programs, drivers, libraries and data files associated with such programs (collectively, the "Software").
+
+LICENSE
+
+   1. Grant of License
+      The Software is licensed, not sold, to you for use only under the terms of this Agreement. This License Agreement is your proof of license to exercise the rights granted herein and must be retained by you. As between you and Creative (and, to the extent applicable, its licensors), Creative retains all title to and ownership of the Software and reserves all rights not expressly granted to you.
+      Creative grants to you the right to use all or a portion of this Software provided that
+      (a) the Software is not distributed for profit;
+      (b) the Software is used only in conjunction with Creative's family of products;
+      (c) the Software may NOT be modified; and
+      (d) all copyright notices are maintained on the Software.
+
+   2. For Use on a Single Computer
+      The Software may be used only on a single computer by a single user at any time. You may transfer the machine-readable portion of the Software from one computer to another computer, provided that
+      (a) the Software (including any portion or copy thereof) is erased from the first computer, and
+      (b) there is no possibility that the Software will be used on more than one computer at a time.
+
+   3. Stand-Alone Basis
+      You may use the Software only on a stand-alone basis, such that the Software and the functions it provides are accessible only to persons who are physically present at the location of the computer on which the Software is loaded. You may not allow the Software or its functions to be accessed remotely, or transmit all or any portion of the Software through any network or communication line.
+
+   4. Copyright
+      The Software is owned by Creative and/or its licensors, and is protected by United States copyright laws and international treaty provisions. You may not remove the copyright notice from any copy of the Software or any copy of the written materials, if any, accompanying the Software.
+
+   5. One Archival Copy
+      You may make one (1) archival copy of the machine-readable portion of the Software for backup purposes only in support of your use of the Software on a single computer, provided that you reproduce on the copy all copyright and other proprietary rights notices included on the originals of the Software.
+
+   6. No Merger or Integration
+      You may not merge any portion of the Software into, or integrate any portion of the Software with, any other program, except to the extent expressly permitted by the laws of the jurisdiction where you are located. Any portion of the Software merged into or integrated with another program, if any, will continue to be subject to the terms and conditions of this Agreement, and you must reproduce on the merged or integrated portion all copyright and other proprietary rights notices included on the originals of the Software.
+
+   7. Network Version
+      If you have purchased a "network" version of the Software, this Agreement applies to the installation of the Software on a single "file server." It may not be copied onto multiple systems. Each "node" connected to the "file server" must also have its own license of a "node copy" of the Software, which becomes a license only for that specific "node."
+
+   8. No Transfer of License
+      You may not transfer your license of the Software to a third party.
+
+   9. Limitations on Using, Copying, and Modifying the Software
+      Except to the extent expressly permitted by this Agreement or by the laws of the jurisdiction where you acquired the Software, you may not use, copy or modify the Software. Nor may you sub-license any of your rights under this Agreement. You may use the Software for your personal use only, and not for public performance or for the creation of publicly displayed videotapes.
+
+  10. Decompiling, Disassembling, or Reverse Engineering
+      You acknowledge that the Software contains trade secrets and other proprietary information of Creative and its licensors. Except to the extent expressly permitted by this Agreement or by the laws of the jurisdiction where you are located, you may not decompile, disassemble or otherwise reverse engineer the Software, or engage in any other activities to obtain underlying information that is not visible to the user in connection with normal use of the Software.
+
+      In particular, you agree not for any purpose to transmit the Software or display the Software's object code on any computer screen or to make any hardcopy memory dumps of the Software's object code. If you believe you require information related to the interoperability of the Software with other programs, you shall not decompile or disassemble the Software to obtain such information, and you agree to request such information from Creative at the address listed below. Upon receiving such a request, Creative shall determine whether you require such information for a legitimate purpose and, if so, Creative will provide such information to you within a reasonable time and on reasonable conditions.
+
+      In any event, you will notify Creative of any information derived from reverse engineering or such other activities, and the results thereof will constitute the confidential information of Creative that may be used only in connection with the Software.
+
+  11. Gracenote(R) CDDB(R) Terms of Use
+      This application may contain software from Gracenote, Inc. of Emeryville, California ("Gracenote"). The software from Gracenote (the "Gracenote Client") enables this application to do online disc and music file identification and obtain music-related information, including name, artist, track, and title information ("Gracenote Data") from online servers ("Gracenote Servers"), and to perform other functions. You may use Gracenote Data only by means of the intended End User functions of this application software.
+
+      You acknowledge and agree that Creative does not make any representation,undertaking or warranty, either express, implied, or otherwise regarding the provision, continuity of provision and/or use of Gracenote Client, Gracenote Data or Gracenote Server or related materials. You specifically agree that Creative does not guarantee that you will be able to access Gracenote services throughout the term of this Agreement.
+
+      You further acknowledge and agree that Creative shall not be responsible or liable, directly or indirectly, for any damage or loss caused by or alleged to be caused by or in connection with the use of or inability to use Gracenote Client, Gracenote Data or Gracenote Server or related materials.
+
+      You agree that you will use Gracenote Data, the Gracenote Client, and Gracenote Servers for your own personal non-commercial use only. You agree not to assign, copy, transfer or transmit the Gracenote Client or any Gracenote Data (except in a Tag associated with a music file) to any third party. YOU AGREE NOT TO USE OR EXPLOIT GRACENOTE DATA, THE GRACENOTE CLIENT, OR GRACENOTE SERVERS, EXCEPT AS EXPRESSLY PERMITTED HEREIN.
+
+      You agree that your non-exclusive license to use the Gracenote Data, the Gracenote Client, and Gracenote Servers will terminate if you violate these restrictions. If your license terminates, you agree to cease any and all use of the Gracenote Data, the Gracenote Client, and Gracenote Servers. Gracenote reserves all rights in Gracenote Data, the Gracenote Client, and the Gracenote Servers, including all ownership rights. Under no circumstances will Gracenote become liable for any payment to you for any information that you provide, including music file information. You agree that Gracenote may enforce its rights under this agreement against you directly in its own name.
+
+      The Gracenote Service uses a unique identifier to track queries for statistical purposes. The purpose of a randomly assigned numeric identifier is to allow the Gracenote service to count queries without knowing anything about who you are. For more information, see the web page at www.gracenote.com for the Gracenote Privacy Policy for the relevant Gracenote Service.
+
+      The Gracenote Client and each item of Gracenote Data are licensed to you "AS IS." Gracenote makes no representations or warranties, express or implied, regarding the accuracy of any Gracenote Data from the Gracenote Servers. Gracenote reserves the right to delete data from the Gracenote Servers or to change data categories for any cause that Gracenote deems sufficient. No warranty is made that the Gracenote Client or Gracenote Servers are error-free or that the functioning of the Gracenote Client or Gracenote Servers will be uninterrupted. Gracenote is not obligated to provide you with any enhanced or additional data types that Gracenote may choose to provide in the future and is free to discontinue its online services at any time. GRACENOTE DISCLAIMS ALL WARRANTIES EXPRESS OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT. Gracenote does not warrant the results that will be obtained by your use of the Gracenote Client or any Gracenote Server. IN NO CASE WILL GRACENOTE BE LIABLE FOR ANY CONSEQUENTIAL OR INCIDENTAL DAMAGES OR FOR ANY LOST PROFITS OR LOST REVENUES.
+
+  12. TERMINATION
+      The license granted to you is effective until terminated. You may terminate it at any time by destroying the Software (including any portions or copies thereof) currently in your possession or control. The license will also terminate automatically without any notice from Creative if you fail to comply with any term or condition of this Agreement. You agree upon any such termination to destroy the Software (including any portions or copies thereof). Upon termination, Creative may also enforce any and all rights provided by law. The provisions of this Agreement that protect the proprietary rights of Creative will continue in force after termination.
+
+  13. NO WARRANTY
+      ANY USE BY YOU OF THE SOFTWARE IS AT YOUR OWN RISK. THE SOFTWARE IS PROVIDED FOR USE ONLY WITH CREATIVE'S HARDWARE AND RELATED SOFTWARE. THE SOFTWARE IS PROVIDED FOR USE "AS IS" WITHOUT WARRANTY OF ANY KIND. TO THE MAXIMUM EXTENT PERMITTED BY LAW, CREATIVE DISCLAIMS ALL WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING, WITHOUT LIMITATION, IMPLIED WARRANTIES OR CONDITIONS OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE AND NONINFRINGEMENT. CREATIVE IS NOT OBLIGATED TO PROVIDE ANY UPDATES OR UPGRADES TO THE SOFTWARE.
+
+      No distributor, dealer or any other entity or person is authorized to expand or alter this warranty or any other provisions of this Agreement. Creative does not warrant that the functions contained in the Software will meet your requirements or that the operation of the Software will be uninterrupted or error-free or free from malicious code. For purposes of this paragraph, "malicious code" means any program code designed to contaminate other computer programs or computer data, consume computer resources, modify, destroy, record, or transmit data, or in some other fashion usurp the normal operation of the computer, computer system, or computer network, including viruses, Trojan horses, droppers, worms, logic bombs, and the like.
+
+      Any representation, other than the warranties set forth in this Agreement, will not bind Creative. You assume full responsibility for the selection of the Software to achieve your intended results, and for the downloading, use and results obtained from the Software. You also assume the entire risk as it applies to the quality and performance of the Software. Should the Software prove defective, you (and not Creative, or its distributors or dealers) assume the entire cost of all necessary servicing, repair or correction.
+
+      Further, Creative shall not be liable for the accuracy of any information provided by Creative or third-party technical support personnel, or any damages caused, either directly or indirectly, by acts taken or omissions made by you as a result of such technical support.
+
+      This warranty gives you specific legal rights, and you may also have other rights which vary from country/state to country/state. Some countries/states do not allow the exclusion of implied warranties, so the above exclusion may not apply to you. Creative disclaims all warranties of any kind if the Software was customized, repackaged or altered in any way by any third party other than Creative.
+
+  14. DISCLAIMER OF DAMAGES: LIMITATION OF LIABILITY
+      IN NO EVENT SHALL CREATIVE OR ITS LICENSORS BE LIABLE FOR ANY DAMAGES WHATSOEVER (INCLUDING, WITHOUT LIMITATION, INCIDENTAL, INDIRECT, SPECIAL OR CONSEQUENTIAL DAMAGES, OR FOR ANY PERSONAL INJURY OR BODILY INJURY (INCLUDING DEATH) TO ANY PERSON CAUSED BY CREATIVE'S NEGLIGENCE, DAMAGES FOR LOSS OF BUSINESS PROFITS, BUSINESS INTERRUPTION, LOSS OF BUSINESS INFORMATION, OR OTHER PECUNIARY LOSS) ARISING OUT OF THE USE OR INABILITY TO USE THIS SOFTWARE, EVEN IF CREATIVE OR ITS LICENSORS HAVE BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES. IN NO EVENT WILL CREATIVE'S LIABILITY OR DAMAGES TO YOU OR ANY OTHER PERSON EVER EXCEED THE AMOUNT PAID BY YOU TO USE THE SOFTWARE, REGARDLESS OF THE FORM OF THE CLAIM.
+      BECAUSE SOME STATES/ COUNTRIES DO NOT ALLOW THE EXCLUSION OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES, THE ABOVE LIMITATION MAY NOT APPLY TO YOU.
+
+  15. INDEMNIFICATION BY YOU
+      If you distribute the Software in violation of this Agreement, you hereby indemnify, hold harmless and defend Creative from and against any and all claims or lawsuits, including attorney's fees and costs that arise, result from or are connected with the use or distribution of the Software in violation of this Agreement.
+
+  16. U.S. GOVERNMENT RESTRICTED RIGHTS
+      All Software and related documentation are provided with restricted rights. Use, duplication or disclosure by the U.S. Government is subject to restrictions as set forth in subdivision (b)(3)(ii) of the Rights in Technical Data and Computer Software Clause at 252.227-7013. If you are sub-licensing or using the Software outside of the United States, you will comply with the applicable local laws of your country, U.S. export control law, and the English version of this Agreement.
+
+  17. CONTRACTOR/MANUFACTURER
+      The Contractor/Manufacturer for the Software is:
+      Creative Technology Ltd
+      31, International Business Park
+      Creative Resource
+      Singapore 609921
+
+  18. GENERAL
+      This Agreement is binding on you as well as your employees, employers, contractors and agents, and on any successors and assignees. Neither the Software nor any information derived therefrom may be exported except in accordance with the laws of the U.S. or other applicable provisions. This Agreement is governed by the laws of the State of California (except to the extent federal law governs copyrights and federally registered trademarks). This Agreement is the entire agreement between us and you agree that Creative will not have any liability for any untrue statement or representation made by it, its agents or anyone else (whether innocently or negligently) upon which you relied upon entering this Agreement, unless such untrue statement or representation was made fraudulently. This Agreement supersedes any other understandings or agreements, including, but not limited to, advertising, with respect to the Software.
+
+      If any provision of this Agreement is deemed invalid or unenforceable by any country or government agency having jurisdiction, that particular provision will be deemed modified to the extent necessary to make the provision valid and enforceable, and the remaining provisions will remain in full force and effect.
+
+      For questions concerning this Agreement, please contact Creative at the address stated above. For questions on product or technical matters, contact the Creative technical support center nearest you.
+
+      This package may include software with DVD-Audio functionality for you to play content-protected DVD-Audio discs. The functionality of this Software may be lost if the content protection system is compromised. In this event, your sole remedy to restore such functionality is to download a product update from Creative's website.
+
+ADDENDUM TO THE MICROSOFT SOFTWARE LICENSE AGREEMENT IMPORTANT: By using the Microsoft software files (the "Microsoft Software") provided with this Addendum, you are agreeing to be bound by the following terms. If you do not agree to be bound by these terms, you may not use the Microsoft Software.
+
+The Microsoft Software is provided for the sole purpose of replacing the corresponding files provided with a previously licensed copy of the Microsoft software product ("ORIGINAL PRODUCT"). Upon installation, the Microsoft Software files become part of the ORIGINAL PRODUCT and are subject to the same warranty and license terms and conditions as the ORIGINAL PRODUCT. If you do not have a valid license to use the ORIGINAL PRODUCT, you may not use the Microsoft Software. Any other use of the Microsoft Software is prohibited.
+
+Nothing in this Agreement shall be construed on the part of Creative as advocating or authorizing the infringement of local and/or international laws applicable to your jurisdiction.
+
+DRM ADDENDUM TO THE MICROSOFT WMFSDK9 SERIES AGREEMENT Content providers are using the Microsoft digital rights management technology for Windows Media ("WM-DRM") to protect the integrity of their content ("Secure Content") so that their intellectual property, including copyright, in such content is not misappropriated. Portions of this software and other third party applications ("WM-DRM Software") use WM-DRM to transfer or play Secure Content. If the WM-DRM Software's security has been compromised, owners of Secure Content ("Secure Content Owners") may request that Microsoft revoke the WM-DRM Software's right to copy, display, transfer, and/or play Secure Content. Revocation does not alter the WM-DRM Software's ability to play unprotected content. A list of revoked WM-DRM Software is sent to your computer whenever you download a license for Secure Content from the Internet. Microsoft may, in conjunction with such license, also download revocation lists onto your computer on behalf of Secure Content Owners. Secure Content Owners may also require you to upgrade some of the WM-DRM components distributed with this software ("WM-DRM Upgrades") before accessing their content. When you attempt to play such content, WM-DRM Software built by Microsoft will notify you that a WM-DRM Upgrade is required and then ask for your consent before the WM-DRM Upgrade is downloaded. WM-DRM Software used by third parties may do the same. If you decline the upgrade, you will not be able to access content that requires the WM-DRM Upgrade; however, you will still be able to access unprotected content and Secure Content that does not require the upgrade.
+
+**COPYRIGHT INFORMATION FOR USERS OF CREATIVE PRODUCTS Certain Creative products are designed to assist you in reproducing material for which you own the copyright or are authorized to copy by the copyright owner or by exemption in applicable law. Unless you own the copyright or have such authorization, you may be violating copyright law and may be subject to payment of damages and other remedies. If you are uncertain about your rights, you should contact your legal advisor.
+
+It is your responsibility when using a Creative product to ensure there is no infringement of applicable laws on copyright whereby the copying of certain materials may require the prior consent of the copyright owners. Creative disclaims any liability with regard to any illegal use of the Creative product and Creative shall in no event be liable with regard to the origin of any data stored in a compressed audio file.
+
+You acknowledge and agree that the exportation or use of MP3 Codecs that may be included with your software, in real-time broadcasting (terrestrial, satellite, cable or other media) or broadcasting via Internet or other networks, such as but not limited to intranets etc., in pay-audio or pay-on-demand applications, is not authorised and/or licensed.**
+
+SPECIAL PROVISIONS APPLICABLE TO THE EUROPEAN UNION If you downloaded the Software in the European Union (EU), the following provisions also apply to you. If there is any inconsistency between the terms of the Software License Agreement set out above and the following provisions, the following provisions shall take PRECEDENCE.
+
+Decompilation:
+You agree not for any purpose to transmit the Software or display the Software's object code on any computer screen or to make any hard copy memory dumps of the Software's object code. If you believe you require information related to the interoperability of the Software with other programs, you shall not decompile or disassemble the Software to obtain such information, and you agree to request such information from Creative at the address listed above. Upon receiving such a request, Creative shall determine whether you require such information for a legitimate purpose and, if so, Creative will provide such information to you within a reasonable time and on reasonable conditions.
+
+LIMITED WARRANTY:
+EXCEPT AS STATED ABOVE IN THIS AGREEMENT, AND AS PROVIDED BELOW UNDER THE HEADING "STATUTORY RIGHTS", THE SOFTWARE IS PROVIDED AS-IS WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, ANY IMPLIED WARRANTIES OR CONDITIONS OF MERCHANTABILITY, QUALITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE AND NONINFRINGEMENT.
+
+LIMITATION OF REMEDY AND DAMAGES:
+THE LIMITATIONS OF REMEDIES AND DAMAGES IN THE SOFTWARE LICENSE AGREEMENT SHALL NOT APPLY TO PERSONAL INJURY (INCLUDING DEATH) TO ANY PERSON CAUSED BY CREATIVE'S NEGLIGENCE AND ARE SUBJECT TO THE PROVISION SET OUT BELOW UNDER THE HEADING "STATUTORY RIGHTS".
+
+Statutory rights:
+Irish law provides that certain conditions and warranties may be implied in contracts for the sale of goods and in contracts for the supply of services. Such conditions and warranties are hereby excluded, to the extent such exclusion, in the context of this transaction, is lawful under Irish law. Conversely, such conditions and warranties, insofar as they may not be lawfully excluded, shall apply. Accordingly nothing in this Agreement shall prejudice any rights that you may enjoy by virtue of Sections 12, 13, 14 or 15 of the Irish Sale of Goods Act 1893 (as amended).
+
+General:
+This Agreement is governed by the laws of the Republic of Ireland. The local language version of this Agreement shall apply to Software downloaded in the EU. This Agreement is the entire agreement between us and you agree that Creative will not have any liability for any untrue statement or representation made by it, its agents or anyone else (whether innocently or negligently) upon which you relied upon entering this Agreement, unless such untrue statement or representation was made fraudulently.
+
+End of Agreement
