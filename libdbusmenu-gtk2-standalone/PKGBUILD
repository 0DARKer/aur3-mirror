# Maintainer: L42y <423300@gmail.com>
# Contributor: Gianfranco 'Gianfrix' Micoli <gianfrix.mg@gmail.com>
# Contributor: Chen Xiao-Long <chillermillerlong@hotmail.com>

pkgname=libdbusmenu-gtk2-standalone
_pkgname=libdbusmenu
pkgver=0.4.93
pkgrel=1
pkgdesc="A small little library that was created by pulling out some common code out of indicator-applet"
arch=('i686' 'x86_64')
url="https://launchpad.net/dbusmenu"
license=('GPL')
depends=('glib2' 'dbus-glib' 'libxml2' 'json-glib-git' 'gtk2')
makedepends=('intltool' 'gnome-doc-utils' 'vala')
provides=("libdbusmenu-gtk2=${pkgver}" "libdbusmenu=${pkgver}")
conflicts=("libdbusmenu-gtk2" "libdbusmenu")
source=("http://launchpad.net/dbusmenu/0.5/${pkgver}/+download/${_pkgname}-${pkgver}.tar.gz")
sha512sums=('d876a60ce69c5d8c428e0cd91a8b653858fe5aff7734c464484a313fd9ce2a43ed2f2ccf92b49ab98d11fe85ff80040e113db3b07f6bb34dca5ccd7fc71e0c43')

build() {
  cd "${srcdir}/${_pkgname}-${pkgver}"
  ./configure --prefix=/usr --with-gtk=2 --enable-introspection=no
  make
}

package() {
  cd "${srcdir}/${_pkgname}-${pkgver}"
  make DESTDIR="${pkgdir}/" install
}
