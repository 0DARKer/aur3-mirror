# Maintainer: L42y <423300@gmail.com>
# Contributor: Gianfranco 'Gianfrix' Micoli <gianfrix.mg@gmail.com>
# Contributor: Chen Xiao-Long <chillermillerlong@hotmail.com>

pkgname=libdbusmenu-gtk2-standalone
_pkgname=libdbusmenu
pkgver=0.5.0
pkgrel=1
pkgdesc="A small little library that was created by pulling out some common code out of indicator-applet"
arch=('i686' 'x86_64')
url="https://launchpad.net/dbusmenu"
license=('GPL')
depends=('glib2' 'dbus-glib' 'libxml2' 'json-glib-git' 'gtk2')
makedepends=('intltool' 'gnome-doc-utils' 'vala')
provides=("libdbusmenu-gtk2=${pkgver}" "libdbusmenu=${pkgver}")
conflicts=("libdbusmenu-gtk2" "libdbusmenu")
source=("http://launchpad.net/dbusmenu/0.5/${pkgver}/+download/${_pkgname}-${pkgver}.tar.gz")
sha512sums=('eaecae500728a61c2f3fe6a2f432710e817b4b7a822ffe4fbba6d73f28b2747455e5017474dd01822858718c5a0215dc5481f33911ed00080b26585dd4a6b959')

build() {
  cd "${srcdir}/${_pkgname}-${pkgver}"
  ./configure --prefix=/usr \
  --with-gtk=2 \
  --disable-introspection \
  --disable-vala
  make
}

package() {
  cd "${srcdir}/${_pkgname}-${pkgver}"
  make DESTDIR="${pkgdir}/" install
}
