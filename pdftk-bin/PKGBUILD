# Maintainer: Dan Serban
# Contributor: Liu Chang <goduck777@gmail.com>

pkgname=pdftk-bin
pkgver=1.44
pkgrel=3
pkgdesc="PDFTK is a simple tool for doing everyday things with PDF documents. The package is built from binary executables available in Debian repositories"
url=http://www.pdflabs.com/tools/pdftk-the-pdf-toolkit/
arch=(i686 x86_64)
license=(GPL)
provides=(pdftk)
conflicts=(pdftk pdfchain-all-inclusive)
_filearch=i386
[ "$CARCH" = "x86_64" ] && _filearch=amd64
_pdftk_deb_ver=3
_libgcj12_pkg_ver=4.6.0
_libgcj12_deb_ver=3

build()
{
  wget "http://mirrors.kernel.org/debian/pool/main/p/pdftk/pdftk_${pkgver}-${_pdftk_deb_ver}_${_filearch}.deb"
  ar -xv "pdftk_${pkgver}-${_pdftk_deb_ver}_${_filearch}.deb"
  bsdtar -xvf data.tar.gz -C "${pkgdir}"
  rm data.tar.gz
  wget "http://mirrors.kernel.org/debian/pool/main/g/gcj-4.6/libgcj12_${_libgcj12_pkg_ver}-${_libgcj12_deb_ver}_${_filearch}.deb"
  ar -xv "libgcj12_${_libgcj12_pkg_ver}-${_libgcj12_deb_ver}_${_filearch}.deb"
  bsdtar -xvf data.tar.gz
  rm data.tar.gz
  install -Dm644 usr/lib/libgcj.so.12.0.0 "${pkgdir}"/usr/lib/libgcj.so.12
}
