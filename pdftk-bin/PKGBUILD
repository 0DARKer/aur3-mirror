# Maintainer: Liu Chang <goduck777@gmail.com>

pkgname=pdftk-bin
pkgver=1.44
_pkgver=2
pkgrel=2
pkgdesc="Pdftk is a simple tool for doing everyday things with PDF documents. This a package including binary excutable file and gcj library from Debian lenny"
depends=()
makedepends=()
provides=('pdftk')
conflicts=('pdftk')
url="http://www.pdflabs.com/tools/pdftk-the-pdf-toolkit/"
arch=('i686' 'x86_64')

if [ "$CARCH" = 'i686' ]; then
source=("http://mirrors.kernel.org/debian/pool/main/p/pdftk/pdftk_"$pkgver"-"$_pkgver"_i386.deb" "http://mirrors.kernel.org/debian/pool/main/g/gcj-4.4/libgcj10_4.4.6-2_i386.deb")
md5sums=('2447b7d4e717d8204c1ca5fa04fcb161' '571cb17feba71c478ade28e9a8d496ef')
fi

if [ "$CARCH" = 'x86_64' ]; then
source=("http://mirrors.kernel.org/debian/pool/main/p/pdftk/pdftk_"$pkgver"-"$_pkgver"_amd64.deb" "http://mirrors.kernel.org/debian/pool/main/g/gcj-4.4/libgcj10_4.4.6-2_amd64.deb")
md5sums=('11338154d569ce0be8f9b53b6045996e' 'fe9a3b6907f3619b33950d5483d897f6')
fi

license="GPL"
build() {
 	[ "$CARCH" = i686   ] && ar x pdftk"_"$pkgver"-"$_pkgver"_"i386.deb
	[ "$CARCH" = x86_64 ] && ar x pdftk"_"$pkgver"-"$_pkgver"_"amd64.deb
	tar xf data.tar.gz -C $pkgdir
	[ -d libgcj ] || mkdir libgcj
	cd libgcj
	[ "$CARCH" = i686   ] && ar x ../libgcj10_4.4.6-2_i386.deb
        [ "$CARCH" = x86_64 ] && ar x ../libgcj10_4.4.6-2_amd64.deb
	tar xf data.tar.gz -C $pkgdir ./usr/lib/libgcj.so.10.0.0
	tar xf data.tar.gz -C $pkgdir ./usr/lib/libgcj.so.10
}
