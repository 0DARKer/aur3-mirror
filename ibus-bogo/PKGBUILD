# Contributor: Nguyen Ha Duong <cmpitg@gmail.com>
# Contributor: Ngo Trung <ndtrung4419@gmail.com>
# Contributor: Dam Tien Long <longdt90@gmail.com>

pkgname="ibus-bogo"
pkgver=0.2
pkgrel=1
pkgdesc=" Bogo Engine for Ibus"

arch=('i686' 'x86_64')
url="https://github.com/BoGoEngine"
license=('GPL V3')
depends=('ibus' 'python2' 'glibmm' 'python2-gobject')
makedepends=('git' 'cmake' 'gcc' 'python2')
provides=('ibus-bogo')

_gitpython="https://github.com/BoGoEngine/ibus-bogo-python.git"
_gitpythonname="ibus-bogo-python"

install=install

build()  {
	cd ${srcdir}
	
	if [ -d ${_gitpythonname} ] ; then
		cd ${srcdir}/${_gitpythonname} && git pull 
		msg "Local ${srcdir}/${_gitpythonname} updated" 
		
	else 
		git clone ${_gitpython} ${_gitpythonname}
		
	fi
	
	
	
	msg "Starting make..."

	mkdir ${pkgdir}/usr/
	

	# Building ibus-bogo-python
	cd ${srcdir}/${_gitpythonname}
	if [ -d build ]; then
	cd build 
        else 
		mkdir build
		cd build
	fi
	cmake -DCMAKE_INSTALL_PREFIX:PATH="${pkgdir}/usr" ..
	make
	make install
	rm ${pkgdir}/usr/share/glib-2.0/schemas/gschemas.compiled
	
	}
