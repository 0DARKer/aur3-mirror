# $Id: pkgbuild-mode.el,v 1.23 2007/10/20 16:02:14 juergen Exp $
# Maintainer: perlawk
pkgname=gsl-shell
pkgver=1.0
_pkgver=beta2
pkgrel=2 
pkgdesc="GSL shell offers an interactive command-line interface that gives access to GSL collection of mathematical functions. GSL shell is based on the powerful and elegant scripting language Lua." 
url="http://savannah.nongnu.org/projects/gsl-shell/"
arch=('i686' 'x86_64')
license=('GPL')
depends=('lua' 'gsl' 'agg' 'readline' 'ncurses' 'gcc-libs')
makedepends=()
conflicts=()
replaces=()
backup=()
install=
source=(http://download.savannah.gnu.org/releases/gsl-shell/$pkgname-$pkgver-${_pkgver}.tar.gz)
md5sums=('d09eed1e800f7c2cca67e8500c48a889')
build() {
   cd $srcdir/$pkgname-$pkgver-${_pkgver}
   sed -e 's#/local##; s#none#linux#; s#/DESTDIR=#/DESTDIR=/usr/lib/gsl-shell#' makeconfig > .tmp
   mv .tmp makeconfig	
   sed -e 's#/local##; s#/DESTDIR=#/DESTDIR=/usr/lib/gsl-shell#' make-packages> .tmp
   mv .tmp make-packages
   make 
}
package() {
   cd $srcdir/$pkgname-$pkgver-${_pkgver}
   install -m755 -d $pkgdir/usr/{bin,lib/gsl-shell}
   install -m755 -t $pkgdir/usr/bin gsl-shell
   install -m755 -t $pkgdir/usr/lib agg-plot/libaggplot.a
   install -m755 -t $pkgdir/usr/lib/gsl-shell *.lua
}

