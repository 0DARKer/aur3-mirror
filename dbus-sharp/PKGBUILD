# Contributor: Alessio Biancalana <dottorblaster@gmail.com>

pkgname=dbus-sharp
pkgver=0.7.0
pkgrel=2
pkgdesc="C# implementation of D-Bus"
arch=('any')
url="http://github.com/mono/dbus-sharp/"
license=('custom')
depends=('mono')
makedepends=('pkgconfig')
options=(!makeflags)
source=(https://github.com/downloads/mono/${pkgname}/${pkgname}-${pkgver}.tar.gz)
md5sums=('1964fc341dcbaeda859c53cee295d042')

build() {
  cd "${srcdir}/${pkgname}-${pkgver}"
  export MONO_SHARED_DIR="${startdir}/src/.wabi"
  mkdir -p "${MONO_SHARED_DIR}"
  ./configure --prefix=/usr --sysconfdir=/etc --localstatedir=/var || return 1
  make || return 1
}

package(){
  cd "${srcdir}/${pkgname}-${pkgver}"
  make DESTDIR="${pkgdir}" install || return 1
  install -D COPYING "${pkgdir}/usr/share/licenses/${pkgname}/COPYING" || return 1
}
