# Maintainer: BenObiWan <benobiwan @t gmail dot com>
# Contributor: Sam101 <zoetrem @t gmail dot com>
# Contributor: BenObiWan <benobiwan @t gmail dot com>
# Contributor: Huulivoide
# Contributor: Fernando Carmona Varo <ferkiwi @t gmail dot com>

pkgname=solarus
pkgver=1.0
pkgrel=1
pkgdesc="An open-source Zelda-like game engine. Includes the game quests zsdx. Currently incompatible with zsxd."
arch=('i686' 'x86_64')
url="http://www.zelda-solarus.com/"
license=('GPL/custom')
depends=('sdl' 'lua' 'sdl_image' 'sdl_ttf' 'physfs' 'openal' 'libvorbis' 'libmodplug')
makedepends=('cmake' 'zip')
conflicts=('zsdxdemo-en' 'zsdxdemo-de' 'zsdxdemo-fr' 'solarus-git' 'zsdx' 'zsxd')
replaces=('zsdxdemo-en' 'zsdxdemo-de' 'zsdxdemo-fr' 'solarus-git' 'zsdx')
provides=('solarus-engine' 'zsdx')
source=(http://www.zelda-solarus.com/downloads/zsdx/zsdx-1.0-src.tar.gz)
md5sums=('ba5eb89f7983c4d937741608cd51ec16')

build() {
  cd "${srcdir}/zsdx-${pkgver}"

  cmake -D CMAKE_INSTALL_PREFIX="/usr" .
  make
}

package() {
  cd "${srcdir}/zsdx-${pkgver}"

  make DESTDIR="${pkgdir}/" PREFIX="/usr" install
}

