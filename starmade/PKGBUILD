# Maintainer: Sean Wright <seanwright2@gmail.com>

pkgname=starmade
pkgver=latest
pkgrel=1
pkgdesc="Build a ship and shoot some space rocks."
arch=(any)
license=('custom')
url="http://star-made.org/"
depends=('java-runtime' 'xorg-server-utils' 'openal')
noextract=('StarMade-Starter.jar')
source=(starmade http://files.star-made.org/StarMade-Starter.jar starmade.install starmade.desktop starmade.png)
md5sums=('85563418b564b2d4c65aa7d0c0b6b8d5'
         '442394fdcf9d2249bb1eac8b33112039'
         'dc30250edbef38013b29f0db0aabd1ab'
         '527303d67adde2645ddcbe6931e56b69'
         'c3c2dbd8d734b40b7f464feb24ed0fb4')

install='starmade.install'

package() {
    cd "$srcdir" || return 1

# directories
mkdir ${pkgdir}/usr/
mkdir ${pkgdir}/usr/share/
mkdir ${pkgdir}/usr/share/pixmaps/
mkdir ${pkgdir}/usr/share/Starmade/
mkdir ${pkgdir}/usr/bin/

# launch executable and menu entry
install -D -m755 "${srcdir}/starmade"              "${pkgdir}/usr/bin/"
install -D -m644 "${srcdir}/starmade.desktop"      "${pkgdir}/usr/share/applications/starmade.desktop"
install -D -m644 "${srcdir}/starmade.png"          "${pkgdir}/usr/share/pixmaps/starmade.png"

# game installation
install -D -m644 "${srcdir}/StarMade-Starter.jar"  "${pkgdir}/usr/share/starmade/StarMade-Starter.jar"
}
