# Maintainer: Limao Luo <luolimao@gmail.com>
# Contributor: snostorm <snostormjp@gmail.com>

pkgname=illumination-software-creator
pkgver=5.0b2
pkgrel=2
pkgdesc="Illumination Software Creator: Graphical programming environment that generates source code for various targets (including ActionScript/Adobe Flex, Android, HTML/JS, and Python/GTK)"
url="http://lunduke.com/?page_id=3454"
arch=('i686' 'x86_64')
license=('freeware')
depends=('gtk2' 'desktop-file-utils' )
optdepends=(
    'pygtk: Needed for Python/GTK target'
    'eclipse-android: Needed for Android target'
    'android-sdk: Needed for Android target'
    'adobe-air-sdk: Needed for building Adobe Air/flex targets')

provides=('illumination')
if test "$CARCH" == x86_64; then
    depends+=('lib32-gtk2')
    optdepends+=(
	'lib32-libcanberra: To get rid of an annoying error'
	'lib32-gtk-engines: Needed to get a decent look & feel')
fi

install="illumination.install"

source=('http://www.lunduke.com/isc/beta/isc-5-beta-2-linux.tar.gz' 'http://lunduke.com/isc/illumination.tar.gz')
sha256sums=('9a63a68689014dd5158b7b0273894bc292007e44c4604beca5263872ce4681df' 'a15557ece84a8c654f3c4cd58a4118a108ed56beb1c0b4339595dfeb0dd89d6d')
sha512sums=('828ce762ab85720058bd05b98370a5d666c018f0924d7956f57355910e196bf07b6e9142c3453ac2fb06e280cc66d70a4a7448f6c9aca6b5ee06324b3c1b4a4d' '00a0d0f01da7e6bf2665dad287a757394e7477328d70625c10376d0a7a8e66c38413c99c9e4e82745616bf9ec2778f37d2e8d3213a70b3eec3ce60d5095c0914')

build() {
    tar xzf isc-5-beta-2-linux.tar.gz
    tar xzf illumination.tar.gz illumination/illumicon.png
    mkdir -p $srcdir/opt
    mv $srcdir/illumination $srcdir/opt/illumination
    mv $srcdir/opt $pkgdir/.
}

package() {
    install -dD $pkgdir/opt/* /opt/.
}
