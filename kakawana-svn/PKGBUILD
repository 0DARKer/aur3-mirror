# Maintainer: willemw <willemw12@gmail.com>

_pkgname=kakawana
pkgname=$_pkgname-svn
pkgver=212
pkgrel=1
pkgdesc="RSS reader specialized for comics"
arch=('any')
url="http://kakawana.googlecode.com/"
depends=('pyqt' 'python2-beautifulsoup4' 'python2-elixir' 
         'python2-httplib2' 'python2-keyring' 'python2-lxml'
         'python2-oauth2')    #python2-beautifulsoup3
makedepends=('svn')
license=('GPL2')
conflicts=($_pkgname)
provides=($_pkgname)
source=($pkgname::svn+http://kakawana.googlecode.com/svn/trunk/)
md5sums=('SKIP')

pkgver() {
  cd "$srcdir/$pkgname"
  svnversion | tr -d [A-z]
}

package() {
  cd "$srcdir/$pkgname"

  cd src/kakawana
  sh ./build.sh
  cd ../..

  python2 setup.py install --root="$pkgdir/"

  # Patch
  cd src/kakawana
  cp -r *.ui icons/ images/ templates/ \
        "$pkgdir/usr/lib/python2.7/site-packages/kakawana/"
}

