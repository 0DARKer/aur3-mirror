# Contributor: David Scholl <djscholl@gmail.com>
pkgname=xmlcopyeditor
pkgver=1.2.0.6
pkgrel=1
pkgdesc="XML editor based on Scintilla."
arch=('i686' 'x86_64')
url="http://xml-copy-editor.sourceforge.net"
license=('custom')
depends=('wxgtk' 'libxslt' 'xerces-c' 'enchant' 'aspell' 'curl')
makedepends=('boost')
source=(http://downloads.sourceforge.net/xml-copy-editor/$pkgname-$pkgver.tar.gz)
md5sums=('da83df89bf13947ad5e83f4dfec22539')

build() {
  cd $startdir/src/
  cd $pkgname-$pkgver
  ./configure --prefix=/usr
  make || return 1
  make DESTDIR=$startdir/pkg install || return 1
  install -d $startdir/pkg/usr/share/$pkgname
  cp -R $startdir/src/$pkgname-$pkgver/src/help $startdir/pkg/usr/share/$pkgname || return 1
  cp -R $startdir/src/$pkgname-$pkgver/src/png $startdir/pkg/usr/share/$pkgname || return 1
  cp -R $startdir/src/$pkgname-$pkgver/src/po $startdir/pkg/usr/share/$pkgname || return 1
  cp -R $startdir/src/$pkgname-$pkgver/src/rng $startdir/pkg/usr/share/$pkgname || return 1
  cp -R $startdir/src/$pkgname-$pkgver/src/rulesets $startdir/pkg/usr/share/$pkgname || return 1
  cp -R $startdir/src/$pkgname-$pkgver/src/templates $startdir/pkg/usr/share/$pkgname || return 1
  cp -R $startdir/src/$pkgname-$pkgver/src/xpm $startdir/pkg/usr/share/$pkgname  || return 1
  install -d $startdir/pkg/usr/share/licenses/$pkgname
  cp -R $startdir/src/$pkgname-$pkgver/src/copying/* $startdir/pkg/usr/share/licenses/$pkgname
}
