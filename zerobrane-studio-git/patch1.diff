--- a/src/util.lua	2014-06-19 03:55:20.000000000 +0200
+++ b/src/util.lua	2014-06-19 22:34:31.906982696 +0200
@@ -269,7 +269,9 @@
   return wx.wxCopyFile(file1, file2), wx.wxSysErrorMsg()
 end
 
-TimeGet = pcall(require, "socket") and socket.gettime or os.clock
+--TimeGet = pcall(require, "socket") and socket.gettime or os.clock
+local ok, socket = pcall(require, "socket")
+TimeGet = ok and socket.gettime or os.clock
 
 function isBinary(text) return text:find("[^\7\8\9\10\12\13\27\32-\255]") end
 
