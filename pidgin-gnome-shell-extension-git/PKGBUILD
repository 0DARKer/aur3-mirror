# Maintainer: Ștefan Săftescu <stefan.saftescu@gmail.com>
pkgname=pidgin-gnome-shell-extension-git
pkgver=20110504
pkgrel=1
epoch=
pkgdesc="A GNOME Shell extension that provides integration with Pidgin."
arch=('any')
url="http://fedorapeople.org/gitweb?p=izhar/public_git/hack-patches.git;a=tree;f=gnomeshell@pidgin.im"
license=('unknown')
groups=()
depends=()
makedepends=('git')
checkdepends=('gnome-shell' 'pidgin')
optdepends=()
provides=()
conflicts=()
replaces=()
backup=()
options=()
install=
changelog=
source=()
noextract=()
md5sums=()

_gitroot="git://fedorapeople.org/home/fedora/izhar/public_git/hack-patches.git"
_gitname="hack-patches"

build() {
  cd "$srcdir"
  msg "Connecting to GIT server...."

  if [ -d $_gitname ] ; then
    cd $_gitname && git pull origin
    msg "The local files are updated."
  else
    git clone $_gitroot $_gitname
  fi

  msg "GIT checkout done or server timeout"
}

package() {
  mkdir -p "$pkgdir/usr/share/gnome-shell/extensions/gnomeshell@pidgin.im"
  cd "$srcdir/$_gitname/gnomeshell@pidgin.im"
  cp extension.js metadata.json stylesheet.css "$pkgdir/usr/share/gnome-shell/extensions/gnomeshell@pidgin.im/"
} 
