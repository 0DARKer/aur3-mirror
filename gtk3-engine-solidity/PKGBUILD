pkgname=gtk3-engine-solidity
pkgver=0.3
pkgrel=1
pkgdesc="Solidity theme engine for GTK3"
arch=('i686' 'x86_64')
url="http://gnome-look.org/content/show.php?content=142331"
license=('GPL')
makedepends=('vala' 'gcc' 'make')
depends=('gtk3')
source=(http://gnome-look.org/CONTENT/content-files/142331-solidity-0.3.tar.bz2)
md5sums=('9ef0c4b8dd0e05ab9d79162121bed0d3')
build() {
  cd $srcdir
  #make || return 1
  gcc -shared -fPIC `pkg-config --cflags --libs glib-2.0 gmodule-2.0 gtk+-3.0` -o libsolidity.so solidity.c
  
  mkdir -p $pkgdir/usr/lib/gtk-3.0/3.0.0/theming-engines/
  cp libsolidity.so $pkgdir/usr/lib/gtk-3.0/3.0.0/theming-engines/
  mkdir -p $pkgdir/usr/share/themes/
  mv solidity $pkgdir/usr/share/themes/
  chmod -R 755 $pkgdir/usr/share/themes/solidity
  mv "solidity dark" $pkgdir/usr/share/themes/
  chmod -R 755 "$pkgdir/usr/share/themes/solidity dark"
}
