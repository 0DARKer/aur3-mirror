# Maintainer: Amaury Couste <amaury.couste@googlemail.com>
# Contributor: Jaroslav Lichtblau <dragonlord@aur.archlinux.org>
# Contributor: Douglas Soares de Andrade <dsa@aur.archlinux.org>
# Contributor: Federico Quagliata (quaqo) <quaqo@despammed.com>

pkgname=limewire
pkgver=5.5.10
pkgrel=2
pkgdesc="A popular gnutella client"
arch=('any')
url="http://www.limewire.com/"
license=('GPL')
depends=('java-runtime' 'libxt' 'ttf-dejavu')
source=(http://www10.limewire.com/download/LimeWireOther.zip \
        LimeWire.desktop \
        $pkgname )
md5sums=('4175c9becaf2cc62b361d1fecab6ba21'
         '4d6a841e9a549f1ae2580a88bbb2fa50'
         'f195f848649f399be29550b0c955e7b6')

build() {
  cd ${srcdir}

  install -d ${pkgdir}/usr/share/java/$pkgname || return 1
  cp -r LimeWire/* $pkgdir/usr/share/java/$pkgname || return 1
  install -D -m755 $pkgname $pkgdir/usr/bin/$pkgname || return 1
  install -D -m755 LimeWire.desktop $pkgdir/usr/share/applications/LimeWire.desktop || return 1
  
# Fixing permissions and removing uneeded files
  find $pkgdir/usr/share -type d -exec chmod 755 {} \; || return 1
  find $pkgdir/usr/share -type f -exec chmod 644 {} \; || return 1
  cd $pkgdir/usr/share/java/$pkgname
  rm -rf COPYING README.txt SOURCE Limewire.* limewire* runLime.sh
}
