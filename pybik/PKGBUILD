# Maintainer: archtux <antonio.arias99999@gmail.com>

pkgname=pybik
pkgver=0.4
pkgrel=2
pkgdesc="Pybik is a 3D interactive graphics puzzle. It renders an image of a magic cube (similar to a rubik cube) and you attempt to solve it."
url="https://launchpad.net/pybik"
arch=('any')
depends=('python-gtkglext' 'python2-numpy')
makedepends=('cython' 'gettext' 'intltool')
conflicts=('pybik-bzr')
source=(http://launchpad.net/pybik/trunk/$pkgver/+download/pybik-$pkgver.tar.gz)
license=('GPL3')
md5sums=('f92376ba8807ce5c2962faa2a90689a3')

build() {
   cd $srcdir/$pkgname-$pkgver

   # Python2 fix
   sed -i 's_#!/usr/bin/python_#!/usr/bin/python2_' setup.py ./tools/create_manpage.py

   python2 setup.py install --root=$pkgdir --optimize=1

   # Desktop icon
   install -Dm644 $startdir/pybik.desktop $pkgdir/usr/share/applications/pybik.desktop
}
