# Maintainer: Gregor Burger <burger.gregor at gmail>
pkgname=cusp
pkgver=0.1.2
pkgrel=3
pkgdesc="Cusp is a library for sparse linear algebra and graph computations on CUDA."
arch=('any')
url="http://code.google.com/p/thrust/"
license=('Apache 2.0')
depends=('cuda>=3.0' 'thrust>=1.3')
source=("http://cusp-library.googlecode.com/files/cusp-v0.1.2.zip")
md5sums=('bd8bae74311079ed1f361e4300f6be76')

build() {
  mkdir -p $pkgdir/usr/include
  cp -R $srcdir/cusp $pkgdir/usr/include/
  #remove non-include files
  rm $pkgdir/usr/include/cusp/CHANGELOG
  rm $pkgdir/usr/include/cusp/README
  rm $pkgdir/usr/include/cusp/LICENSE
  # set environment variable
  mkdir -p $pkgdir/etc/profile.d
  echo "export CUSP_PATH=/usr/include" > $pkgdir/etc/profile.d/cusp.sh
  chmod a+x $pkgdir/etc/profile.d/cusp.sh
}
