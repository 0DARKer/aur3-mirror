#Maintainer: DaZ <daz.root+arch@gmail.com> 
#Contributor: andy123 < ajs AT online DOT de >

pkgname=qtweb
pkgver=3.7.5.101
_pkgver=3.7.5
_pkgbuild=101
pkgrel=1
pkgdesc="lightweight, secure and portable browser based on qt and webkit"
arch=('i686' 'x86_64')
url=('http://qtweb.net')
license=('GPL')
depends=('qtwebkit')
makedepends=('unrar') #or 7z, or another program that can extract rars
source=(http://${pkgname}.googlecode.com/files/QtWeb_src_${_pkgver}-${_pkgbuild}.rar
    patch.diff)
noextract=(QtWeb_src_${_pkgver}-${_pkgbuild}.rar)

sha1sums=('d2422f189a67a26461890ece8cbb236de0ccd59f'
          'b9678c8962d7da2625dee50b80fe55ecab3974e1')
build(){
    cd $srcdir

    if [[ $NOEXTRACT = "0" ]]; then
        unrar x QtWeb_src_${_pkgver}-${_pkgbuild}.rar -y
        patch -p0 -i patch.diff
    fi

    cd QtWeb
    qmake 
    make
}

package(){
    mkdir -p $pkgdir/usr/bin/
    install $srcdir/QtWeb/release/QtWeb $pkgdir/usr/bin/$pkgname
}
