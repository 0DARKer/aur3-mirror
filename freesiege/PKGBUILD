
# Contributor: JoÃ«l Schaerer <joel.schaerer@laposte.net>
pkgname=freesiege
pkgver=0.2.3
pkgrel=1
pkgdesc="A tetris-like wargame"
arch=(i686 x86_64)
url="http://freesiege.sourceforge.net/"
license=('GPL')
depends=('sdl')
makedepends=('cmake')
source=("http://downloads.sourceforge.net/freesiege/${pkgname}-0.2-3-src.tar.gz")
md5sums=('fed8885ab0986e71c6c757300b6407c5')

build() {
  cd "$srcdir/$pkgname-src"
  patch -p2 < ../../algorithm.patch
  patch -p2 --ignore-whitespace < ../../basedir.patch
  cmake -DCMAKE_INSTALL_PREFIX:FILEPATH=/usr .
  make || return 1
  mkdir -p $pkgdir/usr/bin
  cp elements $pkgdir/usr/bin/freesiege
  mkdir -p $pkgdir/usr/share/$pkgname
  cp -r song.ogg *.cfg *.ttf anims sprites $pkgdir/usr/share/$pkgname
}

# vim:set ts=2 sw=2 et:
