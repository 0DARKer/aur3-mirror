# Contributor: Hiroshi Yui (hiroshiyui@gmail.com)

pkgname=ibus-array
pkgver=16
pkgrel=2
pkgdesc='Array 30 Input Method for iBus'
arch=('i686' 'x86_64')
url="http://code.google.com/p/ibus-array/"
license=('GPLv2')
depends=('ibus>=1.4.0' 'python2')
makedepends=('automake')
source=('20110827-ibus_config_get_value.diff')
sha256sums=('fe8b0cbbd150840687008afaf696930c2f0ff913491155501c619eeae413fe45')

_svntrunk=http://ibus-array.googlecode.com/svn/trunk/
_svnmod=ibus-array-read-only

build() {
  cd ${srcdir}
  
  svn co $_svntrunk --config-dir ./ -r $pkgver $_svnmod

  msg "SVN checkout done or server timeout"
  msg "Starting make..."

  cd $_svnmod

  export PYTHON='/usr/bin/python2'
  automake --add-missing
	./configure  --prefix=/usr
  patch -p 0 < ../../20110827-ibus_config_get_value.diff
	make || return 1
	make DESTDIR=$pkgdir install
}
