# Maintainer: Kochetkov Andrey <gornet@gmail.com>
pkgname=jeveassets
pkgver=2.4.0
pkgrel=1
everelname="inf" 
everelver=1.2.0
pkgdesc=" jEveAssets is an out-of-game asset manager for Eve-Online, written in Java"
arch=('any')
url="http://eve.nikr.net/jeveasset"
license=('GPL')
depends=('java-runtime')
source=(
  http://eve.nikr.net/$pkgname/$pkgname-$pkgver-${everelname}${everelver}.zip
  jeveassets
  jeveassets.desktop
)

build() {
  cd "$srcdir"
  
  # install binary and menu item
  install -m 644 -D jeveassets.desktop "$pkgdir/usr/share/applications/jeveassets.desktop"
  install -m 755 -D jeveassets "$pkgdir/usr/bin/jeveassets"
  
  cd "$srcdir/jEveAssets"
  
  #install docs
  install -m 644 -D readme.txt "$pkgdir/usr/share/doc/jeveassets/readme.txt"
  install -m 644 -D changelog.txt "$pkgdir/usr/share/doc/jeveassets/changelog.txt"
  install -m 644 -D credits.txt "$pkgdir/usr/share/doc/jeveassets/credits.txt"
  
  # copy license files
  install -d "$pkgdir/usr/share/licenses/jeveassets/"
  install -m 644 -D license.txt "$pkgdir/usr/share/licenses/jeveassets/"
  
  # install icon
  jar fx jeveassets.jar
  install -m 644 -D net/nikr/eve/jeveasset/gui/images/misc_assets_32.png "$pkgdir/usr/share/pixmaps/jeveassets.png"
  
  # copy library files
  install -d "$pkgdir/usr/share/java/jeveassets/lib/"
  install -m 755 lib/* -t "$pkgdir/usr/share/java/jeveassets/lib/"
  
  
  # copy main files
  install -m 755 jeveassets.jar "$pkgdir/usr/share/java/jeveassets/jeveassets.jar"
  cp -r data "$pkgdir/usr/share/java/jeveassets/"
}

md5sums=('0d74c8203ee7fd5ce1c651c26e2d351e'
         '303cab4643d046ccef5fc22e245242ad'
         '2f75e3ec47fa24a8e274e3e8f0aac997') #generate with 'makepkg -g'
