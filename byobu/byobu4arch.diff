diff -Naur byobu-3.34.orig/etc/byobu/socketdir byobu-3.34/etc/byobu/socketdir
--- byobu-3.34.orig/etc/byobu/socketdir	2011-05-04 01:49:09.640530262 +0200
+++ byobu-3.34/etc/byobu/socketdir	2011-05-04 01:49:22.913791689 +0200
@@ -7,4 +7,4 @@
 #  * the variable name is SOCKETDIR
 #  * there is no space around the "="
 #  * and that the path value is quoted
-SOCKETDIR="/var/run/screen"
+SOCKETDIR="/tmp/screens"
diff -Naur byobu-3.34.orig/etc/byobu/statusrc byobu-3.34/etc/byobu/statusrc
--- byobu-3.34.orig/etc/byobu/statusrc	2011-05-04 01:49:09.640530262 +0200
+++ byobu-3.34/etc/byobu/statusrc	2011-05-04 01:49:22.913791689 +0200
@@ -45,13 +45,14 @@
 processes=0
 raid=1
 rcs_cost=0
-reboot_required=1
+reboot_required=0
 release=1
-services=1
+services=0
 swap=0
 time=1
 time_binary=0
 time_utc=0
+trash=0
 users=0
 updates_available=1
 uptime=1
@@ -67,4 +68,5 @@
 #TEMP=F
 #DISTRO=Ubuntu
 #SERVICES="eucalyptus-nc|NC eucalyptus-cloud|CLC eucalyptus-walrus eucalyptus-cc|CC eucalyptus-sc|SC"
+NETWORK_UNITS=bytes
 # END_CUT_HERE
diff -Naur byobu-3.34.orig/usr/bin/byobu-config byobu-3.34/usr/bin/byobu-config
--- byobu-3.34.orig/usr/bin/byobu-config	2011-05-04 01:49:09.673863415 +0200
+++ byobu-3.34/usr/bin/byobu-config	2011-05-04 01:49:22.913791689 +0200
@@ -1,4 +1,4 @@
-#!/usr/bin/python
+#!/usr/bin/env python2
 #
 #    byobu-config
 #    Copyright (C) 2008 Canonical Ltd.
diff -Naur byobu-3.34.orig/usr/bin/byobu-select-session byobu-3.34/usr/bin/byobu-select-session
--- byobu-3.34.orig/usr/bin/byobu-select-session	2011-05-04 01:49:09.680530045 +0200
+++ byobu-3.34/usr/bin/byobu-select-session	2011-05-04 01:49:22.913791689 +0200
@@ -1,4 +1,4 @@
-#! /usr/bin/env python
+#!/usr/bin/env python2
 #
 #    byobu-select-session
 #    Copyright (C) 2010 Canonical Ltd.
diff -Naur byobu-3.34.orig/usr/lib/byobu/cpu_temp byobu-3.34/usr/lib/byobu/cpu_temp
--- byobu-3.34.orig/usr/lib/byobu/cpu_temp	2011-05-04 01:49:09.660530155 +0200
+++ byobu-3.34/usr/lib/byobu/cpu_temp	2011-05-04 01:49:22.917125004 +0200
@@ -23,6 +23,7 @@
 [ "$UTF8" = "1" ] && ICON_C="℃" || ICON_C="C"
 [ "$UTF8" = "1" ] && ICON_F="℉" || ICON_F="F"
 
+# Archlinux: this doesn't exist on recent linux kernel (aka Arch's current 2.6.37)
 DIR="/proc/acpi/thermal_zone"
 if [ "$1" = "--detail" ] && [ -d "$DIR" ]; then
 	for i in "$DIR"/*; do
@@ -33,6 +34,7 @@
 	exit 0
 fi
 
+# Archlinux: same here, /proc/acpi/ibm doesn't exist on Arch
 for i in $MONITORED_TEMP /sys/class/hwmon/hwmon*/temp*_input /proc/acpi/ibm/thermal $DIR/*/temperature; do
 	case "$i" in
 		*temp*_input)
diff -Naur byobu-3.34.orig/usr/lib/byobu/custom byobu-3.34/usr/lib/byobu/custom
--- byobu-3.34.orig/usr/lib/byobu/custom	2011-05-04 01:49:09.657196839 +0200
+++ byobu-3.34/usr/lib/byobu/custom	2011-05-04 01:49:22.917125004 +0200
@@ -23,7 +23,7 @@
 [ -d "$DATA/bin" ] || exit 0
 color 2>/dev/null || color() { true; }
 
-[ -d "/var/run/screen/S-$USER" ] && DIR="/var/run/screen/S-$USER" || DIR="$DATA"
+[ -d "/tmp/screens/S-$USER" ] && DIR="/tmp/screens/S-$USER" || DIR="$DATA"
 NOW=$(date +%s)
 CACHE="$DIR/$PKG.custom"
 
diff -Naur byobu-3.34.orig/usr/lib/byobu/disk_io byobu-3.34/usr/lib/byobu/disk_io
--- byobu-3.34.orig/usr/lib/byobu/disk_io	2011-05-04 01:49:09.667196785 +0200
+++ byobu-3.34/usr/lib/byobu/disk_io	2011-05-04 01:49:22.917125004 +0200
@@ -41,7 +41,7 @@
 	exit 0
 fi
 
-[ -d "/var/run/screen/S-$USER" ] && DIR="/var/run/screen/S-$USER" || DIR="$DATA"
+[ -d "/tmp/screens/S-$USER" ] && DIR="/tmp/screens/S-$USER" || DIR="$DATA"
 t2=`date +%s`
 for i in "read" "write"; do
 	cache="$DIR/$PKG.disk_$i"
diff -Naur byobu-3.34.orig/usr/lib/byobu/hostname byobu-3.34/usr/lib/byobu/hostname
--- byobu-3.34.orig/usr/lib/byobu/hostname	2011-05-04 01:49:09.657196839 +0200
+++ byobu-3.34/usr/lib/byobu/hostname	2011-05-04 01:49:22.917125004 +0200
@@ -29,4 +29,4 @@
 . "$DATA/status"
 [ "$whoami" = "1" ] && at="@"
 
-printf "$(color bold2)%s%s$(color -)" "$at" $(hostname -s 2>/dev/null || hostname)
+printf "$(color bold2)%s%s$(color -)" "$at" $(hostname 2>/dev/null)
diff -Naur byobu-3.34.orig/usr/lib/byobu/ip_address byobu-3.34/usr/lib/byobu/ip_address
--- byobu-3.34.orig/usr/lib/byobu/ip_address	2011-05-04 01:49:09.657196839 +0200
+++ byobu-3.34/usr/lib/byobu/ip_address	2011-05-04 01:49:22.917125004 +0200
@@ -23,8 +23,8 @@
 
 if [ "$1" = "--detail" ]; then
 	[ -x /sbin/ifconfig ] && /sbin/ifconfig
-	/sbin/ip -4 addr list
-	/sbin/ip -6 addr list
+	/usr/sbin/ip -4 addr list
+	/usr/sbin/ip -6 addr list
 	exit 0
 fi
 
@@ -44,14 +44,14 @@
 
 case "$IPV6" in
 	1|true|yes)
-		ipaddr=$(LC_ALL=C /sbin/ip -6 addr list dev "$interface" scope global)
+		ipaddr=$(LC_ALL=C /usr/sbin/ip -6 addr list dev "$interface" scope global)
 		# Print 'None' if we have no global address
 		[ -z "$ipaddr" ] && ipaddr="None"
 		ipaddr=${ipaddr#* inet6 }
 		ipaddr=${ipaddr%%/*}
 	;;
 	*)
-		ipaddr=$(LC_ALL=C /sbin/ip -4 addr list dev "$interface" scope global)
+		ipaddr=$(LC_ALL=C /usr/sbin/ip -4 addr list dev "$interface" scope global)
 		ipaddr=${ipaddr#* inet }
 		ipaddr=${ipaddr%%/*}
 	;;
diff -Naur byobu-3.34.orig/usr/lib/byobu/network byobu-3.34/usr/lib/byobu/network
--- byobu-3.34.orig/usr/lib/byobu/network	2011-05-04 01:49:09.670530100 +0200
+++ byobu-3.34/usr/lib/byobu/network	2011-05-04 01:49:22.917125004 +0200
@@ -35,7 +35,7 @@
 	exit 0
 fi
 
-[ -d "/var/run/screen/S-$USER" ] && DIR="/var/run/screen/S-$USER" || DIR="$DATA"
+[ -d "/tmp/screens/S-$USER" ] && DIR="/tmp/screens/S-$USER" || DIR="$DATA"
 t2=`date +%s`
 for i in up down; do
 	unit="kbps"
diff -Naur byobu-3.34.orig/usr/lib/byobu/reboot_required byobu-3.34/usr/lib/byobu/reboot_required
--- byobu-3.34.orig/usr/lib/byobu/reboot_required	2011-05-04 01:49:09.660530155 +0200
+++ byobu-3.34/usr/lib/byobu/reboot_required	2011-05-04 01:49:22.917125004 +0200
@@ -22,7 +22,7 @@
 color 2>/dev/null || color() { true; }
 
 reboot="/var/run/reboot-required"
-[ -d "/var/run/screen/S-$USER" ] && DIR="/var/run/screen/S-$USER" || DIR="$DATA"
+[ -d "/tmp/screens/S-$USER" ] && DIR="/tmp/screens/S-$USER" || DIR="$DATA"
 reload="$DIR/$PKG.reload-required"
 case "$1" in
 	--detail)
diff -Naur byobu-3.34.orig/usr/lib/byobu/release byobu-3.34/usr/lib/byobu/release
--- byobu-3.34.orig/usr/lib/byobu/release	2011-05-04 01:49:09.647196892 +0200
+++ byobu-3.34/usr/lib/byobu/release	2011-05-04 01:49:22.920458319 +0200
@@ -38,6 +38,9 @@
 		Debian*)
 			DISTRO="Debian $(cat /etc/debian_version)"
 		;;
+		Arch*)
+			DISTRO="ArchLinux"
+		;;
 		*)
 			DISTRO=$(echo "$issue" | sed "s/ [^0-9]* / /" | awk '{print $1 " " $2}')
 		;;
diff -Naur byobu-3.34.orig/usr/lib/byobu/updates_available byobu-3.34/usr/lib/byobu/updates_available
--- byobu-3.34.orig/usr/lib/byobu/updates_available	2011-05-04 01:49:09.657196839 +0200
+++ byobu-3.34/usr/lib/byobu/updates_available	2011-05-04 01:49:22.920458319 +0200
@@ -17,6 +17,8 @@
 #    You should have received a copy of the GNU General Public License
 #    along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
+# Archlinux: this is clearly apt-dependant, thus unadapted for Arch
+
 PKG="byobu"
 DATA="$HOME/.$PKG"
 color 2>/dev/null || color() { true; }
@@ -98,7 +100,7 @@
 	return 1
 }
 
-[ -d "/var/run/screen/S-$USER" ] && DIR="/var/run/screen/S-$USER" || DIR="$DATA"
+[ -d "/tmp/screens/S-$USER" ] && DIR="/tmp/screens/S-$USER" || DIR="$DATA"
 mycache="$DIR/$PKG.updates-available"
 
 # If mycache is present, use it
diff -Naur byobu-3.34.orig/usr/lib/byobu/wifi_quality byobu-3.34/usr/lib/byobu/wifi_quality
--- byobu-3.34.orig/usr/lib/byobu/wifi_quality	2011-05-04 01:49:09.643863577 +0200
+++ byobu-3.34/usr/lib/byobu/wifi_quality	2011-05-04 01:49:22.920458319 +0200
@@ -22,11 +22,11 @@
 [ "$UTF8" = "1" ] && ICON="⚚" || ICON=
 
 if [ "$1" = "--detail" ]; then
-	/sbin/iwconfig 2>/dev/null
+	/usr/sbin/iwconfig 2>/dev/null
 	exit 0
 fi
 
-iwconfig=`/sbin/iwconfig $MONITORED_NETWORK 2>/dev/null`
+iwconfig=`/usr/sbin/iwconfig $MONITORED_NETWORK 2>/dev/null`
 bitrate=`echo "$iwconfig" | grep "Bit Rate." | sed -e "s/^.*Bit Rate.//" -e "s/ .*$//g"`
 [ -z "$bitrate" ] && bitrate="0"
 quality=`echo "$iwconfig" | grep "Link Quality." | sed -e "s/^.*Link Quality.//" -e "s/ .*$//g"`
diff -Naur byobu-3.34.orig/usr/share/byobu/profiles/common byobu-3.34/usr/share/byobu/profiles/common
--- byobu-3.34.orig/usr/share/byobu/profiles/common	2011-05-04 01:49:09.690529991 +0200
+++ byobu-3.34/usr/share/byobu/profiles/common	2011-05-04 01:49:22.920458319 +0200
@@ -105,8 +105,11 @@
 fit
 
 # Preserve splits; requires a pretty recent screen version (works on Debian/Ubuntu)
-layout save byobu
-layout autosave
+# Archlinux: this is a screen feature that is not yet released upstream...
+# On Debian, they patched the latest release (4.0.3) with patches from the git repo
+# Just disabling it, and wait for the next release of screen
+#layout save byobu
+#layout autosave
 
 # Maintain SSH_AUTH_SOCK link
 setenv SSH_AUTH_SOCK $HOME/.byobu/.ssh-agent
