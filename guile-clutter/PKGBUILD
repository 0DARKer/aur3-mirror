# Contributor: tantalum <mail at thaseph.de>
pkgname=guile-clutter
pkgver=0.8.0
pkgrel=1
pkgdesc='Guile Scheme bindings for the Clutter graphics library'
arch=('i686' 'x86_64')
license=('GPL2')
depends=('guile>=1.6.4' 'g-wrap>=1.9.1' 'clutter>=0.7' 'guile-gnome-platform>=2.16.1')
#not g-wrap 1.9.2, and specifically only guile-gnome-lib, but which is included in guile-gnome-platform
url='http://ftp.gnu.org/pub/gnu/guile-gnome'
source=(${url}/${pkgname}/${pkgname}-${pkgver}.tar.gz)
md5sums=('735196c4fa5782b9295ad70ade69deea')
build(){
 cd ${srcdir}/${pkgname}-${pkgver}
 
 #setting cppflags because of "ffi.h not found" error
 export CPPFLAGS=$(pkg-config --cflags libffi)

 ./configure --prefix=/usr ||return 1
 make ||return 1
 make DESTDIR=${pkgdir} install ||return 1

 #remove documentation
 if [ -e ${pkgdir}/usr/share/info/dir ]; then
  rm ${pkgdir}/usr/share/info/dir
 fi
}
