# Contributor: Carl Mueller  archlinux at carlm e4ward com
# 
# Tiling window managers have trouble with vifm, which shows up
# in only part of the window.  This patch fixes the problem. 

pkgname=vifm-for-tiling-wm
_pkgname=vifm
pkgver=0.5
pkgrel=1
pkgdesc="vifm file manager for tiling window managers"
arch=('i686' 'x86_64')
url="http://vifm.sourceforge.net/"
license=('GPL')
replaces=('vifm')
depends=('ncurses')
source=(http://downloads.sourceforge.net/$_pkgname/$_pkgname-$pkgver.tar.bz2)
md5sums=('76818f02d6acd4997d1f41db932438aa')

build() {
   cd ${srcdir}/$_pkgname-$pkgver
   sed -i '284a \
   	\/* Redraw window. *\/\
	redraw_window();\
	curs_set(0);\
	' src/vifm.c
   ./configure --prefix=/usr
   make || return 1
   make DESTDIR=${pkgdir} install
}
