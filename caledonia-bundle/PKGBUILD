# Mantainer: Cippaciong <lacapannadelloziotom@gmail.com>

pkgname=caledonia-bundle
pkgver=1.0.0
pkgrel=3
pkgdesc="A bundle with all Caledonia customizations: plymouth, ksplash, kdm, plasma themes, icons, colors scheme and wallpapers"
arch=('any')
url=(http://malcer.deviantart.com/)
license=('wallpapers: various CC-BY; caledonia tux: GPL; remaining: CC-BY-SA')
depends=('kdebase-workspace')
makedepends=()
source=('http://kde-look.org/CONTENT/content-files/143641-caledonia-tux.tar.bz2'
        'http://kde-look.org/CONTENT/content-files/143576-Caledonia-KSplash.tar.gz'
        'http://kde-look.org/CONTENT/content-files/143130-Caledonia-KDM.tar.gz'
        'http://www.deviantart.com/download/220705168/caledonia_official_wallpapers_by_malcer-d3neh74.zip'
        'http://kde-look.org/CONTENT/content-files/142424-Caledonia.tar.gz'
        'http://switch.dl.sourceforge.net/project/caledonia/Caledonia%20Icons/Caledonia-Icons.tar.gz'
        'https://opendesktop.org/CONTENT/content-files/146223-Caledonia.colors'
        'fix-plymouth-path.patch')

md5sums=('d0eae27df6add846329cecdce15d967c'  # caledonia-tux
         '07462ebf696ffbfc44a8e29bc9eeab5f'  # Caledonia-KSplash
         '8dad3b0299bcc9029fdb3081f1c83826'  # Caledonia-KDM
         'cc8e3c369fa81ec14405eb8470e192f8'  # wallpapers
         'e49483c146bc6232cf759ac6666c7f7f'  # plasma theme 
         '0bdc6c272f2452945030f80b64aafea7'  # icons
         '7052da2c2cfa00b1f39f133a371dace1'  # color scheme
         '17cf3892feeca8208f5be832ecc74893')

screenshot=('http://kde-look.org/CONTENT/content-pre1/142424-1.jpeg')

package() {
  mkdir -p $pkgdir/usr/share/apps/kdm/themes/caledonia
  chmod 755 -R $pkgdir/usr/share/apps/kdm/themes
  mkdir -p $pkgdir/usr/share/apps/ksplash/Themes/caledonia
  chmod 755 -R $pkgdir/usr/share/apps/ksplash/Themes
  mkdir -p $pkgdir/usr/share/plymouth/themes/caledonia-tux
  chmod 755 -R $pkgdir/usr/share/plymouth/themes
  mkdir -p $pkgdir/usr/share/wallpapers
  chmod 755 -R $pkgdir/usr/share/wallpapers
  mkdir -p $pkgdir/usr/share/apps/desktoptheme/Caledonia
  chmod 755 -R $pkgdir/usr/share/apps/desktoptheme
  mkdir -p $pkgdir/usr/share/icons/Caledonia
  chmod 755 -R $pkgdir/usr/share/icons/Caledonia
  mkdir -p $pkgdir/usr/share/apps/color-schemes
  chmod 755 -R $pkgdir/usr/share/apps/color-schemes
  
  cd ${srcdir}/Caledonia-KDM
  cp -rf * $pkgdir/usr/share/apps/kdm/themes/caledonia
  
  cd ${srcdir}/Caledonia-KSplash
  cp -rf * $pkgdir/usr/share/apps/ksplash/Themes/caledonia

  cd ${srcdir}/caledonia-tux
  patch -Np1 -i ../fix-plymouth-path.patch
  cp -rf * $pkgdir/usr/share/plymouth/themes/caledonia-tux

  cd ${srcdir}/Caledonia_Official_Wallpaper_Collection
  rm README
  cp -rf * $pkgdir/usr/share/wallpapers

  cd ${srcdir}/Caledonia
  cp -rf * $pkgdir/usr/share/apps/desktoptheme/Caledonia

  cd ${srcdir}/Caledonia-Icons
  cp -rf * $pkgdir/usr/share/icons/Caledonia

  cd ${srcdir}
  cp 146223-Caledonia.colors $pkgdir/usr/share/apps/color-schemes/Caledonia.colors
}
