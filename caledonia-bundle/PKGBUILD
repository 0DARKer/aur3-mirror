# Contributor: Giuseppe Cal√† <jiveaxe@gmail.com>

pkgname=caledonia-bundle
pkgver=0.9.8
pkgrel=1
pkgdesc="A bundle with all Caledonia customizations: plymouth, ksplash, kdm, plasma themes and wallpapers"
arch=('any')
url=(http://malcer.deviantart.com/)
license=('GPL')
depends=('kdebase-workspace')
makedepends=('automoc4' 'cmake')
source=('http://kde-look.org/CONTENT/content-files/143641-caledonia-tux.tar.bz2'
        'http://kde-look.org/CONTENT/content-files/143576-Caledonia-KSplash.tar.gz'
        'http://kde-look.org/CONTENT/content-files/143130-Caledonia-KDM.tar.gz'
        'http://www.deviantart.com/download/220705168/caledonia_official_wallpapers_by_malcer-d3neh74.zip'
        'http://kde-look.org/CONTENT/content-files/142424-Caledonia-0.9.8.tar.gz'
        'fix-plymouth-path.patch')

md5sums=('d0eae27df6add846329cecdce15d967c'  # caledonia-tux
         '2073a8860b5e9ae726dcf9d43edbbd72'  # Caledonia-KSplash
         '0017d36d6de6be618d9eba7a3fdcced4'  # Caledonia-KDM
         'e920f754c825aa4f9adba111a5054a79'  # wallpapers
         '9c582106b3833ce653703098081ad63a'  # plasma theme
         '17cf3892feeca8208f5be832ecc74893')

screenshot=('http://kde-look.org/CONTENT/content-pre1/142424-1.jpeg')

package() {
  mkdir -p $pkgdir/usr/share/apps/kdm/themes/caledonia
  chmod 755 -R $pkgdir/usr/share/apps/kdm/themes
  mkdir -p $pkgdir/usr/share/apps/ksplash/Themes/caledonia
  chmod 755 -R $pkgdir/usr/share/apps/ksplash/Themes
  mkdir -p $pkgdir/usr/share/plymouth/themes/caledonia-tux
  chmod 755 -R $pkgdir/usr/share/plymouth/themes
  mkdir -p $pkgdir/usr/share/wallpapers
  chmod 755 -R $pkgdir/usr/share/wallpapers
  mkdir -p $pkgdir/usr/share/apps/desktoptheme/Caledonia
  chmod 755 -R $pkgdir/usr/share/apps/desktoptheme

  cd ${srcdir}/Caledonia-KDM
  cp -rf * $pkgdir/usr/share/apps/kdm/themes/caledonia
  
  cd ${srcdir}/Caledonia-KSplash
  cp -rf * $pkgdir/usr/share/apps/ksplash/Themes/caledonia

  cd ${srcdir}/caledonia-tux
  patch -Np1 -i ../fix-plymouth-path.patch
  cp -rf * $pkgdir/usr/share/plymouth/themes/caledonia-tux

  cd ${srcdir}/Caledonia_Official_Wallpaper_Collection
  rm README
  cp -rf * $pkgdir/usr/share/wallpapers

  cd ${srcdir}/Caledonia
  cp -rf * $pkgdir/usr/share/apps/desktoptheme/Caledonia
}
