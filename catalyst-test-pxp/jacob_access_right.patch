--- 13.8/common/lib/modules/fglrx/build_mod/firegl_public.c
+++ 13.8/common/lib/modules/fglrx/build_mod/firegl_public.c
@@ -821,7 +821,7 @@
     KCL_DEBUG1(FN_FIREGL_PROC, "minor %d, proc_list 0x%08lx\n", minor, (unsigned long)proc_list);
     if (!minor)
     {
-        root = KCL_create_proc_dir(NULL, "ati", S_IFDIR);
+        root = KCL_create_proc_dir(NULL, "ati", S_IRUGO|S_IXUGO);
     }

     if (!root)
@@ -847,7 +847,7 @@
     }

     sprintf(name, "%d", minor);
-    *dev_root = KCL_create_proc_dir(root, name, S_IFDIR);
+    *dev_root = KCL_create_proc_dir(root, name, S_IRUGO|S_IXUGO);
     if (!*dev_root) {
         KCL_remove_proc_dir_entry(root, "major");
         KCL_remove_proc_dir_entry(NULL, "ati");
@@ -6420,7 +6420,7 @@
 #else
     if (fops)
     {
-        ent = proc_create_data(name, S_IFREG|S_IRUGO, (struct proc_dir_entry *)root_dir, (struct file_operations*)fops, private_data);
+        ent = proc_create_data(name, access_mode, (struct proc_dir_entry *)root_dir, (struct file_operations*)fops, private_data);
     }
 #endif
     return ent;
