# Maintainer: Miguel Aguilar <zodiac_es@yahoo.es>
pkgname=gnome-shell-extension-workspace-indicator
_realname=workspace-indicator
pkgver=20110525
pkgrel=1
pkgdesc="Workspace-indicator extension for GNOME Shell"
arch=('i686' 'x86_64')
url="https://github.com/erick2red/shell-extensions"
license=('GPL2')

depends=('gnome-shell' 'gtk3')
makedepends=('git')

provides=("${_realname}")

options=(!libtool !emptydirs)

_gitroot="git://github.com/erick2red/shell-extensions"
_gitname="shell-extensions"

build() {

    cd ${srcdir}/

    msg "Connecting to the GIT server..."
    if [[ -d ${srcdir}/${_gitname} ]] ; then
    	cd ${_gitname}
    	git pull origin
    	msg "The local files are updated..."
    else
    	git clone ${_gitroot} ${_gitname}
    fi

    msg "GIT checkout done."

    msg2 "Starting make for: ${pkgname}"

  cd "$srcdir/shell-extensions"
  #  mv "workspace-indicator@erick.red.gmail.com" "usr/share/gnome-shell/extensions"
  mkdir -p "$pkgdir/usr/share/gnome-shell/extensions/"
  cp -R "workspace-indicator@erick.red.gmail.com" "$pkgdir/usr/share/gnome-shell/extensions"
}
