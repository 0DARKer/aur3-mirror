# Maintainer: Aron Asor <aronasorman at gmail.com>
# IPython2 Maintainer: Chris Brannon <chris@the-brannons.com>
# Contributor : Douglas Soares de Andrade <dsa@aur.archlinux.org>

pkgname=ipython3-git
pkgver=20110312
pkgrel=1
arch=('any')
url="http://ipython.scipy.org/"
license=('BSD')
depends=('python' 'git')
#conflicts=('ipython' 'ipython-docs')
_gitroot='https://github.com/ipython/ipython-py3k.git'
_gitname='ipython-py3k'

build() {
    true
}

package() {
  pkgdesc="An enhanced Interactive Python shell."
  depends=('python')
  optdepends=("wxpython: needed for ipythonx and ipython-wx"
              "python-nose: if you want to run IPython's test suite")

  cd "$srcdir/"

  if [[ -d $_gitname ]]; then
      (cd $_gitname && git pull origin)
  else
      git clone --depth 1 $_gitroot $_gitname
  fi

  rm -rf  ${_gitname}.build
  cp -r ${_gitname} ${_gitname}.build
  cd ${_gitname}.build

  python setup.py install --prefix=/usr --root="$pkgdir" --optimize=1
  mv "$pkgdir/usr/share/doc/ipython" "$pkgdir/usr/share/doc/ipython3"
}
