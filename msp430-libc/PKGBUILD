# Contributor: Rick W. Chen <stuffcorpse at archlinux dot us>

pkgname=msp430-libc
pkgver=20110130
pkgrel=1
pkgdesc="C runtime library for the MSP430 family of microcontrollers"
arch=('i686' 'x86_64')
url="http://mspgcc4.sourceforge.net/"
license=('GPL')
depends=('gcc-msp430=4.4.5-2')
source=("http://sourceforge.net/projects/mspgcc4/files/msp430-libc/msp430-libc-ti_${pkgver}.tar.bz2")
md5sums=('c1459e96a8e5fc09b3e574fdfc0cda82')

build() {
  msg "Building msp430-libc"
  
  cd ${srcdir}/${pkgname}-ti_${pkgver}/src
  make PREFIX=/usr
}

package() {
  msg "Begin packaging"

  cd ${srcdir}/${pkgname}-ti_${pkgver}/src
  mkdir -p ${pkgdir}/usr/msp430/lib
  make -j1 install PREFIX=${pkgdir}/usr

  _docdir=${pkgdir}/usr/share/doc/${pkgname}
  cd ${srcdir}/${pkgname}-ti_${pkgver}/doc
  install -Dm644 devheaders.txt ${_docdir}/devheaders.txt
  install -Dm644 volatil        ${_docdir}/volatile.txt
}

# vim:set sts=2 ts=2 sw=2 et:
