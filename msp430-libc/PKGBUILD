# Contributor: Rick W. Chen <stuffcorpse at archlinux dot us>

pkgname=msp430-libc
pkgver=20110213
pkgrel=3
pkgdesc="C runtime library for the MSP430 family of microcontrollers"
arch=('i686' 'x86_64')
url="http://mspgcc4.sourceforge.net/"
license=('GPL')
depends=('gcc-msp430')
options=(!strip)
source=("http://sourceforge.net/projects/mspgcc4/files/msp430-libc/msp430-libc-ti_${pkgver}.tar.bz2")
sha1sums=('06d391fc30d4e499dfe7080556c20d2bb7a703ea')
md5sums=('71c1524430a007391e6f10053123d23f')

build() {
  msg "Building msp430-libc"
  
  cd ${srcdir}/${pkgname}-ti_${pkgver}/src
  make PREFIX=/usr
}

package() {
  msg "Begin packaging"

  cd ${srcdir}/${pkgname}-ti_${pkgver}/src
  mkdir -p ${pkgdir}/usr/msp430/lib
  make -j1 install PREFIX=${pkgdir}/usr

  _docdir=${pkgdir}/usr/share/doc/${pkgname}
  cd ${srcdir}/${pkgname}-ti_${pkgver}/doc
  install -Dm644 devheaders.txt ${_docdir}/devheaders.txt
  install -Dm644 volatil        ${_docdir}/volatile.txt
}

# vim:set sts=2 ts=2 sw=2 et:
