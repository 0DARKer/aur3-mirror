# Contributor: Katharina Brandl <kathi.brandl@gmx.de>
pkgname=tecomp
pkgver=0_6_1
pkgrel=1
pkgdesc="an eiffel compiler"
arch=(i686 x86_64)
url="http://tecomp.sourceforge.net"
license=('GPL')
depends=(gcc-libs)
makedepends=(make gcc)
source=("http://downloads.sourceforge.net/$pkgname/${pkgname}_${pkgver}.tar.gz")
md5sums=('5e1aa19b9560b7d49230ed6cc06404c6')    

build() {
  cd "$srcdir/$pkgname"
  make  unix || return 1
  make tecomp || return 1
  make atecomp || return 1
#create directories if not already existent
  mkdir -p $pkgdir/usr/bin $pkgdir/usr/lib/$pkgname /$pkgdir/usr/share/$pkgname
#install binaries  
  install $srcdir/$pkgname/gen_dir/bin/tecomp $pkgdir/usr/bin/tecomp
  install $srcdir/$pkgname/gen_dir/bin/atecomp $pkgdir/usr/bin/atecomp
#install library to /usr/lib/tecomp
  cp -r $srcdir/$pkgname/library $pkgdir/usr/lib/$pkgname
#install docs and examples to /usr/share/tecomp
  cp -r $srcdir/$pkgname/examples $srcdir/$pkgname/doc/07_the_eiffel_programming_language/tutorial.txt $srcdir/$pkgname/README $pkgdir/usr/share/$pkgname
}

# vim:set ts=2 sw=2 et:
