 
# Maintainer: Jeff Youdontneedtoknow <jeffpublicjr at gmail dot com>
pkgname=opentx-companion
pkgver=2.0.5
pkgrel=1
pkgdesc="EEPROM Editor for OpenTX RC transmitter firmwares"
arch=('x86_64')
url="http://www.open-tx.org/"
license=('GPL')
depends=('phonon' 'qt4' 'sdl')
makedepends=('subversion' 'cmake' 'xsd')
provides=('companion')
conflicts=('companion' 'companion9x-svn')
source=('https://github.com/opentx/opentx/archive/2.0.5.tar.gz')
md5sums=('9b88b05443825f15429cb687a18048ba')

build() {
  cd "${srcdir}/opentx-2.0.5/companion"
  mkdir lbuild
  cd lbuild
  cmake ../src
  make clean
  make
}

package() {
  cd "${srcdir}/opentx-2.0.5/companion/"
  install -Dm755 lbuild/companion "$pkgdir/usr/bin/companion"
  install -Dm644 src/companion.desktop "$pkgdir/usr/share/applications/companion.desktop"
  install -Dm644 src/icon.png "$pkgdir/usr/share/icons/companion.png"
}


