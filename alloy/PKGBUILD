# Alloy is developed by the Software Design Group at MIT.
# See http://sdg.csail.mit.edu/ or http://alloy.mit.edu
# Maintainer: Rodney Price <rod@thirdoption.info>

pkgname="alloy"
pkgver=4.1.10
pkgrel=1 
pkgdesc="A lightweight modelling language for software design."
url="http://alloy.mit.edu/alloy4/"
arch=('i686' 'x86_64')
license=('MIT')
depends=('java-runtime')
makedepends=()
conflicts=()
replaces=()
backup=()
install=alloy.install
source=("http://alloy.mit.edu/alloy4/${pkgname}4.jar" 
        "alloy" "alloy.sh" "alloy.install")
md5sums=('5893b41934de4d339f9b15e2c254e10c' 'df91401eca5ee97d4c36313899202cf9'\
         '2ea64ddc7c9cf6ddaf5b54fa056a27b4' '2dc90f53c824b6cbb807192bbf5d957a')
build() {
  mkdir -p ${pkgdir}/usr/share/alloy
  mkdir -p ${pkgdir}/usr/bin
  mkdir -p ${pkgdir}/etc/profile.d
  cd ${srcdir}
  install -m 644 -D alloy4.jar ${pkgdir}/usr/share/alloy/
  install -m 755 -D ../alloy ${pkgdir}/usr/bin/
  install -m 755 -D ../alloy.sh ${pkgdir}/etc/profile.d
  # Link to location of binary package file
  if [ ${PKGDEST} -ne ${startdir} ]; then
    ln -s ${PKGDEST}/${pkgname}-${pkgver}-${pkgrel}-${CARCH}.pkg.tar.gz \
          ${startdir}/${pkgname}-${pkgver}-${pkgrel}-${CARCH}.pkg.tar.gz
  fi
}
