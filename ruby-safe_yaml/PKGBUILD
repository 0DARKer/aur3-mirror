# Contributor: oliparcol <oliparcol AT gmail DOT com>
gemname=safe_yaml
pkgname=ruby-${gemname}
pkgver=0.9.1
pkgrel=1
pkgdesc="Parse YAML safely, without that pesky arbitrary object deserialization vulnerability"
arch=(any)
url="http://dtao.github.com/safe_yaml/"
license=('MIT')
depends=(ruby)
makedepends=(rubygems)
source=(http://rubygems.org/downloads/${gemname}-$pkgver.gem
        LICENSE)
noextract=(${gemname}-$pkgver.gem)
build() {
        cd $srcdir
        local _gemdir="$(ruby -rubygems -e'puts Gem.default_dir')"

        gem install --no-user-install --ignore-dependencies -i "$pkgdir$_gemdir" ${gemname}-$pkgver.gem -n "$pkgdir/usr/bin"

        install -Dm644 LICENSE "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
}
sha256sums=('680de329898475266c02849a7fea39306d05a800ed86df740c3797dfa8ebe56a'
            'ce58952f25cc38983b8b9cbb71ff91c68a8f1944402a30dccd21b5e8e1d7086d')
