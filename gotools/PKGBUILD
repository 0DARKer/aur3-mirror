# Maintainer: Jan RÃ¼egg <rggjan@gmail.com>
pkgname=gotools
pkgver=4.0.1
pkgrel=1
pkgdesc="GoTools is the name of a collection of C++ libraries related to geometry"
arch=('i686' 'x86_64')
url="http://www.sintef.no/Projectweb/Geometry-Toolkits/GoTools/"
license=('unknown')
depends=()
makedepends=('cmake')
source=("http://www.sintef.no/upload/IKT/9011/geometri/GoTools/GoTools-$pkgver.tar.gz" "patch.txt")
md5sums=('97f76ab3fd0e73540170322d743dfbbc'
         '87dfb7b3aba96c04490c0d0c6282c769') #generate with 'makepkg -g'

build() {
  cd "$srcdir/GoTools-$pkgver"
  patch -p1 < ../../patch.txt
  
  rm -rf build
  mkdir build
  cd build
  cmake -DCMAKE_INSTALL_PREFIX:PATH="$pkgdir/usr/" -DGoTools_COMPILE_APPS=false -DGoTools_COMPILE_MODULE_compositemodel=false -DGoTools_COMPILE_MODULE_igeslib=false -DGoTools_COMPILE_MODULE_implicitization=false -DGoTools_COMPILE_MODULE_intersections=false -DGoTools_COMPILE_MODULE_parametrization=false -DGoTools_COMPILE_MODULE_topology=false -DGoTools_COMPILE_MODULE_trivariate=false -DGoTools_COMPILE_MODULE_trivariatemodel=false -DGoTools_COMPILE_MODULE_viewlib=false ..

  make
}

package() {
  cd "$srcdir/GoTools-$pkgver/build"
  make install
}

# vim:set ts=2 sw=2 et:
