# Contributor: Hristiyan Matev <hristiyan.matev@gmail.com>
pkgname=restkit-git
pkgver=20101002
pkgrel=1
pkgdesc="An HTTP resource kit for python"
arch=('i686' 'x86_64')
url="http://github.com/benoitc/restkit/"
license=('BSD')
depends=('python')
makedepends=('git' 'setuptools')
conflicts=('restkit' 'python-restkit')
provides=('restkit')

_gitroot="git://github.com/benoitc/restkit.git"
_gitname="restkit"

build() { 

    cd "$srcdir"
    msg "Connecting to GIT server..."
    
    if [ -d $_gitname ] ; then
       cd $_gitname && git pull origin
       msg "The local files are updated."
    else
       git clone $_gitroot
    fi

    cd "$srcdir/$_gitname"
    python setup.py build || return 1
}

package() {

    cd "$srcdir/$_gitname"
    python setup.py install --root=$pkgdir || return 1
}
