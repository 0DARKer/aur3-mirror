--- hcc/hcc.cc	2011-10-20 16:13:44.469366190 +0600
+++ hcc/hcc.cc.new	2011-10-20 16:15:08.339366664 +0600
@@ -1,9 +1,9 @@
-#include "bool.h"
 #include "stdio.h"
-#include "std.h"
 #include "string.h"
 #include "ctype.h"
 
+#include <cstdlib>
+
 #define max_refinements 10000
 #define max_src_lines   10000
 
--- cry.h	2011-10-20 16:52:45.669379425 +0600
+++ cry.h.new	2011-10-20 16:53:11.962712907 +0600
@@ -1,4 +1,5 @@
 #include "stdio.h"
+#include <cstdlib>
 
 /*-------------------------------------------------------------------------*/
 /* cry.h                                                                   */
--- install	1997-06-12 18:30:18.000000000 +0600
+++ install.new	2011-10-20 17:33:18.675316354 +0600
@@ -13,14 +13,14 @@
 #
 #--------------------------------------------------------------------
 
-CFLAGS="-O2 -fexpensive-optimizations -finline-functions"
+CFLAGS="-w -O2 -fexpensive-optimizations -finline-functions"
 HCC=hcc/hcc
 CMP="$HCC -compiler $GCC $CFLAGS -c"
 
 LFLAGS="-lX11 -lm -L$XLIB"
 
 
-echo hcc           ; gcc  -o hcc/hcc hcc/hcc.cc
+echo hcc           ; g++ -w -o hcc/hcc hcc/hcc.cc
 
 echo color_trans   ; $CMP color_trans
 echo xtimer        ; $CMP xtimer        
--- ppm_handler.h	2011-10-20 16:50:29.392711988 +0600
+++ ppm_handler.h.new	2011-10-20 16:55:35.349380383 +0600
@@ -8,6 +8,7 @@
 /*======================================================================*/
 
 #include "bool.h"
+#include <string.h>
 
 bool ppm_size (char name [], int &dx, int &dy, int &color);
 
