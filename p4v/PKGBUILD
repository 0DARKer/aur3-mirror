# Contributor: Marq Schneider <queueRAM@gmail.com>

pkgname=p4v
pkgver=2010.2.334844
pkgrel=1
pkgdesc="Perforce Visual Client"
arch=('i686' 'x86_64')
url="http://www.perforce.com"
license=('custom:p4v')
depends=()
options=('!strip')
source=(http://www.perforce.com/downloads/perforce/r${pkgver:2:4}/bin.linux26${CARCH/i6/x}/${pkgname}.tgz
        p4v.desktop
        LICENSE)
md5sums=('3636e90531db5cbc04620c97ad2f30cc'
         'dafeaf5f26ee1758d3801b5448752789'
         '016c4c23753b808659f46bad3d7352aa')

[ "$CARCH" = "x86_64" ] && \
md5sums=('2a35902f8699cdb813e8097207c34c84'
         'dafeaf5f26ee1758d3801b5448752789'
         '016c4c23753b808659f46bad3d7352aa')

package() {
  mkdir -p ${pkgdir}/usr/bin
  install -D -m 644 ${srcdir}/LICENSE ${pkgdir}/usr/share/licenses/${pkgname}/license.txt
  cp -R ${srcdir}/${pkgname}-${pkgver}/lib ${pkgdir}/usr/
  install -m 755 -D ${srcdir}/${pkgname}-${pkgver}/bin/${pkgname} ${pkgdir}/usr/bin/${pkgname}
  install -m 755 -D ${srcdir}/${pkgname}-${pkgver}/bin/${pkgname}.bin ${pkgdir}/usr/bin/${pkgname}.bin
  install -m 755 -D ${srcdir}/${pkgname}-${pkgver}/bin/p4merge ${pkgdir}/usr/bin/p4merge
  install -m 755 -D ${srcdir}/${pkgname}-${pkgver}/bin/p4merge.bin ${pkgdir}/usr/bin/p4merge.bin
  install -m 755 -D ${srcdir}/${pkgname}-${pkgver}/bin/p4admin ${pkgdir}/usr/bin/p4admin
  install -m 755 -D ${srcdir}/${pkgname}-${pkgver}/bin/p4admin.bin ${pkgdir}/usr/bin/p4admin.bin
  install -m 644 -D ${srcdir}/${pkgname}.desktop ${pkgdir}/usr/share/applications/${pkgname}.desktop
}

# vim:set ts=2 sw=2 et:
