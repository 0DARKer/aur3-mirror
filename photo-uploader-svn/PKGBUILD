# Contributor: Jozef Riha <jose1711@gmail.com>

pkgname=photo-uploader-svn
pkgver=119
pkgrel=1
pkgdesc="Python script for uploading photos to photolabs (SVN version)"
arch=('i686' 'x86_64')
url="http://cz.cihar.com/software/photo-uploader/"
license=('GPL')
depends=('python-pycurl')
source=()
md5sums=()
provides=('photo-uploader')
conflicts=('photo-uploader')

_svntrunk="svn://svn.cihar.com/photo-uploader/trunk"
_svnmod="photo-uploader"

build() {
	cd $srcdir

	# get the sources
	msg "Connecting to $_svntrunk ..."
	if [ -d $_svnmod/.svn ]; then
		(cd $_svnmod && svn up) || return 1
	else
		svn co $_svntrunk $_svnmod || return 1
	fi
	msg "SVN checkout done or server timeout"

	cd $_svnmod

	cd $srcdir/photo-uploader
	python2 setup.py install --root=$pkgdir/ --prefix=/usr || return 1
}
