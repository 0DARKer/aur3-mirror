# Maintainer: Simonas Racinas <racinas at icloud.com>
pkgname=visual-paradigm-community
pkgver=12.0
pkgrel=6
pkgdesc="UML design application"
url='http://www.visual-paradigm.com/download/community.jsp'
arch=('i686' 'x86_64')
depends=('java-environment-common')
install=visual-paradigm-community.install
license=('custom')
source=("${pkgname}-${pkgver//_/-}.tar.gz::http://www.visual-paradigm.com/downloads/vpce/Visual_Paradigm_CE_Linux64_InstallFree.tar.gz"
	'visual-paradigm-community.install'
	'visual-paradigm.desktop'
	'Visual_Paradigm_Fixed'
	'visual-paradigm.png'
	'LICENSE.txt')
sha256sums=('7c0cd7d354d0e0e8f07e3422e3cc588003514a3e2b2b699bd6049c244c8473f6'
	'bf54180ee24fe9ce73e0d8d042dd707971c76ac2227c4998843db1e77208dde3'
	'ed59443b192997bcce2946d6392fb5aa7f566e02681b049e6021e05157f0bb43'
	'c861d708eb446f94abbebb4028a2f15f7bc6840aa5df1ee81f7301aac0fd00a9'
	'41517b5c2326c0ba2fe3b6647f9594f094ccf03185cf73cb87d6cf19b355ff15'
	'cd30460cb1c29f9f42723197dbe72b2537aaed09cc2d44dcb3e6868fb5dbf12b')

package() {
  mkdir -p "${pkgdir}/usr/share/applications"
  mkdir -p "${pkgdir}/usr/share/licenses/visual-paradigm-community-edition/"
  mkdir -p "${pkgdir}/usr/share/icons/hicolor/512x512/apps"
  cp -r "${srcdir}/Visual_Paradigm_CE_12.0/Application/" "${pkgdir}/usr/share/${pkgname}/"
  cp -r "${srcdir}/Visual_Paradigm_CE_12.0/.install4j/" "${pkgdir}/usr/share/${pkgname}/.install4j/"
  cp "visual-paradigm.desktop" "${pkgdir}/usr/share/applications/visual-paradigm.desktop"
  cp "Visual_Paradigm_Fixed" "${pkgdir}/usr/share/${pkgname}/bin/Visual_Paradigm_Fixed"
  cp "visual-paradigm.png" "${pkgdir}/usr/share/icons/hicolor/512x512/apps/visual-paradigm.png"
  install -m 644 LICENSE.txt "${pkgdir}/usr/share/licenses/visual-paradigm-community-edition/LICENSE"
}
