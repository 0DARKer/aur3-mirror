# Maintainer: Daenyth <Daenyth+Arch [at] gmail [dot] com>
# Contributor: Jeff Mickey <jeff@archlinux.org>
# Contributor: sh__

pkgname=libtorrent-old
pkgver=0.12.6
pkgrel=2
pkgdesc="BitTorrent library written in C++"
arch=('i686' 'x86_64')
url="http://libtorrent.rakshasa.no"
license=('GPL')
depends=('libsigc++' 'openssl')
options=('!libtool')
source=(http://libtorrent.rakshasa.no/downloads/libtorrent-$pkgver.tar.gz
        libtorrent-gcc_fix.patch)

md5sums=('037499ed708aaf72988cee60e5a8d96b'
         '7c1a01e9b9972cf8fcac9dc7d283b96a')

conflicts=('libtorrent')
provides=('libtorrent')


build() {
  cd "$srcdir/libtorrent-$pkgver"
  patch -p3 -i "$srcdir/libtorrent-gcc_fix.patch"
  CXXFLAGS="$CXXFLAGS -fno-strict-aliasing" \
    ./configure --prefix=/usr --disable-debug
  make
}

package() {
  cd "$srcdir/libtorrent-$pkgver"
  make DESTDIR="$pkgdir" install
}

# vim:set ts=2 sw=2 et:
