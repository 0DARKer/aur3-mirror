# Contributor: Connor Behan <connor.behan@gmail.com>
# Maintainer: Ron Collinson <notthinking at gmail dot com>
pkgname=carrier
pkgver=2.6.4
pkgrel=1
pkgdesc="Pidgin fork providing minor GUI enhancements (formerly funpidgin)"
arch=(i686 x86_64)
license=('GPL2')
url="http://funpidgin.sourceforge.net"
depends=('startup-notification' 'libidn' 'farsight2' 'gtkspell' 'libxss' 'gstreamer0.10' 'nss' 'libsasl' 'python' 'hicolor-icon-theme' 'libwebkit')
makedepends=('avahi' 'tk' 'ca-certificates' 'intltool')
optdepends=('avahi: Bonjour protocol support'
	    'tk: Tcl/Tk scripting support'
	    'ca-certificates: SSL CA certificates')
conflicts=('pidgin' 'gaim')
provides=('pidgin' 'gaim')
options=(!libtool)
install=carrier.install
source=(http://downloads.sourceforge.net/sourceforge/funpidgin/$pkgname-$pkgver.tar.bz2)


build() {
  cd ${srcdir}/${pkgname}-${pkgver}

  ./autogen.sh

  ./configure --prefix=/usr --sysconfdir=/etc --disable-perl --disable-nm \
              --disable-schemas-install --disable-meanwhile \
              --enable-cyrus-sasl --disable-doxygen --disable-gnutls \
              --enable-webkit || return 1
  make || return 1
  make DESTDIR=${startdir}/pkg install || return 1

  # Remove GConf schema file
  rm -rf "$pkgdir/etc" || return 1
}

md5sums=('a8ea1a551ebf377474bb89ab3a03e027')
