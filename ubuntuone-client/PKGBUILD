# Contributor: Leonid Selivanov <bravebug at gmail dot com>

pkgname=ubuntuone-client
pkgver=1.7.2
pkgrel=1
pkgdesc="Client for Ubuntu One shareing service"
arch=('i686' 'x86_64')
url="https://launchpad.net/ubuntuone-client"
license=('GPL3')
groups=('ubuntuone')
depends=('dbus-python' 'libproxy' 'pyinotify' 'python2>=2.7.1' 'python2<<2.8' \
'python-configglue' 'python-notify' 'python-simplejson' 'ubuntuone-storage-protocol>=1.7.0' \
'ubuntu-sso-client>=1.1.8' 'xdg-utils')
makedepends=('intltool' 'imake')
optdepends=('nautilus')
provides=('$pkgname=$pkgver')
conflicts=('ubuntuone-client-bzr')
replaces=()
backup=()
options=()
install=
source=(http://launchpad.net/$pkgname/trunk/$pkgver/+download/$pkgname-$pkgver.tar.gz python2.patch)
noextract=()
md5sums=('49bfae7e4794878bf24be2b2a786e414' '87e7d1e7c582fd0e6430382dbc90be7f')

build() {
  cd $srcdir/$pkgname-$pkgver
  patch -p1 -i ../python2.patch
  ./configure --prefix=/usr --sysconfdir=/etc --localstatedir=/var ac_cv_path_PYTHON=/usr/bin/python2
  make
  make DESTDIR=$pkgdir install
}

