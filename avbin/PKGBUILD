# Maintainer: jck <jck@archlinux.us>

pkgname=avbin
pkgver=8
pkgrel=1
pkgdesc="Cross-platform media decoding library"
arch=('i686' 'x86_64')
url="http://code.google.com/p/avbin/"
license=('LGPL')
install=avbin.install
[  "$CARCH" = i686 ] && _arch=32
[  "$CARCH" = x86_64 ] && _arch=64
source=(https://github.com/downloads/AVbin/AVbin/avbin-linux-x86-$_arch-v$pkgver.tar.bz2)
[  "$CARCH" = i686 ] && md5sums=('460558bb025de6ec251582808c9c4300')
[  "$CARCH" = x86_64 ] && md5sums=('3d3eafe8714774d7ee2f04db7a9d0b9e')

build() {
    _avlib=libavbin.so.$pkgver
    mkdir $pkgdir/usr
    mkdir $pkgdir/usr/lib
    cp $srcdir/avbin-linux-x86-$_arch-v$pkgver/$_avlib $pkgdir/usr/lib/ || return 1
    cd $pkgdir/usr/lib
    ln -sf $_avlib libavbin.so || return 1
    chmod a+rx $_avlib || return 1
}
