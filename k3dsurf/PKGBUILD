# Contributor: moostik <mooostik_at_gmail.com>
# Contributor: Darwin Bautista <djclue917@gmail.com>

pkgname=k3dsurf
pkgver=0.6.2.4
pkgrel=2
pkgdesc="A program to visualize and manipulate multi-dimensional surfaces by using Mathematical equations"
arch=('i686' 'x86_64')
url="http://kde-apps.org/content/show.php/?content=50062"
license=('GPL')
depends=('qt3')
source=(http://downloads.sourceforge.net/sourceforge/k3dsurf/${pkgname}-${pkgver}.tar.gz \
        k3dsurf.desktop)

build() {
  cd ${startdir}/src/${pkgname}-${pkgver}/
  source /etc/profile.d/qt3.sh
  export PATH=$QTDIR/bin:$PATH

  rm src/Makefile 
  rm Makefile

  $QTDIR/bin/qmake
  make || return 1
  
  # Install executable
  install -D -m755 bin/k3dsurf $pkgdir/usr/bin/k3dsurf

  # Install shortcut and icon
  install -D -m644 icon/catenoid_mini_64x64.png $pkgdir/usr/share/pixmaps/k3dsurf.png
  install -D -m644 $srcdir/k3dsurf.desktop $pkgdir/usr/share/applications/k3dsurf.desktop
}

md5sums=('21602ba004d532f8fd367c29bde5ab08'
         'bfc0e296f7de91ffb130533f7790a3e5')
