#Maintainer: Xyne <ac xunilhcra enyx, backwards>
pkgname=cronwhip
pkgver=2012.11
pkgrel=1
pkgdesc='Run missed cronjobs.'
arch=(any)
license=(GPL)
url="http://xyne.archlinux.ca/projects/cronwhip"
depends=(python3 sysvinit)
source=(
  http://xyne.archlinux.ca/projects/cronwhip/archives/cronwhip-2012.11.tar.xz
  http://xyne.archlinux.ca/projects/cronwhip/archives/cronwhip-2012.11.tar.xz.sig
)
sha512sums=(
  167eef10ce7d20c2333bc67635bd50e30896f7485439f0cd37e12d3de90fd0040cde56625bc1de351fb190a9f49da2a3a0f54872f795f3057e5679e2a07ea414
  a448351180caacca52b32ab10435a497e5dede676a819174e74ca2e7be87e0aa700ca16e7e88848af1145b071dec31e484888b8a00df0ef44e8f92e8608b1864
)
md5sums=(
  2fb81bbc1ab955e49ef32e0a7d651cfa
  3a31c96e09aeeaadae68d4b8b9ab207b
)

package()
{
  cd "$srcdir/$pkgname-$pkgver"
  python3 setup.py install --root="$pkgdir"/ --optimize=1
  install -Dm755 cronwhip "${pkgdir}/usr/bin/cronwhip"
  install -Dm755 cronwhipd "${pkgdir}/etc/rc.d/cronwhipd"
  install -Dm644 "$pkgname.service" "$pkgdir/usr/lib/systemd/system/$pkgname.service"
}

# vim: set ts=2 sw=2 et:
