# Contributor:  Philippe LUC <philfifi@gmail.com>
pkgname=perl-time-modules
pkgver=2006.0814
pkgrel=2
pkgdesc="Parses Date strings"
url="http://search.cpan.org/~muir/Time-modules-$pkgver/"
depends=(perl)
license="GPL"
options=('!emptydirs')
arch=('i686' 'x86_64')
source=(http://search.cpan.org/CPAN/authors/id/M/MU/MUIR/modules/Time-modules-$pkgver.tar.gz) 
md5sums=('790c6739f601b85654fac9ee516b18d8')

rienbuild() {
    cd  $srcdir/Time-modules-$pkgver

    perl Build.PL installdirs=vendor destdir="$pkgdir/"
    ./Build
    #  ./Build test
    ./Build install

    find $pkgdir -name '.packlist' -delete
    find $pkgdir -name '*.pod' -delete
}


build() {
    cd  $startdir/src/Time-modules-$pkgver
    eval `perl -V:archname`
    /usr/bin/perl Makefile.PL \
        INSTALLARCHLIB=/usr/lib/perl5/current/${archname} \
        INSTALLSITELIB=/usr/lib/perl5/vendor_perl/ \
        INSTALLSITEARCH=/usr/lib/perl5/site_perl/current/${archname}
    /usr/bin/make || return 1
    /usr/bin/make DESTDIR=$startdir/pkg install
    /usr/bin/find $startdir/pkg -name '.packlist' -exec rm  '{}' \;
    /usr/bin/find $startdir/pkg -name '*.pod' -exec rm  '{}' \;
}

