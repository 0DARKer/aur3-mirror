# Maintainer:  Mathias Rohnstock <linksoft@gmx.de>
# Contributor: Tomas A. Schertel <tomasÎ˜gmail.com>

pkgname=floola
pkgver=2011r2
pkgrel=1
pkgdesc="freeware application to efficiently manage your iPod or your Motorola mobile phone (any model supporting iTunes except iPhone, iPod touch)."
url="http://www.floola.com/"
license=('custom')
makedepends=('rpmextract')
arch=('i686' 'x86_64')
if [ ${CARCH} = 'x86_64' ]; then
  depends=('lib32-libpng12>=1.2.12' 'lib32-libstdc++5' 'lib32-gtk2' 'lib32-gtk-engines')
else
  depends=('libpng12>=1.2.12' 'libstdc++5' 'gtk2')
fi
source=(http://download.schoonzie.com/Floola-linux.tar.gz
        floola
        http://www.floola.com/home/wp-content/themes/default/images/icon/128x128.png
        floola.desktop)
md5sums=('f78b3cf3ead35ca0a1099a83080b858e' 'fbd5ffa1e98e8db8e341b6fd6fab22a4' 'a261d71d1bc29a85b0bb647d76b61bfe' 'de82fff90d88656b29f226ef8731008c')
optdepends=('gstreamer0.10: GStreamer Multimedia Framework' 'libnotify: Desktop notification library')

build() {
  mkdir -p ${pkgdir}/usr/share/floola
  mkdir -p ${pkgdir}/usr/share/pixmaps
  mkdir -p ${pkgdir}/usr/share/applications
  mkdir -p ${pkgdir}/usr/bin

  cp ${srcdir}/128x128.png ${pkgdir}/usr/share/pixmaps/floola.png
  cp -R ${srcdir}/Floola-linux/* ${pkgdir}/usr/share/floola/
  cp ${srcdir}/floola ${pkgdir}/usr/bin/
  cp ${srcdir}/floola.desktop ${pkgdir}/usr/share/applications/

  chmod +x ${pkgdir}/usr/bin/floola
}

