# Maintainer: Dany Martineau <dany.luc.martineau@gmail.com>

pkgname=orbithopper
pkgver=1.16c
pkgrel=1
pkgdesc="Skyroads-clone featuring OpenGL 3D graphics, enemies, new floors, highscores, new levels and much more."
arch=(i686 x86_64)
depends=('sdl_mixer' 'sdl_image' 'mesa')
makedepends=('make')
source=( http://www.zneaker.com/down/orbithopper116c.tar.gz orbithopper.desktop)
url="http://www.zneaker.com/joomla"
license=('GPL')
md5sums=('7f56580f621dbb45a6772bbb6fbd65c0' '38250366fc1ea51bb563d99dafbebb6d')

build() {
  cd ${srcdir}
  chmod 755 * -R
  make
  install -D OrbitHopper.x -m755 ${pkgdir}/usr/share/orbithopper/OrbitHopper 
  install -D ${srcdir}/orbithopper.desktop ${pkgdir}/usr/share/applications/orbithopper.desktop
  install -d ${pkgdir}/usr/share/orbithopper/{gfx,maps,shaders,sounds}
  cp -r gfx/* ${pkgdir}/usr/share/orbithopper/gfx/
  cp -r maps/* ${pkgdir}/usr/share/orbithopper/maps/
  install shaders/* ${pkgdir}/usr/share/orbithopper/shaders/
  install sounds/* ${pkgdir}/usr/share/orbithopper/sounds/
  install -D Leveleditor.pdf ${pkgdir}/usr/share/orbithopper/Leveleditor.pdf
  install -D license.txt ${pkgdir}/usr/share/orbithopper/license.txt
  install -D settings.ini -m777 ${pkgdir}/usr/share/orbithopper/settings.ini
  install -D multiplayer.ini -m777 ${pkgdir}/usr/share/orbithopper/multiplayer.ini
}
