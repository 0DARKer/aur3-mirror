# Maintainer: Gianfranco 'Gianfrix' Micoli <gianfrix.mg@gmail.com>

pkgname=indicator-application
pkgver=0.2.9
pkgrel=1
pkgdesc="A library and indicator to take menus from applications and place them in the panel. (Canonical Ayatana Project)"
arch=('i686' 'x86_64')
url="https://launchpad.net/indicator-application"
license=('GPL')
depends=('libindicator' 'libdbusmenu' 'gtk2')
source=(http://archive.ubuntu.com/ubuntu/pool/main/i/indicator-application/indicator-application_${pkgver}.orig.tar.gz
	fix-python-bindings.patch
        no-bindings-docs.patch)
md5sums=('e63c8f0570d9debadea0f8d86c33c258'
         'e3614d571183db9b751e0ff071fe9ed9'
         'afa3b6dbbddb7c43e663a250b6685df5')

build() {
  cd "$srcdir"/$pkgname-$pkgver
  
  patch -Np1 -i $srcdir/fix-python-bindings.patch || return 1
  patch -Np1 -i $srcdir/no-bindings-docs.patch || return 1
  
  ./autogen.sh --prefix=/usr --disable-static --enable-introspection=no || return 1
  make || return 1
  make DESTDIR="$pkgdir" install || return 1
}
