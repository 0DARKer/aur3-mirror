# Contributor: Arthur Darcet <arthur.darcet@m4x.org>
# Contributor: Thorsten TÃ¶pper <atsutane-tu@freethoughts.de>
# Contributor: miles g <miles@milesgroman.com>
# Contributor: Pierre Bourdon <delroth@gmail.com>
pkgname=python-lockfile
pkgver=0.9.1
pkgrel=3
pkgdesc="Platform-independent file locking module"
license=("custom:MIT")
url="https://pypi.python.org/pypi/lockfile"
depends=('python')
makedepends=('python-setuptools')
source=("https://pypi.python.org/packages/source/l/lockfile/lockfile-${pkgver}.tar.gz")
arch=('any')
options=(!emptydirs)
md5sums=('ce61468d4c1263e3005737bbed2641f0')
sha1sums=('9870cc7e7d4b23f0b6c39cf6ba597c87871ac6de')

build() {
  cd "${srcdir}/lockfile-${pkgver}"
  2to3 -w lockfile/*.py
  
  msg "Starting build"
  python setup.py build
}

package() {
  cd "${srcdir}/lockfile-${pkgver}"
  python setup.py install --root=${pkgdir} --optimize=1
  
  install -Dm 644 LICENSE "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"
}

