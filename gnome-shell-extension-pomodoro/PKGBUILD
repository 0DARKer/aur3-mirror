# Maintainer: Arun <cute.tec@gmail.com>
pkgname=gnome-shell-extension-pomodoro
pkgver=20110618
pkgrel=1
pkgdesc="Pomodoro timer extension for gnome-shell"
arch=('any')
url="http://github.com/codito/gnome-shell-pomodoro"
license=('GPL3')
depends=('gnome-shell')
makedepends=('git')
provides=("gnome-shell-extension-pomodoro")

_gitroot="git://github.com/codito/gnome-shell-pomodoro.git"
_gitname="gnome-shell-pomodoro"

build() {
    cd ${srcdir}/
    msg "Connecting to the GIT server..."
    if [[ -d ${srcdir}/${_gitname} ]] ; then
        cd ${_gitname}
        git pull origin/master
        msg "The local files are updated..."
    else
        git clone ${_gitroot} ${_gitname}
    fi
    msg "GIT checkout done."
}

package() {
    cd "${srcdir}/${_gitname}"
    mkdir -p "$pkgdir/usr/share/gnome-shell/extensions/"
    cp -R "pomodoro@arun.codito.in" "$pkgdir/usr/share/gnome-shell/extensions"
}
