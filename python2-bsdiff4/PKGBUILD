# Maintainer: Andrzej Giniewicz <gginiu@gmail.com>
pkgname=python2-bsdiff4
pkgver=1.1.2
_githubtag=dc7002c
pkgrel=1
pkgdesc="binary diff and patch using the BSDIFF4-format"
arch=('i686' 'x86_64')
url="https://github.com/ilanschnell/bsdiff4"
license=('BSD')
depends=('python2')
makedepends=('python2-distribute' 'gcc')

source=("https://github.com/ilanschnell/bsdiff4/tarball/$pkgver"
        "LICENSE.txt")
md5sums=('208c8aee0d7eee878e6542f7ada1b666'
         'ae6f5df0e6d4dd4ea3cc20aafb2dd10f')

build() {
  cd "$srcdir/ilanschnell-bsdiff4-$_githubtag"

  python2 setup.py build
}

package() {
  cd "$srcdir/ilanschnell-bsdiff4-$_githubtag"

  python2 setup.py install --root="$pkgdir"/ --optimize=1

  install -D "$srcdir/LICENSE.txt" "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
}

