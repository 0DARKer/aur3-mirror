#Contributor: Evgenij Vdovin <evdovin@pochta.ru>
pkgname=go-openoffice-ru
pkgver=3.2.1
pkgrel=3
_lang=ru
_srcurl=http://go-oo.mirrorbrain.org/stable/linux-x86
_ooobasis=3.2.1/ooobasis3.2-${_lang}
_intver=${pkgver}-9505
pkgdesc="Go-OpenOffice Russian language files"
arch=('i686' 'x86_64')
license=('LGPL')
url="http://go-oo.org/discover/"
makedepends=('rpmextract')
depends=('go-openoffice>=3.2.1')

_source_x86=(
	${_srcurl}/${_ooobasis}-${_intver}.i586.rpm
	${_srcurl}/${_ooobasis}-base-${_intver}.i586.rpm
	${_srcurl}/${_ooobasis}-binfilter-${_intver}.i586.rpm
	${_srcurl}/${_ooobasis}-calc-${_intver}.i586.rpm
	${_srcurl}/${_ooobasis}-draw-${_intver}.i586.rpm
	${_srcurl}/${_ooobasis}-help-${_intver}.i586.rpm
	${_srcurl}/${_ooobasis}-impress-${_intver}.i586.rpm
	${_srcurl}/${_ooobasis}-math-${_intver}.i586.rpm
	${_srcurl}/${_ooobasis}-res-${_intver}.i586.rpm
	${_srcurl}/${_ooobasis}-writer-${_intver}.i586.rpm
	${_srcurl}/3.2.1/openoffice.org3-${_lang}-${_intver}.i586.rpm
)
_md5sums_x86=(
	'e486d0b32c12ff47258e6cb8a194f063'
	'cb793c6e781febfc5493eb375ccf596a'
	'59f9c916b0746df0a12dbf9de64b7aa1'
	'5072502de7d3a21718ce92e919d9d616'
	'd1c993691c16de86edcdb208c944a3cc'
	'55f947f7ebc9a714421aff810ae359a8'
	'7562ac04c5b11d2e3c24eea44a5bfd72'
	'29172c13bccbc7ce27849fd3589226a4'
	'9aab31c65126d363200e0338011ed934'
	'77f5872f1a0092c0f441ec8a5455e124'
	'99347033ad29ac6d7f92fce3b58b6a53'
)

_source_x86_64=(
	${_srcurl}_64/${_ooobasis}-${_intver}.x86_64.rpm
	${_srcurl}_64/${_ooobasis}-base-${_intver}.x86_64.rpm
	${_srcurl}_64/${_ooobasis}-binfilter-${_intver}.x86_64.rpm
	${_srcurl}_64/${_ooobasis}-calc-${_intver}.x86_64.rpm
	${_srcurl}_64/${_ooobasis}-draw-${_intver}.x86_64.rpm
	${_srcurl}_64/${_ooobasis}-help-${_intver}.x86_64.rpm
	${_srcurl}_64/${_ooobasis}-impress-${_intver}.x86_64.rpm
	${_srcurl}_64/${_ooobasis}-math-${_intver}.x86_64.rpm
	${_srcurl}_64/${_ooobasis}-res-${_intver}.x86_64.rpm
	${_srcurl}_64/${_ooobasis}-writer-${_intver}.x86_64.rpm
	${_srcurl}_64/3.2.1/openoffice.org3-${_lang}-${_intver}.x86_64.rpm
)
_md5sums_x86_64=(
	'6a5a5c0e26ec73a1925c9efbc1dfaff5'
	'22711ae2f7bdc797187d5c2303012e22'
	'27fc29c1b94c40400e9e8f46b2a3ce65'
	'0b5b41cc2db0447755e93b4b6c02346e'
	'3698d374810ce68611a566e324b14420'
	'387e133ee5228326e0d5f174da72ea87'
	'3b8326785aaa7f63247c312e1290512f'
	'51c81e2f673c32688ff962a3a678b05f'
	'c502b9b9cd20ce9c7c1250133a334870'
	'664a7f4d26a99ca09950522a1f9f64e8'
	'2bd195b08296e1d1e5aa8d170799d488'
)

source=(${_source_x86[@]})
md5sums=(${_md5sums_x86[@]})
[ "$CARCH" = "x86_64" ] && source=(${_source_x86_64[@]})
[ "$CARCH" = "x86_64" ] && md5sums=(${_md5sums_x86_64[@]})

build() {
	cd ${srcdir}
	for i in *.rpm
		do rpmextract.sh $i
	done

	mkdir -p ${pkgdir}/usr/lib/${pkgname%%-${_lang}}
	cp -R opt/openoffice.org{,3}/* ${pkgdir}/usr/lib/${pkgname%%-${_lang}}
}
