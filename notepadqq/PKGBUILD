# Maintainer: twa022 <twa022 at gmail dot com>
# Contributor: Zom <zom[at]eevul[dot]org>

pkgname=notepadqq
pkgver=0.33.0
pkgrel=1
pkgdesc="A Linux clone of Notepad++"
arch=('i686' 'x86_64')
url="http://notepadqq.sourceforge.net/wp/"
license=('GPL3')
depends=('qt5-webkit')
makedepends=('')
source=(https://github.com/notepadqq/${pkgname}/archive/v${pkgver}.tar.gz)
sha256sums=('bdd95477013c10f3a76951cacdb19b7971e332955f02849709f6c0db4c844ab4')

build() {
  cd ${srcdir}/notepadqq-${pkgver}/src/ui

  qmake PREFIX=/usr DEPLOY=true notepadqq.pro -r -spec linux-g++
  make
}

package() {
  cd ${srcdir}/notepadqq-${pkgver}/src/ui

  make INSTALL_ROOT="$pkgdir" install
  mkdir -p "$pkgdir"/usr/share/notepadqq
  cp -r ../editor "$pkgdir"/usr/share/notepadqq/
}
