# Maintainer: twa022 <twa022 at gmail dot com>
# Contributor: Zom <zom[at]eevul[dot]org>

pkgname=notepadqq
pkgver=0.34.0
pkgrel=1
pkgdesc="A Linux clone of Notepad++"
arch=('i686' 'x86_64')
url="http://notepadqq.sourceforge.net/wp/"
license=('GPL3')
depends=('qt5-webkit')
makedepends=('')
source=(https://github.com/notepadqq/${pkgname}/archive/v${pkgver}.tar.gz)
sha256sums=('9f2544c3fb7144e8a9676f54be538161b3fb2fe9534b47b9fa338fe11c48a8e8')

build() {
  cd ${srcdir}/notepadqq-${pkgver}/src/ui

  qmake PREFIX=/usr DEPLOY=true notepadqq.pro -r -spec linux-g++
  make
}

package() {
  cd ${srcdir}/notepadqq-${pkgver}/src/ui

  make INSTALL_ROOT="$pkgdir" install
  mkdir -p "$pkgdir"/usr/share/notepadqq
  cp -r ../editor "$pkgdir"/usr/share/notepadqq/
}
