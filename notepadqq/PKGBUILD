# Maintainer: twa022 <twa022 at gmail dot com>
# Contributor: Zom <zom[at]eevul[dot]org>

pkgname=notepadqq
pkgver=0.36.0
pkgrel=1
pkgdesc="A Linux clone of Notepad++"
arch=('i686' 'x86_64')
url="http://notepadqq.sourceforge.net/wp/"
license=('GPL3')
depends=('qt5-webkit' 'qt5-svg')
makedepends=('')
source=("${pkgname}-${pkgver}.tar.gz"::https://github.com/notepadqq/${pkgname}/archive/v${pkgver}.tar.gz)
sha256sums=('399d9a0059260182e5a7403ee931bc59fc5382141beefd5696e0f890fcc3088b')

build() {
  cd ${srcdir}/notepadqq-${pkgver}/src/ui

  qmake PREFIX=/usr DEPLOY=true notepadqq.pro -r -spec linux-g++
  make
}

package() {
  cd ${srcdir}/notepadqq-${pkgver}/src/ui

  make INSTALL_ROOT="$pkgdir" install
  mkdir -p "$pkgdir"/usr/share/notepadqq
  cp -r ../editor "$pkgdir"/usr/share/notepadqq/
}
