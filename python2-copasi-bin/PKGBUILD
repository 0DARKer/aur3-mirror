# Maintainer: Michael Schubert <mschu.dev at gmail>

pkgname=python2-copasi-bin
pkgver=4.7
pkgrel=1
pkgdesc="Tool for simulation and analysis of biochemical network dynamics"
arch=('i686' 'x86_64')
url="http://www.copasi.org/"
license=('Artistic 2.0')
depends=('python2')

test $CARCH == 'i686' && \
source=("http://otto.bioquant.uni-heidelberg.de/downloads/copasi/fd3c2a12eb06e2e91f63fcd6ebf5321e/copasi-34-linux-python27-x86.tar.gz") && \
md5sums=('24f56e0d2ae213a00b4d591791efc64f')

test $CARCH == 'x86_64' && \
source=("http://otto.bioquant.uni-heidelberg.de/downloads/copasi/fd3c2a12eb06e2e91f63fcd6ebf5321e/copasi-34-linux-python27-x64.tar.gz") && \
md5sums=('40c3e53d84a38dcf148743076680a754')

package() {
    cd "$srcdir"
    pydir=`python2 -c "from distutils.sysconfig import get_python_lib; print get_python_lib()"`
    install -Dm755 COPASI.py "$pkgdir/$pydir/COPASI.py"
    install -Dm644 _COPASI.so "$pkgdir/$pydir/_COPASI.so"

    cd "$pkgdir/$pydir"
    `python2 -c "import py_compile; py_compile.compile('COPASI.py')"`
}
