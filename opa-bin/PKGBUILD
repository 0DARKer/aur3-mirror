# Maintainer: Philip MÃ¼ller <mail at philip.in-aachen dot net>
pkgname=opa-bin  
pkgver=1.0.4
pkgrel=1
pkgdesc="advanced web framework and language"
url="http://www.opalang.org"
arch=('x86_64')
license=('AGPL')
depends=('nodejs')
makedepends=()
provides=(opa)
conflicts=(opa-git)
replaces=()
build=2403
source=(http://download.opalang.org/linux/opa_$pkgver%2Bbuild$build\_amd64.release.run)
md5sums=('92f55bfe94e75e75bdbbefe27deb3bb6')
sha512sums=('0e3ea94c8cb9188a01d848b85a611a9af5da54a152c0f34b06ce0cddd2f554b1177a53c3f21554c02c1e88867280772a1bbe7a855f60a06f89fdae2d3e541201')

build() {
  cd $srcdir
  chmod +x opa_$pkgver%2Bbuild$build\_amd64.release.run
}

check() {
  cd $srcdir
  ./opa_$pkgver%2Bbuild$build\_amd64.release.run --check
}

package() {
  cd $srcdir
  ./opa_$pkgver%2Bbuild$build\_amd64.release.run --target $srcdir/opa -- $pkgdir/usr
  rm $pkgdir/usr/share/opa/uninstall.sh
  rm $pkgdir/usr/share/opa/install.sh
}
