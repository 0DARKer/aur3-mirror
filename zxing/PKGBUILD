# Maintainer: Marti Raudsepp <marti@juffo.org>

pkgname=zxing
pkgver=2.1
pkgrel=1
pkgdesc="Multi-format 1D/2D barcode image processing library (C++ version)"
arch=('i686' 'x86_64')
url="http://code.google.com/p/zxing/"
license="Apache"
makedepends=('scons')
depends=('imagemagick')
source=("http://zxing.googlecode.com/files/ZXing-$pkgver.zip"
        'zxing-cpp-build.patch')

build() {
  cd "$srcdir/$pkgname-$pkgver/cpp"

  patch -p0 < $srcdir/zxing-cpp-build.patch
  scons DEBUG=0 -j4 zxing
}

package() {
  cd "$srcdir/$pkgname-$pkgver/cpp"
  install -Dm755 build/zxing $pkgdir/usr/bin/zxing
}
md5sums=('2926e06bb9a67b4a90ede7937596ebea'
         'd8bbafd2865fa6a76e7d152e106e5e3d')
