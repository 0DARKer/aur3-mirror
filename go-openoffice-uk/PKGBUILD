#Contributor: Yanchenko Igor <yanchenko.igor@gmail.com>
pkgname=go-openoffice-uk
pkgver=3.2.1
pkgrel=1
_lang=uk
_srcurl=http://go-oo.mirrorbrain.org/stable/linux-x86
_ooobasis=3.2.1/ooobasis3.2-${_lang}
_intver=${pkgver}-9505
pkgdesc="Go-OpenOffice Ukrainian language files"
arch=('i686' 'x86_64')
license=('LGPL')
url="http://go-oo.org/discover/"
makedepends=('rpmextract')
depends=('go-openoffice>=3.2.0')
replaces=('go-oo-bin-uk')

_source_x86=(
	${_srcurl}/${_ooobasis}-${_intver}.i586.rpm
	${_srcurl}/${_ooobasis}-base-${_intver}.i586.rpm
	${_srcurl}/${_ooobasis}-binfilter-${_intver}.i586.rpm
	${_srcurl}/${_ooobasis}-calc-${_intver}.i586.rpm
	${_srcurl}/${_ooobasis}-draw-${_intver}.i586.rpm
	${_srcurl}/${_ooobasis}-help-${_intver}.i586.rpm
	${_srcurl}/${_ooobasis}-impress-${_intver}.i586.rpm
	${_srcurl}/${_ooobasis}-math-${_intver}.i586.rpm
	${_srcurl}/${_ooobasis}-res-${_intver}.i586.rpm
	${_srcurl}/${_ooobasis}-writer-${_intver}.i586.rpm
	${_srcurl}/3.2.1/openoffice.org3-${_lang}-${_intver}.i586.rpm
)
_md5sums_x86=(
         '0b5d936c60cdbc3caccc7eb897d23145'
         'd00cf3c4c6e45162deae7a41f38103f3'
         'aa10f0cea1fab5f2b8aae055bbd60980'
         'dd52b273e76f8028a164c47c35d59eac'
         '445a4553da0809a0a828f8048239e534'
         'e0d42ecf45e586d4f1c3ff1f447b8984'
         'b719f5b0b4a4a94723370168ee928ebc'
         'ac50bd43a93ac8966f65679d3fef833f'
         'f464e867d200c24d24a7507eef2b1e5b'
         'd15d3a6d6369a4b00c0e560c1cfdc180'
         'e331fb9bda1bfa18cedb6809c9ca67b2'
)

_source_x86_64=(
	${_srcurl}_64/${_ooobasis}-${_intver}.x86_64.rpm
	${_srcurl}_64/${_ooobasis}-base-${_intver}.x86_64.rpm
	${_srcurl}_64/${_ooobasis}-binfilter-${_intver}.x86_64.rpm
	${_srcurl}_64/${_ooobasis}-calc-${_intver}.x86_64.rpm
	${_srcurl}_64/${_ooobasis}-draw-${_intver}.x86_64.rpm
	${_srcurl}_64/${_ooobasis}-help-${_intver}.x86_64.rpm
	${_srcurl}_64/${_ooobasis}-impress-${_intver}.x86_64.rpm
	${_srcurl}_64/${_ooobasis}-math-${_intver}.x86_64.rpm
	${_srcurl}_64/${_ooobasis}-res-${_intver}.x86_64.rpm
	${_srcurl}_64/${_ooobasis}-writer-${_intver}.x86_64.rpm
	${_srcurl}_64/3.2.1/openoffice.org3-${_lang}-${_intver}.x86_64.rpm
)
_md5sums_x86_64=(
         'a0c2129a3304565bf7b447781ea4b191'
         'e7da874b44a03fea55fa4a0c8aca0176'
         'ba837314dbe96466d0d5becaa158d8f6'
         'de7c22f399cf6e43f57ee1a7377ef0b7'
         'b26e7615e45e2ad6168b5bf39cf7625f'
         '00843da48b33ec29a5c09c20e705a73f'
         '961ced153c2d998a0c3e331cff3b5d26'
         '04f70d1797e0e964addadf39f6ad54a2'
         '0da7e23a48787edb8cbc25bae29e48a7'
         '36fe3e5dbd194c5722b3dcf4dd190e65'
         'e8557932a2dba24df1de7a50bb5b5cc4'
)
source=(${_source_x86[@]})
md5sums=(${_md5sums_x86[@]})
[ "$CARCH" = "x86_64" ] && source=(${_source_x86_64[@]})
[ "$CARCH" = "x86_64" ] && md5sums=(${_md5sums_x86_64[@]})

build() {
	cd ${srcdir}
	for i in *.rpm
		do rpmextract.sh $i
	done

	mkdir -p ${pkgdir}/usr/lib/${pkgname%%-${_lang}}
	cp -R opt/openoffice.org{,3}/* ${pkgdir}/usr/lib/${pkgname%%-${_lang}}
}
