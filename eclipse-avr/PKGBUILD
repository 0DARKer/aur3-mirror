# Maintainer: Alexsandr Pavlov <kidoz at mail dot ru>
pkgname=eclipse-avr
pkgver=2.3.4
pkgrel=1
pkgdesc="AVR Plugin for Eclipse"
arch=('i686' 'x86_64')
url="http://avr-eclipse.sourceforge.net/wiki/index.php/The_AVR_Eclipse_Plugin"
license=("GPL")
#depends=('eclipse' 'eclipse-cdt' 'gcc-avr' 'avr-libc' 'avrdude')
depends=()
makedepends=('unzip')
source=(http://downloads.sourceforge.net/project/avr-eclipse/avr-eclipse%20stable%20release/2.3.4/avreclipse-p2-repository-2.3.4.20100807PRD.zip)
noextract=("avreclipse-p2-repository-2.3.4.20100807PRD.zip")
md5sums=('0fe39387c7fdf472bcdb31e93e311bae')

build() {
  installdir=$startdir/pkg/usr/share/eclipse/dropins

  cd $startdir/src || return 1
  unzip avreclipse-p2-repository-2.3.4.20100807PRD.zip || return 1

  mkdir -p $installdir/eclipse || return 1
  cp -a $startdir/src/features $installdir/eclipse || return 1
  cp -a $startdir/src/plugins $installdir/eclipse || return 1
}
