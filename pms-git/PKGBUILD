# Maintainer: cirrus

pkgname=pms-git
pkgver=0.r52.4df41ae # This will be automatically generated later in the pkgbuild so does not need a change.
pkgrel=1
pkgdesc='A poor mans spotify'
arch=('i686' 'x86_64')
url='https://github.com/np1/pms'
license=('GPL3')
depends=('mplayer' 'python>=2.7')
source=("$pkgname"::'git+https://github.com/np1/pms.git')
md5sums=('SKIP') # Skip as it's straight from GitHub.

pkgver() {
	 # generate automatically a pkgver from total commits
     cd "$srcdir/$pkgname"
     printf "0.r%s.%s" "$(git rev-list --count HEAD)" "$(git rev-parse --short HEAD)"
}

# No build is needed as it's only a script. Just install it.

package() {
     cd "$srcdir/$pkgname"
     install -D -m755 pms "$pkgdir/usr/bin/pms" # You could change pms.py to only be pms for easier usage.
     install -D -m644 README.md "$pkgdir/usr/share/doc/$pkgname/README"
     install -D -m644 LICENSE "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
}
