# Maintainer: Jordi De Groof <jordi (dot) degroof (at) gmail (dot) com>
# Contributor: radu242 <rbutoi(at)gmail(dot)com>

pkgname=qt4pas
pkgver=2.1
_qtver=4.5.3
pkgrel=1
pkgdesc="Free Pascal Qt4 Binding"
arch=('i686' 'x86_64')
url="http://users.telenet.be/Jan.Van.hijfte/qtforfpc/fpcqt4.html"
license=('GPL')
depends=('qt')
source=("http://users.telenet.be/Jan.Van.hijfte/qtforfpc/qt4pas-V${pkgver}_Qt${_qtver}.tar.gz")
md5sums=('35449ed84bbd0f75fb241fadf3762458')

build() {
	cd ${srcdir}/qt4pas-V${pkgver}_Qt${_qtver}/
	sed -ie "s:target\.path = :target\.path = ${pkgdir}:g" Qt4Pas.pro

	qmake -query
	qmake
	make
	make install

	# Symlinks for compatibility with previous versions
	ln -s /usr/lib/libQt4Pas.so.5 ${pkgdir}/usr/lib/libqt4intf.so.5
	ln -s /usr/lib/libQt4Pas.so.5 ${pkgdir}/usr/lib/libqt4intf.so
}
