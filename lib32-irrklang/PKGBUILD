# Maintainer  : Dan Vratil <vratil@progdansoft.com>

pkgname=lib32-irrklang
pkgver=1.3.0
pkgrel=1
pkgdesc="3D audio library (32 bit)"
arch=('x86_64')
url="http://www.ambiera.com/irrklang"
license=('custom')
groups=('lib32')
source=(http://www.ambiera.at/downloads/irrKlang-${pkgver}.zip
        irrKlang.pc LICENSE)
md5sums=('899c2f7ba4eec9f9567eb8f26a4b67fc'
         '6d1e3b4dda21d6a127f12e09ae0eef12'
         '98cdbeb0ccbc5d9b9ba2fce7ba49eb92')

package() 
{
  install -Dm755 ${srcdir}/irrKlang-${pkgver}/bin/linux-gcc/ikpMP3.so ${pkgdir}/usr/lib32/ikpMP3.so
  install -Dm755 ${srcdir}/irrKlang-${pkgver}/bin/linux-gcc/libIrrKlang.so ${pkgdir}/usr/lib32/libIrrKlang.so

  install -dm644 ${pkgdir}/usr/include/irrKlang
  install -m644 ${srcdir}/irrKlang-${pkgver}/include/* ${pkgdir}/usr/include/irrKlang/

  install -Ddm644 ${srcdir}/irrKlang-${pkgver}/doc ${pkgdir}/usr/share/doc/irrKlang/

  mkdir -p ${pkgdir}/usr/share/irrKlang/
  cp -r ${srcdir}/irrKlang-${pkgver}/examples ${pkgdir}/usr/share/irrKlang/examples
  cp -r ${srcdir}/irrKlang-${pkgver}/media ${pkgdir}/usr/share/irrKlang/media
  find ${pkgdir} -type d -exec chmod 755 '{}' \;

  install -Dm644 ${srcdir}/LICENSE ${pkgdir}/usr/share/licenses/irrKlang/LICENSE

  install -Dm644 ${srcdir}/irrKlang.pc ${pkgdir}/usr/lib32/pkgconfig/irrKlang.pc
}
