pkgname=python2-ssd1306-bb
_pkgname=ssd1306
pkgver=0.1
pkgrel=1
pkgdesc="Python library for driving the SSD1306 OLED display with the BeagleBone Black"
arch=('i686' 'x86_64' 'armv7h' 'armv6h')
url="http://bitbucket.org/normaldotcom/python2-ssd1306-bb/"
license=('LGPL')
depends=('python2' 'python2-imaging' 'python2-bbio' 'python2-spidev')
makedepends=('mercurial')

_hgroot=http://bitbucket.org/normaldotcom
_hgrepo=python2-ssd1306-bb

build() {
        cd $startdir/src

        # Update the repo or clone
        if [ -d $_hgrepo ]; then
                cd $_hgrepo
                hg pull -u
        else
                hg clone ${_hgroot}/${_hgrepo}
                cd $_hgrepo
        fi
}

package() {
  cd "$srcdir"/${_hgrepo}
  python2 setup.py install --root="$pkgdir"
}

