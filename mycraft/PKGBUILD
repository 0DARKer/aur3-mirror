# Maintainer: Maxence Sartiaux <makz@sartiaux.be>

pkgname=mycraft
pkgver=1.1
pkgrel=1
pkgdesc="Official minecraft launcher for mycraft.fr"
arch=(any)
license=('custom')
url="http://www.mycraft.fr/"
depends=('java-runtime' 'xorg-server-utils' 'openal' 'ttf-dejavu')
noextract=('mycraft.jar')
source=(mycraft myCraft.jar::http://puu.sh/21P7U mycraft.desktop mycraft.png mycraft.install)
md5sums=('e8a2bdfbf9f95f3ece8ff638d8160077'
         'b384a86a69f4c313db1584bbacb47013' 
         'ba965a5a26eedb8a10ef385930df8312'
         '339f0c8483b1d26b3dbfb305188deabd'
         '9e487750cfd1f0bdaf613d4d4db0ffa9')
install='mycraft.install'

build() {
    cd "$srcdir" || return 1

    install -D -m755 "${srcdir}/mycraft"         "${pkgdir}/usr/bin/mycraft"
    install -D -m644 "${srcdir}/myCraft.jar"     "${pkgdir}/usr/share/mycraft/myCraft.jar"

    # Desktop launcher with icon
    install -D -m644 "${srcdir}/mycraft.desktop" "${pkgdir}/usr/share/applications/myCraft.desktop"
    install -D -m644 "${srcdir}/mycraft.png"     "${pkgdir}/usr/share/pixmaps/mycraft.png"
}
