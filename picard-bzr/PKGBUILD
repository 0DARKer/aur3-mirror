# Now maintained by Oliver Charles
# <oliver.g.charles@googlemail.com>
#
# Originally Edited for building from bzr by ilkka
# <ilkka.s.laukkanen@gmail.com>
# Original PKGBUILD file was:
# $Id: PKGBUILD,v 1.4 2008/07/30 16:12:56 partition Exp $
# Maintainer Mateusz Herych <heniekk@gmail.com>
# Contributor sysrq

pkgname=picard-bzr
pkgver=978
pkgrel=2
pkgdesc="Next generation MusicBrainz tagging application (bzr version)"
arch=('i686' 'x86_64')
url="http://musicbrainz.org/doc/PicardTagger"
license=('GPL')
depends=('python' 'pyqt' 'qt' 'mutagen' 'libofa' 'ffmpeg')
makedepends=('bzr')
source=()
md5sums=()
provides=('picard')
conflicts=('picard' 'picard-qt')
_bzrtrunk=http://bazaar.launchpad.net/~musicbrainz-developers/picard/trunk
_bzrmod=picard
build() {
	cd $srcdir
	msg "Connecting to server..."
	if [ ! -d $_bzrmod ]; then
		bzr co $_bzrtrunk $_bzrmod
	else
		bzr up $_bzrmod
	fi
	msg "Bzr checkout done (or timeout)"
	cd $_bzrmod
	python setup.py config || return 1
	python setup.py install --root=$pkgdir || return 1
}
