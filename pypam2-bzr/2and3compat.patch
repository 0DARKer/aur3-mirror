diff -aur python-pam.orig/PAMmodule.c python-pam/PAMmodule.c
--- python-pam.orig/PAMmodule.c	2012-06-19 14:08:05.341511715 -0700
+++ python-pam/PAMmodule.c	2012-06-19 14:08:19.594845230 -0700
@@ -551,7 +551,11 @@
     Py_XDECREF(v);
 }
 
+#if PY_MAJOR_VERSION > 2
+void PyInit_PAM(void)
+#else
 void initPAM(void)
+#endif
 {
     PyObject            *m, *d;
 
