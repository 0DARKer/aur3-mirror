# Maintainer: Giorgio Gilestro <giorgio@gilestro.tk>
pkgname=ugene-binary
pkgver=1.9.3
pkgrel=1
pkgdesc="A free cross-platform genome analysis suite. Precompiled version."
arch=('i686' 'x86_64')
url="http://ugene.unipro.ru"
license=('GPL')
depends=('qt' 'mesa')

source=( ${url}/downloads/ugene-$pkgver-x86.tar.gz ${url}/downloads/ugene-${pkgver}-x86-64.tar.gz ugene.desktop ugene.sh)
md5sums=('5765940c6879240bfd3b397751d05696' '5ddf08ecb4ef5c06d772999e55aada33' '422e52c592dedab0e3ece4e4ecd28a48' '593741e794583904ec9378293e454a19')

if   [ "$CARCH" == 'i686' ]; then
  unset source[1]
  unset md5sums[1]
elif [ "$CARCH" == 'x86_64' ]; then
  unset source[0]
  unset md5sums[0]
fi


package() {
  install -d $pkgdir/usr/share/applications/
  install -d $pkgdir/usr/lib/ugene/plugins
  install -d $pkgdir/usr/bin
  install -d $pkgdir/usr/share/ugene/data
  install -d $pkgdir/usr/share/man/man1

  cd $srcdir
  install ugene.desktop $pkgdir/usr/share/applications/
  install -m755 ugene.sh $pkgdir/usr/bin/ugene

  cd $srcdir/ugene-$pkgver/data
  find . -type d -exec mkdir -p -- $pkgdir/usr/share/ugene/data/{} \;
  find . -type f -exec cp {} $pkgdir/usr/share/ugene/data/{} \;
  
  cd $srcdir/ugene-$pkgver/
  install man1/* $pkgdir/usr/share/man/man1/
  install plugins/* $pkgdir/usr/lib/ugene/plugins/
  install lib* LICENSE README trans* ugene* $pkgdir/usr/lib/ugene/
  
}


