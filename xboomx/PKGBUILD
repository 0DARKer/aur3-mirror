# Maintainer: David J. Haines <djhaines at gmx dot com>
pkgname=xboomx
pkgver=0.2
pkgrel=1
pkgdesc="dmenu wrapper that sorts based on frequency of useage (like yeganesh, but without all the haskell)"
arch=(any)
url="https://bitbucket.org/dehun/xboomx/wiki/Home"
license=('BSD')
groups=()
depends=('python2')
makedepends=('python2-setuptools')
provides=()
conflicts=()
replaces=()
backup=()
options=(!emptydirs)
install=xboomx.install
source=(https://bitbucket.org/dehun/${pkgname}/get/${pkgver}.tar.bz2)
md5sums=('657b98eac8d94cf79fd4674902e1538b')

build() {
  cd "$srcdir/dehun-xboomx-13ae493eff0e"
  python2 setup.py build
}

prepare() {
  sed -i '1s/^/#!\/usr\/bin\/python\n/' "$srcdir/dehun-xboomx-13ae493eff0e/xboomx/bin/xboomx_sort.py"
  sed -i '1s/^/#!\/usr\/bin\/python\n/' "$srcdir/dehun-xboomx-13ae493eff0e/xboomx/bin/xboomx_update.py"
}

package() {
  cd "$srcdir/dehun-xboomx-13ae493eff0e"
  python2 setup.py install --root="$pkgdir/" --optimize=1
  mkdir -p "$pkgdir/usr/share/xboomx"
  cp "$srcdir/dehun-xboomx-13ae493eff0e/etc/config" "$pkgdir/usr/share/xboomx"
}

# vim:set ts=2 sw=2 et:
