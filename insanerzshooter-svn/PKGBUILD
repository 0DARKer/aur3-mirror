# Contributor: b4283 <b4283 at gmail>
# Maintainer: Dany Martineau <dany.luc.martineau gmail.com>

pkgname=insanerzshooter-svn
pkgver=31
pkgrel=6
pkgdesc="Open source 2D old school shooting game."
url="http://insanerzshooter.googlepages.com/"
license=('GPL3')
arch=('i686' 'x86_64')
depends=('sdl' 'sdl_image' 'sdl_ttf' 'sdl_mixer' 'sdl_gfx')
makedepends=('subversion')
provides=('insanerzshooter-svn')
_svntrunk=http://insanerzshooter.googlecode.com/svn/trunk/

build() {
	cd ${srcdir}
	# Get Latest Source Code
	svn checkout http://insanerzshooter.googlecode.com/svn/trunk/ .
	g++ main.cpp -lSDLmain -lSDL -lSDL_image -lSDL_ttf -lSDL_mixer -lSDL_gfx -o insanerzshooter
	mkdir -p ${pkgdir}/usr/share/{insanerzshooter,applications} ${pkgdir}/usr/bin 
	cp -r insanerzshooter res ${pkgdir}/usr/share/insanerzshooter
	find "$pkgdir/" -name ".svn" -exec rm -r {} +
	echo -e '#!/bin/bash\ncd /usr/share/insanerzshooter\n./insanerzshooter' > ${pkgdir}/usr/bin/insanerzshooter
	chmod +x ${pkgdir}/usr/bin/insanerzshooter
        install ${srcdir}/insanerzshooter.desktop ${pkgdir}/usr/share/applications
}
