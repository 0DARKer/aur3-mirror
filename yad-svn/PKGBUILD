# Contributor: Coolaman <coolaman@free.fr>

pkgname=yad-svn
pkgver=108
pkgrel=1
pkgdesc="Display graphical dialogs from shell scripts or command line"
url="http://code.google.com/p/yad/"
arch=('i686' 'x86_64')
conflicts=("yad")
license=('GPL2')
depends=('bash' 'gtk2' 'gettext' 'intltool' )
provides=("yad-svn=$pkgver" "yad")

_svntrunk=http://yad.googlecode.com/svn/trunk
_svnmod=yad

build() {
  cd ${srcdir}

  msg "Checking out source from SVN repository..."
      if [ -d $_svnmod/.svn ]; then
          cd $_svnmod
          svn up
      else
          svn co $_svntrunk $_svnmod
      fi

  msg "Checkout complete (or server timeout)"
  msg "Build process : Start"

  cd ${srcdir}/$_svnmod
    
  autoreconf -i
  ./configure --prefix=/usr || return 1
  make || return 1
  make prefix=${startdir}/pkg/usr install || return 1
}
