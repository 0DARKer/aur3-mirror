# Contributor: mickele <mimocciola AT yahoo DOT com>
# Contributor: Christoph Siegenthaler <csi AT gmx DOT ch >
pkgname=getdp
pkgver=1.2.1
pkgrel=2
pkgdesc="GetDP is a general finite element solver using mixed elements to discretize de Rham-type complexes in one, two and three dimensions"
arch=('i686' 'x86_64')
url="http://www.geuz.org/getdp/"
license=('GPL')
depends=('gcc-libs' 'blas' 'lapack' 'gsl')
makedepends=('make' 'gcc' 'sed')
optdepends=()
source=(http://www.geuz.org/$pkgname/src/${pkgname}-${pkgver}-source.tgz)
md5sums=('5f5d7cdaeaeea3dcd15ba900e9f7e896')

build(){
  cd "${srcdir}/${pkgname}-${pkgver}" || return 1
  sed -e '/ *EXTERNAL *ETIME/d' -i Arpack/second.f 
  ./configure --prefix=/usr || return 1
  make || return 1
  make bindir="${pkgdir}/usr/bin" mandir="${pkgdir}/usr/share/man" install || return 1
} 
