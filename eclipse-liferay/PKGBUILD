# Contributor: idovitz <ido@vanverseveld.org>

pkgname=eclipse-liferay
pkgver=nightly
pkgrel=1
arch=('i686' 'x86_64')
pkgdesc="Eclipse plugin for Liferay Portal Development"
license=('LGPL')
url="http://lportal.sourceforge.org"
depends=('eclipse' 'eclipse-wtp>=3.4.0')
#source=("liferay-ide-eclipse-updatesite-1.5.3.zip::http://downloads.sourceforge.net/project/lportal/Liferay%20IDE/1.5.3/liferay-ide-eclipse-updatesite-1.5.3.zip?r=http%3A%2F%2Fsourceforge.net%2Fprojects%2Flportal%2Ffiles%2FLiferay%2520IDE%2F1.5.3%2Fliferay-ide-eclipse-updatesite-1.5.3.zip%2Fdownload%3Fuse_mirror%3Dnetcologne&ts=1342084920&use_mirror=netcologne")
#md5sums=('3c6c5c74f607cfaf2f818af6e8473d15')

build() {
	wget -r -l 1 'http://releases.liferay.com/tools/ide/eclipse/juno/nightly/features/'
	wget -r -l 1 'http://releases.liferay.com/tools/ide/eclipse/juno/nightly/plugins/'

	mkdir -p ${pkgdir}/usr/share/eclipse/dropins/liferay-ide/eclipse/plugins || return 1
	mkdir -p ${pkgdir}/usr/share/eclipse/dropins/liferay-ide/eclipse/features || return 1
	cp ${srcdir}/releases.liferay.com/tools/ide/eclipse/juno/nightly/features/*.jar ${pkgdir}/usr/share/eclipse/dropins/liferay-ide/eclipse/features || return 1
	cp ${srcdir}/releases.liferay.com/tools/ide/eclipse/juno/nightly/plugins/*.jar ${pkgdir}/usr/share/eclipse/dropins/liferay-ide/eclipse/plugins || return 1
}
