# Maintainer: Jaroslav Lichtblau <dragonlord@aur.archlinux.org>

pkgname=bluefish-devel
pkgver=1.3.8
pkgrel=1
pkgdesc="Programmer's HTML editor written using GTK (unstable version)"
arch=('i686' 'x86_64')
url="http://bluefish.openoffice.nl/"
license=('GPL')
depends=('aspell' 'enchant' 'gtk2' 'gvfs' 'hicolor-icon-theme' 'libgnomeui' 'openssh' 'python' 'shared-mime-info')
makedepends=('perlxml' 'pkgconfig')
conflicts=('bluefish' 'bluefish-cvs' 'bluefish-svn')
provides=('bluefish')
options=('!libtool')
install=$pkgname.install
source=(http://www.bennewitz.com/bluefish/devel/source/bluefish-unstable-$pkgver.tar.bz2)
md5sums=('a4800b75f220ab6301a340052cd07401')

build() {
  cd ${srcdir}/bluefish-unstable-$pkgver

  ./configure --prefix=/usr --exec-prefix=/usr --sysconfdir=/etc --localstatedir=/var \
    --with-freedesktop_org-menu=/usr/share/applications \
    --with-freedesktop_org-mime=/usr/share/mime \
    --without-gnome2_4-mime \
    --without-gnome2_4-appreg \
    --with-icon-path=/usr/share/pixmaps \
    --disable-update-databases \
    --disable-xml-catalog-update
  make || return 1
  make DESTDIR=${pkgdir} install

#.desktop file
  install -D -m644 ${srcdir}/bluefish-unstable-$pkgver/desktop-data/bluefish-unstable.desktop \
                   ${pkgdir}/usr/share/applications/bluefish-unstable.desktop || return 1
}
