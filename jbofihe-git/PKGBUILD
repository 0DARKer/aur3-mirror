# Maintainer: Baptiste Jonglez <baptiste--aur at jonglez dot org>
# Contributor: spider-mario <spidermario@free.fr>
pkgname=jbofihe-git
pkgver=20120113
pkgrel=2
pkgdesc="A command-line program designed to perform various operations on Lojban text: checking grammatical correctness, displaying grammatical structure, approximate English translation. Comes with the 'cmafihe', 'smujajgau', 'jvocuhadju' and 'vlatai' tools."
arch=('i686' 'x86_64')
url="https://github.com/lojban/jbofihe"
license=('GPL')
makedepends=('git' 'perl')
# The Makefile doesn't seem to support more than one threadâ€¦
# We disable MAKEFLAGS, so no "-j X" option.
options=('!makeflags')
source=(git+https://github.com/lojban/jbofihe)
sha512sums=(SKIP)

# TODO: provide the dictionary (/usr/lib/jbofihe/smujmaji.dat) in a separate package to ease upgrading?

build() {
  cd "$srcdir/jbofihe"

  msg "Launching config.pl..."

  perl config.pl --prefix=/usr

  msg "Launching make..."

  # Also, the parser expect the locale to be an English one.
  make LC_ALL=C LANG=C all
}

package() {
  cd "$srcdir/jbofihe"
  make DESTDIR="$pkgdir/" install
}

# vim:set ts=2 sw=2 et:
