pkgname=i2pd
pkgver=0.1.0
pkgrel=1
pkgdesc="Simplified C++ implementation of I2P client"
arch=('i686' 'x86_64')
url="https://github.com/PrivacySolutions/i2pd"
license=('GPL2')
depends=('crypto++' 'boost-libs')
makedepends=('boost')
conflicts=('i2pd-git')
install='i2pd.install'
source=("https://github.com/PrivacySolutions/${pkgname}/archive/${pkgver}.tar.gz"
        "i2pd.install"
        "i2pd.service")
sha256sums=('5c7b57bc0913a7b959be07aaedc847d84bfa78a78bf997db5b4bc86076a081a3'
            'df76265e8d7b4b6f2922e5e0bef05acaaaedf292eac4f9734609553bb8c5a382'
            '17a4ee27d98010e77d74bf48a07be0759eefee2a3fed8fd57d461e473ab6aad6')

build() {
    cd "$srcdir/i2pd-$pkgver"
    make
}

package() {
    cd "$srcdir/i2pd-$pkgver"
    install -Dm755 i2p "$pkgdir/usr/bin/i2p"
    install -Dm0644 "$srcdir/i2pd.service" "$pkgdir/usr/lib/systemd/system/i2pd.service"
    install -dm0700 "$pkgdir/var/lib/i2p"
}
# vim:set ts=4 sw=4 et:
