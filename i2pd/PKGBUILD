# Maintainer: M0Rf30

pkgname=i2pd
pkgver=0.4.0
pkgrel=1
pkgdesc="Simplified C++ implementation of I2P client"
arch=('i686' 'x86_64')
url="https://github.com/PrivacySolutions/i2pd"
license=('GPL2')
depends=('crypto++' 'boost-libs')
makedepends=('boost')
conflicts=('i2pd-git')
install='i2pd.install'
source=("https://github.com/PrivacySolutions/${pkgname}/archive/${pkgver}.tar.gz"
        "i2pd.install"
        "i2pd.service")

build() {
    cd "$srcdir/i2pd-$pkgver"
    make
}

package() {
    cd "$srcdir/i2pd-$pkgver"
    install -Dm755 i2p "$pkgdir/usr/bin/i2p"
    install -Dm0644 "$srcdir/i2pd.service" "$pkgdir/usr/lib/systemd/system/i2pd.service"
    install -dm0700 "$pkgdir/var/lib/i2p"
}

md5sums=('249604080f04461f280936edef73696e'
         'fd2b3a447786ae668999b72fedf19df5'
         'd436e519007798b64e63387beaf54e22')
