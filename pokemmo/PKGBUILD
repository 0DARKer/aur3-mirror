# Maintainer: Sam Stuewe <halosghost at archlinux dot info>
# Contributer: Desu [I cannot find a contact email, nor the lead dev's name. Desu is the lead dev's handle]

pkgname="pokemmo"
pkgver=1.0
pkgrel=5
pkgdesc="An MMO based on the Pok√©mon Universe"
arch=('any')
url="http://pokemmo.eu"
license=('custom:none')    # I couldn't find a license for the package anywhere and contacting the devs
depends=('jdk7-openjdk')   # is one of the more difficult things I have ever attempted
backup=("opt/$pkgname/config/log4j.dtd"
        "opt/$pkgname/config/log4j.xml"
        "opt/$pkgname/config/main.properties"
        "opt/$pkgname/config/sound.properties")
install="$pkgname.install"
source=("http://pokemmo.eu/download/PokeMMO-Client.zip"
        "pokemmo.sh")
md5sums=('c9c9bb09319c93fc49ae1c76a6a79bee'
         'ff9b8c642b695c856d2f05c5d91fe769')

package() {

   install -Dm644 PokeMMO.exe "${pkgdir}/opt/${pkgname}/PokeMMO.exe"
   install -Dm755 PokeMMO.sh "${pkgdir}/opt/${pkgname}/"
   install -Dm755 pokemmo.sh "${pkgdir}/usr/bin/${pkgname}"

   # Copy package directories
   cp -dpr --no-preserve=ownership "${srcdir}"/{config,data,lib,log,roms} "${pkgdir}"/opt/"${pkgname}"/
   
   chmod 777 "${pkgdir}"/opt/"${pkgname}"/config
   chmod 777 "${pkgdir}"/opt/"${pkgname}"/config/*

}
