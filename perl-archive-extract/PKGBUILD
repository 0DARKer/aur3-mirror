# Contributor: Sebastien Bariteau <numkem@gmail.com>
pkgname='perl-archive-extract'
pkgver='0.60'
pkgrel='1'
pkgdesc="Generic archive extracting mechanism"
arch=('any')
license=('PerlArtistic' 'GPL')
options=('!emptydirs')
depends=('perl')
makedepends=()
url='http://search.cpan.org/dist/Archive-Extract'
source="http://search.cpan.org/CPAN/authors/id/B/BI/BINGOS/Archive-Extract-0.60.tar.gz"
md5sums=('4cc2c4d545504e51b6aaff5ef150c2f0')
_distdir="${srcdir}/Archive-Extract-0.60"

build() {
  cd "${srcdir}/Archive-Extract-${pkgver}"
  
  # install module in vendor directories.
  PERL_MM_USE_DEFAULT=1 perl Makefile.PL INSTALLDIRS=vendor || return 1
  make  || return 1
  make install DESTDIR=${pkgdir} || return 1

  # remove perllocal.pod and .packlist
  find $pkgdir -name perllocal.pod -delete
  find $pkgdir -name .packlist -delete
}

check() {
  cd "$_distdir"
  ( export PERL_MM_USE_DEFAULT=1 PERL5LIB=""
    make test
  )
}

# Local Variables:
# mode: shell-script
# sh-basic-offset: 2
# End:
# vim:set ts=2 sw=2 et:
