# Maintainer: Jameson Pugh <imntreal@gmail.com>

pkgname=3dfsb
pkgver=1.0rc1
pkgrel=1
pkgdesc="3D file browser"
arch=('i686' 'x86_64')
url="https://github.com/tomvanbraeckel/3dfsb/"
license=("GPL")
depends=('gst-plugins-bad' 'freeglut' 'file' 'gdk-pixbuf2' 'libxmu' 'smpeg' 'sdl_image')
install=$pkgname.install
source=("https://github.com/tomvanbraeckel/3dfsb/archive/v1.0-rc1.tar.gz"
        'compile.patch'
        '3dfsb.desktop')
sha256sums=('8bfb20b403305c31efa478dccaf85891b5803b97b13f0dfd7df2245415e51650'
            '7eb6186bac159ecc8bfa30f4baccd8184ecfe3137d15699fc00423af12b05a0b'
            'c53f4ba2ed02513c3ec60f9182fb25c71f03d19e60498f563d960bd93bc6eb84')

prepare() {
  cd ${srcdir}/${pkgname}-1.0-rc1

  patch -p1 < ../compile.patch
}

build() {
  cd ${srcdir}/${pkgname}-1.0-rc1

  ./compile.sh
}

package() {
  cd ${srcdir}/${pkgname}-1.0-rc1

  install -dm755 ${pkgdir}/usr/bin
  install -dm755 ${pkgdir}/usr/share/applications
  install -m755 3dfsb ${pkgdir}/usr/bin/3dfsb
  install -m644 ../3dfsb.desktop ${pkgdir}/usr/share/applications/3dfsb.desktop
}

# vim:set ts=2 sw=2 et:
