# Contributor: RÃ©my Oudompheng <remy@archlinux.org>

pkgname=gtkmm3
#pkgbase=gtkmm3
#pkgname=('gtkmm3' 'gtkmm3-docs')
pkgver=2.91.5.1
pkgrel=1
arch=('i686' 'x86_64')
# gtkmm provides atkmm
makedepends=('gtk3>=2.91.5' 'atkmm>=2.22' 'pangomm>=2.26.2' 'glibmm-docs>=2.27' 'glibmm>=2.27' 'cairomm>=1.9.1')
license=('LGPL')
options=('!libtool' '!emptydirs')
url="http://gtkmm.sourceforge.net/"
source=(http://ftp.gnome.org/pub/GNOME/sources/gtkmm/2.91/gtkmm-${pkgver}.tar.bz2)
sha256sums=('3f06eab3fd2ff75af108a885b4acdf618753f0a15da85455ca17483e2da4e80d')

build() {
  cd "${srcdir}/gtkmm-${pkgver}"
  # cheat for atkmm version
  ./configure --prefix=/usr
  make
}

package() {
#package_gtkmm3() {
  pkgdesc="C++ bindings for gtk3"
  depends=('gtk3>=2.91.5' 'atkmm>=2.22' 'pangomm>=2.26.2' 'glibmm>=2.27')
  cd "${srcdir}/gtkmm-${pkgver}"
  sed -i -e 's/^doc_subdirs/#doc_subdirs/' Makefile
  make DESTDIR="${pkgdir}" install
}

package_gtkmm3-docs() {
  pkgdesc="Developer documentation for gtkmm3"
  cd "${srcdir}/gtkmm-${pkgver}/docs"
  make DESTDIR="${pkgdir}" install
}
