# Contributor: chromatic6                                                                                                                                                      

pkgname=kwebkitpart-git
pkgver=20101230
pkgrel=1
pkgdesc="A web browser component for KDE"
url="http://opendesktop.org/content/show.php?content=127960"
arch=('i686' 'x86_64')
license=('GPL')
depends=('kdebase-runtime>=4.5.69')
makedepends=('cmake' 'automoc4')
install=kwebkitpart.install
provides=('kwebkitpart')
conflicts=('kwebkitpart')
replaces=('kwebkitpart')

_gitroot="git://anongit.kde.org/kwebkitpart"
_gitname="kwebkitpart"


build() {
cd $srcdir

        if [[ -d $_gitname ]]; then
             (cd $_gitname && git pull origin)
        else
             git clone $_gitroot $_gitname
        fi
	
cd $_gitname

rm -rf build
mkdir build && cd build
cmake -DCMAKE_INSTALL_PREFIX=/usr -DCMAKE_BUILD_TYPE=Release .. || return 1
make || return 1
make DESTDIR=${pkgdir} install || return 1
}