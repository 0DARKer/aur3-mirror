# Contributor: Rorschach <r0schach@lavabit.com>
# Maintainer:  max.bra <max dot bra at alice dot it>

pkgname=ipscan
pkgver=3.0_beta5
pkgrel=1
pkgdesc='Angry IP Scanner (or simply ipscan) is an open-source and cross-platform network scanner designed to be fast and simple to use. It scans IP addresses and ports as well as has many other features.'
arch=('i686' 'x86_64')
license=('GPL2')
url="http://www.angryziber.com"
depends=('java-runtime')
source=(http://downloads.sourceforge.net/project/ipscan/ipscan3-binary/3.0-beta5/ipscan-linux-3.0-beta5.jar \
	ipscan.png \
	ipscan \
	ipscan.desktop )

md5sums=('f7ce9b235fb720558d97b4a3d96ebb12'
	 '59de9b8055fe037c77bf8339eee31b85'
         '5b1c941c32a444803677a2061aa55a70'
         '6a8f7a0fb70cf2c801ff5422870609f9')

[ "$CARCH" = "x86_64" ] && source=(http://downloads.sourceforge.net/project/ipscan/ipscan3-binary/3.0-beta5/ipscan-linux64-3.0-beta5.jar \
				   ipscan.png \
				   ipscan \
				   ipscan.desktop )
[ "$CARCH" = "x86_64" ] && md5sums=('7b45e8d5175210b0f48505025b56eaa5'
				    '59de9b8055fe037c77bf8339eee31b85'
			            '5b1c941c32a444803677a2061aa55a70'
			            '6a8f7a0fb70cf2c801ff5422870609f9')

noextract=($(for i in ${source[@]}; do basename $i; done))

build() {
  /bin/true
}

package() {
  cd "$srcdir"
  install -Dm755 $pkgname $pkgdir/usr/bin/$pkgname || return 1
  install -Dm644 $pkgname.png $pkgdir/usr/share/pixmaps/$pkgname.png || return 1
  install -Dm644 $pkgname.desktop $pkgdir/usr/share/applications/$pkgname.desktop || return 1
  if [ "$CARCH" = "x86_64" ]; then
    install -Dm644 $pkgname-linux64-3.0-beta5.jar $pkgdir/usr/share/java/$pkgname/$pkgname-linux64-3.0-beta5.jar || return 1
  else
    install -Dm644 $pkgname-linux-3.0-beta5.jar $pkgdir/usr/share/java/$pkgname/$pkgname-linux-3.0-beta5.jar || return 1
  fi
}

