# Maintainer: Limao Luo <luolimao@gmail.com>

_pkgname=radical
pkgname=$_pkgname-comic-designer
pkgver=3.0.1
pkgrel=7
pkgdesc="Radical Comic Designer: A graphical comic designer"
url="http://lunduke.com/?page_id=3012"
arch=('i686' 'x86_64')
license=('custom:GLL')
depends=('gtk2' 'desktop-file-utils')
if test "$CARCH" == x86_64; then
    depends+=('lib32-gtk2')
    optdepends+=(
	'lib32-libcanberra: To get rid of an annoying error'
	'lib32-gtk-engines: Needed to get a decent look & feel')
fi
install="radical.install"
source=(
    "http://www.lunduke.com/rcd/RadicalComicDesigner.tar.gz"
    "LICENSE"
    "$_pkgname.desktop")
sha256sums=(
    'c1499fba5bb6a7fd0444131074a4f16bf923d355efd7404a327f249251f0676b'
    '72f4a64010d31d601c2780344b52c87ce08d5c604e1d58255578cd9cc3c8fc5a'
    '04c8914638cc7b905cd772f701cee65b40074ba93874cfc6fc111d2b9d3f0904')
sha512sums=(
    '9dd70bb075c3fe70f9b2a9fae478d7b480cf3d6b21aa4cb2f91d7785ddfb3db5312e2a35affd400e8f2ddc28b517f177235f1085a8385aefffd9f7bdfe953b3f'
    'beba5402b92dd9e756a1afd4b5d2cbcb8b70b110bb0db5b1ca2bc24a010f4ade92bfdca8ef548cfbc52a17b565010421bb793410366c4c41fd0127fc0d6dec90'
    '1e8f97c384d378e91b695cf17460784329123bda38df05eaeda93bd11315d327c6cee54596edc6635d3d5691802b60f3f175017becbaa97520f2c080efa3853d')

build() {
    cd $srcdir
    install -Dm644 LICENSE $pkgdir/usr/share/licenses/$pkgname/LICENSE
    cd RadicalComicDesigner/
    install -Dm644 RCDIcon256.png $pkgdir/usr/share/pixmaps/$_pkgname.png; rm RCDIcon256.png
    cd ../

    install -d $pkgdir/opt/
    cp -r RadicalComicDesigner/ $pkgdir/opt/$pkgname

    desktop-file-install $_pkgname.desktop --dir=$pkgdir/usr/share/applications/

    install -d $pkgdir/usr/bin/
    ln -s /opt/$pkgname/RadicalComicDesigner $pkgdir/usr/bin/$_pkgname
}
