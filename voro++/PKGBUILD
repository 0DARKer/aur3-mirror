# Maintainer: archlid <a_becker {at} live {dot} de>
pkgname=voro++
pkgver=0.3.1
pkgrel=1
pkgdesc="A free software library for the computation of three dimensional Voronoi cells."
arch=('i686' 'x86_64')
url="http://math.lbl.gov/voro++/"
license=('BSD')
depends=('perl' 'gcc-libs')
source=(http://math.lbl.gov/voro++/download/dir/${pkgname}_$pkgver.tar.gz)
md5sums=('7c7c262615b61c90af80dba4ac661706')
 
build() {
  cd "$srcdir/$pkgname/src"
  make
}

package() {
  cd "$srcdir/$pkgname"
  install -d $pkgdir/usr/bin $pkgdir/usr/share/licenses/$pkgname $pkgdir/usr/share/$pkgname/{doc,doc/html,examples,scripts}
  install -m644 $srcdir/$pkgname/LICENSE $pkgdir/usr/share/licenses/$pkgname
  install -m644 $srcdir/$pkgname/NEWS $pkgdir/usr/share/$pkgname
  install -m644 $srcdir/$pkgname/scripts/* $pkgdir/usr/share/$pkgname/scripts
  install -m644 $srcdir/$pkgname/html/* $pkgdir/usr/share/$pkgname/doc/html
  install -m755 $srcdir/$pkgname/bin/voro++ $pkgdir/usr/bin/
  install -m644 $srcdir/$pkgname/{latex/*,doc/*} $pkgdir/usr/share/$pkgname/doc
  cp -r $srcdir/$pkgname/examples/* $pkgdir/usr/share/$pkgname/examples
  chmod -R 755 $pkgdir/usr/share/$pkgname/examples
  find $pkgdir/usr/share/$pkgname/examples -type f -exec chmod 644 '{}' \;
}
