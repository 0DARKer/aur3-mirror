# Contributor: Lucas Hermann Negri <lucashnegri@gmail.com>

pkgname=lgob
pkgver=13.02
pkgrel=1
pkgdesc="Bindings of GObject-based libraries (GTK, WebKitGtk, etc) and some others (cairo, etc) for Lua."
arch=(i686 x86_64)
url="http://oproj.tuxfamily.org" 
depends=('lua51' 'libwebkit3' 'gtksourceview3' 'clutter-gtk' 'vte3' 'poppler-glib')
license=('LGPL')
source=("http://downloads.tuxfamily.org/oproj/$pkgname/$pkgname-$pkgver.tar.bz2")
md5sums=("3d3112bc7a0a856f5842eb19659c8612")

build() { 
  cd "$srcdir/$pkgname-$pkgver"
  
  if [ ${CARCH} = 'i686' ]; then
    lua5.1 build_all.lua $pkgdir/usr
  else
    lua5.1 build_all.lua $pkgdir/usr AMD64
  fi
  
  # examples
  install -d "$pkgdir/usr/share/lgob/examples"
  install -Dm644 examples/* "$pkgdir/usr/share/lgob/examples"
}
