# Maintainer: drawm <mdraw.gh at gmail.com>
#
# KNOSSOS saves its user preferences in $HOME/.config/MPIMF/

pkgname=knossos
pkgver=4.0.1
pkgrel=2
pkgdesc="A software tool for the visualization and annotation of 3D image data. It was developed for the rapid reconstruction of neural morphology and connectivity."
arch=('x86_64')
url="http://www.knossostool.org/"
license=('GPL2')
depends=('qt5-tools' 'freeglut' 'curl' 'glu')
makedepends=('cmake')
source=(
        "https://github.com/knossos-project/knossos/archive/v${pkgver}.tar.gz"
        "knossos.desktop"
)
sha256sums=(
            '00841ad5139e978dfcabfb92e4304223e6aa3c701e485be3f8d2b36eb11fff8b'
            '462aa5f01abf5f330eeca964789513de7061c6c801ee779245f864b14b583012'
)

build() {
    cd "$srcdir/$pkgname-$pkgver"
    cmake .
    make
}

package() {
    cd "$srcdir/$pkgname-$pkgver"
    install -Dm755 Knossos "$pkgdir/usr/bin/knossos"
    install -Dm644 logo.ico "$pkgdir/usr/share/pixmaps/knossos.ico"
    install -Dm644 ../knossos.desktop "$pkgdir/usr/share/applications/knossos.desktop"
}
