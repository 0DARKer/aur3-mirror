diff -urN openvas-libraries-4.0.4.orig//CMakeLists.txt openvas-libraries-4.0.4/CMakeLists.txt
--- openvas-libraries-4.0.4.orig//CMakeLists.txt	2011-05-15 09:32:15.151769141 +0200
+++ openvas-libraries-4.0.4/CMakeLists.txt	2011-05-15 09:32:54.825715940 +0200
@@ -240,7 +240,9 @@
 set (HARDENING_FLAGS            "-Wformat -Wformat-security -O2 -D_FORTIFY_SOURCE=2 -fstack-protector -Wl,-z,relro -Wl,-z,now")
 
 set (CMAKE_C_FLAGS_DEBUG        "${CMAKE_C_FLAGS_DEBUG}")
-set (CMAKE_C_FLAGS              "${CMAKE_C_FLAGS} ${HARDENING_FLAGS} -Wall -Werror")
+# Disable -Werror since gnutls have deprecated function calls
+# set (CMAKE_C_FLAGS              "${CMAKE_C_FLAGS} ${HARDENING_FLAGS} -Wall -Werror")
+set (CMAKE_C_FLAGS              "${CMAKE_C_FLAGS} ${HARDENING_FLAGS} -Wall")
 
 add_subdirectory (base)
 add_subdirectory (misc)
diff -urN openvas-libraries-4.0.4.orig//misc/CMakeLists.txt openvas-libraries-4.0.4/misc/CMakeLists.txt
--- openvas-libraries-4.0.4.orig//misc/CMakeLists.txt	2011-05-15 09:32:15.148435729 +0200
+++ openvas-libraries-4.0.4/misc/CMakeLists.txt	2011-05-15 09:37:58.383743753 +0200
@@ -70,7 +70,8 @@
 set (HARDENING_FLAGS            "-Wformat -Wformat-security -O2 -D_FORTIFY_SOURCE=2 -fstack-protector -Wl,-z,relro -Wl,-z,now")
 
 set (CMAKE_C_FLAGS_DEBUG        "${CMAKE_C_FLAGS_DEBUG}")
-set (CMAKE_C_FLAGS              "${CMAKE_C_FLAGS} ${HARDENING_FLAGS} -Wall -Werror -fPIC")
+# set (CMAKE_C_FLAGS              "${CMAKE_C_FLAGS} ${HARDENING_FLAGS} -Wall -Werror -fPIC")
+set (CMAKE_C_FLAGS              "${CMAKE_C_FLAGS} ${HARDENING_FLAGS} -Wall -fPIC")
 
 if (MINGW)
   set (FILES openvas_auth.c openvas_server.c proctitle.c)
diff -urN openvas-libraries-4.0.4.orig//nasl/CMakeLists.txt openvas-libraries-4.0.4/nasl/CMakeLists.txt
--- openvas-libraries-4.0.4.orig//nasl/CMakeLists.txt	2011-05-15 09:32:15.161769271 +0200
+++ openvas-libraries-4.0.4/nasl/CMakeLists.txt	2011-05-15 09:41:47.513953863 +0200
@@ -39,7 +39,8 @@
 # The "-D_FILE_OFFSET_BITS=64 -DLARGEFILE_SOURCE=1" is necessary for GPGME!
 # The "-fno-strict-aliasing" silences warnings caused by macros defined in byteorder.h.
 # Once the warnings have been addressed this flag should be removed.
-set (CMAKE_C_FLAGS              "${CMAKE_C_FLAGS} ${HARDENING_FLAGS} -Wall -Werror -D_FILE_OFFSET_BITS=64 -DLARGEFILE_SOURCE=1 -fno-strict-aliasing")
+# set (CMAKE_C_FLAGS              "${CMAKE_C_FLAGS} ${HARDENING_FLAGS} -Wall -Werror -D_FILE_OFFSET_BITS=64 -DLARGEFILE_SOURCE=1 -fno-strict-aliasing")
+set (CMAKE_C_FLAGS              "${CMAKE_C_FLAGS} ${HARDENING_FLAGS} -Wall -D_FILE_OFFSET_BITS=64 -DLARGEFILE_SOURCE=1 -fno-strict-aliasing")
 
 # The "-Wno-error=unprototyped-calls" silences warnings produced by an
 # openSUSE-patched gcc caused by code in regex.c.
diff -urN openvas-libraries-4.0.4.orig//omp/CMakeLists.txt openvas-libraries-4.0.4/omp/CMakeLists.txt
--- openvas-libraries-4.0.4.orig//omp/CMakeLists.txt	2011-05-15 09:32:15.141768969 +0200
+++ openvas-libraries-4.0.4/omp/CMakeLists.txt	2011-05-15 09:43:37.865660451 +0200
@@ -27,7 +27,8 @@
 set (HARDENING_FLAGS            "-Wformat -Wformat-security -O2 -D_FORTIFY_SOURCE=2 -fstack-protector -Wl,-z,relro -Wl,-z,now")
 
 set (CMAKE_C_FLAGS_DEBUG        "${CMAKE_C_FLAGS_DEBUG}")
-set (CMAKE_C_FLAGS              "${CMAKE_C_FLAGS} ${HARDENING_FLAGS} -Wall -Werror")
+# set (CMAKE_C_FLAGS              "${CMAKE_C_FLAGS} ${HARDENING_FLAGS} -Wall -Werror")
+set (CMAKE_C_FLAGS              "${CMAKE_C_FLAGS} ${HARDENING_FLAGS} -Wall")
 
 set (FILES xml.c omp.c)
 
