# Maintainer: Limao Luo <luolimao+AUR@gmail.com>

pkgname=mcobj-lib
pkgver=20120919
pkgrel=1
pkgdesc="Library files for building mcobj"
arch=(any)
_dir=github.com/quag/mcobj
url=http://$_dir
license=(custom)
makedepends=(go git)

_gitroot=$url.git
_gitname=mcobj

package() {
    cd "$srcdir"
    msg "Connecting to GIT server...."
    if [[ -d $_gitname/.git ]] ; then
        pushd $_gitname && git pull origin
        msg "The local files are updated."
        popd
    else
        git clone $_gitroot
    fi
    msg "GIT checkout done or server timeout"

    msg "Installing..."
    cd $_gitname/
    install -d "$pkgdir"/usr/lib/go/src/pkg/$_dir/
    cp -r commandline mcworld nbt "$pkgdir"/usr/lib/go/src/pkg/$_dir/
}
