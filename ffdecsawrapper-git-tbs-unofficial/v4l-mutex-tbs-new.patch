--- media_build/linux/drivers/media/dvb-core/dvbdev.c	2013-12-01 09:56:05.316521918 +0100
+++ media_build/linux/drivers/media/dvb-core/dvbdev.c	2013-12-01 09:55:35.031858767 +0100
@@ -82,7 +82,9 @@
 		file->private_data = dvbdev;
 		replace_fops(file, new_fops);
 		if (file->f_op->open)
+			mutex_unlock(&dvbdev_mutex);
 			err = file->f_op->open(inode,file);
+			mutex_lock(&dvbdev_mutex);
 		up_read(&minor_rwsem);
 		mutex_unlock(&dvbdev_mutex);
 		return err;

--- tbs_media_build/drivers/media/dvb-core/dvbdev.c	2013-12-01 09:56:05.316521918 +0100
+++ tbs_media_build/drivers/media/dvb-core/dvbdev.c	2013-12-01 09:55:35.031858767 +0100
@@ -82,7 +82,9 @@
 		file->private_data = dvbdev;
 		replace_fops(file, new_fops);
 		if (file->f_op->open)
+			mutex_unlock(&dvbdev_mutex);
 			err = file->f_op->open(inode,file);
+			mutex_lock(&dvbdev_mutex);
 		up_read(&minor_rwsem);
 		mutex_unlock(&dvbdev_mutex);
 		return err;

