# Maintainer: Chris Baker <baker.chris.3@gmail.com>
# Contributor: Sebastien Binet <binet@farnsworth>
pkgname=python3-distribute
pkgver=0.6.10
pkgrel=1
pkgdesc="Easily download, build, install, upgrade, and uninstall Python packages"
arch=(any)
url="http://pypi.python.org/pypi/distribute"
license=('Python')
depends=('python3')
source=(http://pypi.python.org/packages/source/d/distribute/distribute-$pkgver.tar.gz 
        pkgbuild-test-setuptools.py)
md5sums=('99fb4b3e4ef0861bba11aa1905e89fed'
         '374efc7e13dbf9b99e9edbb28e410d5b')

build() 
{
  # detect if setuptools is already installed
  cd $startdir/src
  python3 ./pkgbuild-test-setuptools.py
  if [ $? == 1 ]; then
    msg "please remove 'setuptools' first"
    return 1
  fi

  cd $startdir/src/distribute-$pkgver
  python3 setup.py install --prefix=/usr --root=$pkgdir/ --optimize=1 || return 1
  rm $pkgdir/usr/bin/easy_install
}
