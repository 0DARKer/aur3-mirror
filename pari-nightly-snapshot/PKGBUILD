# Maintainer: Limao Luo <luolimao@gmail.com>

pkgname=pari-nightly-snapshot
pkgver=2.6
pkgrel=1
pkgdesc="Pari/GP: Computer algebra system designed for fast computations in number theory (nightly snapshot)"
url='http://pari.math.u-bordeaux.fr/'
arch=('i686' 'x86_64')
license=('GPL')
depends=('gmp' 'readline')
makedepends=('perl' 'texlive-core' 'libx11')
conflicts=('pari')
provides=('pari')
optdepends=('perl: gphelp, tex2mail')
_name=""

build() {
    cd $srcdir
    wget -cP ./ "ftp://pari.math.u-bordeaux.fr/pub/pari/snapshots/pari-2.6*"
    _name=`find . -name *gz | xargs basename | sed "s:\\.tar\\.gz::"`
    pkgrel=`echo $_name |  sed "s:.*\\-\([0-9]\{4\}\).*:\1:"`
    tar xvf "${_name}.tar.gz"
    cd $_name
    ./Configure --prefix=/usr
    make all bench
    make DESTDIR="$pkgdir" install
}
