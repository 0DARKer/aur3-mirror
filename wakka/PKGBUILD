# Maintainer: Mitchell Nemitz <mitchell.nemitz@gmail.com>

pkgname=wakka
pkgver=0.2.1
pkgrel=3
pkgdesc="Package manager for archlinux based on GtkPacman"
arch=('any')
url="http://code.google.com/p/wakka-package-manager/"
license=('GPL')
depends=('python2' 'pygtk' 'vte')
source=("http://wakka-package-manager.googlecode.com/files/${pkgname}-${pkgver}.tar.bz2")
sha1sums=('eb171706ec80220e7feef9b8b842c2c7255e8bc5')

build () {
    cd "${srcdir}/${pkgname}-${pkgver}"
    # Nothing to do here
}

package() {
    cd "${srcdir}/${pkgname}-${pkgver}"
    
    # Make the directories
    mkdir --parents "${pkgdir}/usr/lib/wakka/"
    mkdir --parents "${pkgdir}/usr/bin/"

    # Copy the core data files
    cp --parents -R "wakkacore/" "${pkgdir}/usr/lib/wakka/"
    cp --parents -R "data/"      "${pkgdir}/usr/lib/wakka/"

    # Copy license and readme information
    cp "COPYING" "${pkgdir}/usr/lib/wakka/"
    cp "LICENSE" "${pkgdir}/usr/lib/wakka/"
    cp "README"  "${pkgdir}/usr/lib/wakka/"

    # Copy the executables
    cp "wakka-package-manager" "${pkgdir}/usr/lib/wakka/"
    cp "wakka"                 "${pkgdir}/usr/bin/"
    
    chmod +x "${pkgdir}/usr/bin/wakka"
}
