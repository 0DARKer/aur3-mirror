# Maintainer: Filip GranÃ¶ fgrano[at]cc.hut.fi

pkgname=eclipse-java
pkgver=3.5.2
pkgrel=1
pkgdesc="Eclipse IDE for Java Developers"
arch=('i686' 'x86_64')
url="http://www.eclipse.org"
license="EPL"
depends=('java-environment>=6' 'gtk2>=2.18' 'xulrunner')
provides=('eclipse')
conflicts=('eclipse')

if [ $CARCH = "x86_64" ]; then
source=(eclipse.sh eclipse.desktop http://download.eclipse.org/technology/epp/downloads/release/galileo/SR2/eclipse-java-galileo-SR2-linux-gtk-x86_64.tar.gz)
md5sums=('2a654224311b592dbc42cca10aa6a16d'
         'f4fa833d9c2804ae2a5c4f616c1f8629'
         '190b99cba9e6c34330ab91560a8a9b3d')
else
source=(eclipse.sh eclipse.desktop http://download.eclipse.org/technology/epp/downloads/release/galileo/SR2/eclipse-java-galileo-SR2-linux-gtk.tar.gz)
md5sums=('2a654224311b592dbc42cca10aa6a16d'
         'f4fa833d9c2804ae2a5c4f616c1f8629'
         'c6ee0070284eab8fe2e527b5b9d0f3a2')
fi

build() {
    mkdir $pkgdir/opt
    mv $srcdir/eclipse $pkgdir/opt || return 1
    install -D -m 755 $srcdir/eclipse.sh $pkgdir/etc/profile.d/eclipse.sh || return 1
    install -D -m 644 $srcdir/eclipse.desktop $pkgdir/usr/share/applications/eclipse.desktop || return 1
#needed??
    cd $pkgdir/opt/eclipse
    ln -s /opt/eclipse/plugins/org.eclipse.platform_3.3.200.v200906111540/eclipse48.png eclipse.png
}
