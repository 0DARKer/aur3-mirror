# This patch:
# - Adds forgotten(?) inclusion for dbus-server.h 
# - Replaces macro DISPLAY_VERSION with hardcoded string (is that thing
#   defined somewhere?)
# - Removes (unused) translation support and internal.h dependency, so package
#   is buildable without pidgin source code

--- gnomeShellPidgin.c.orig	2011-05-19 15:37:24.545022058 +0200
+++ gnomeShellPidgin.c	2011-05-19 15:36:59.987399192 +0200
@@ -14,10 +14,11 @@
  * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02111-1301  USA
  */
 
-#include <internal.h>
+#include <string.h>
 #include <plugin.h>
 #include <version.h>
 #include <savedstatuses.h>
+#include <dbus-server.h>
 #include <dbus-maybe.h>
 #include <dbus-bindings.h>
 
@@ -179,10 +180,10 @@
     NULL,                                             /**< dependencies   */
     PURPLE_PRIORITY_DEFAULT,                          /**< priority       */
     "gtk-2925578-gnomeshell",                         /**< id             */
-    N_("Gnome Shell Connector"),                      /**< name           */
-    DISPLAY_VERSION,                                  /**< version        */
-    N_("Connects Pidgin to Gnome Shell Status"),      /**  summary        */
-    N_("Gnome Shell Connector"),                      /**  description    */
+    "Gnome Shell Connector",                          /**< name           */
+    "1.0",                                            /**< version        */
+    "Connects Pidgin to Gnome Shell Status",          /**  summary        */
+    "Gnome Shell Connector",                          /**  description    */
     "Wojtek SurÃ³wka",                                 /**< author         */
     "http://gnomeshpidgin.sourceforge.net",           /**< homepage       */
     plugin_load,                                      /**< load           */
