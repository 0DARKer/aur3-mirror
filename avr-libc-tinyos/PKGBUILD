# Contributor: Andras Biro <bbandi86@gmail.com>
# PKGBUILD based on the avr-libc PKGBUILD by 
#	Corrado Primier <bardo@aur.archlinux.org> and danst0 <danst0@west.de>

pkgname=avr-libc-tinyos
pkgver=1.6.7
pkgrel=1
pkgdesc="The C runtime library for the AVR family of microcontrollers, with TinyOS patches"
arch=('any')
url="http://savannah.nongnu.org/projects/avr-libc/"
license=('custom')
depends=('gcc-avr-tinyos')
provides=('avr-libc')
source=(http://download.savannah.gnu.org/releases/avr-libc/avr-libc-${pkgver}.tar.bz2)
md5sums=('1ccf8078e583d527392f079082f816b0')

build() {
	echo "############WARNING##################"
	echo "To compile this package, you should disable \"strip\" in the OPTION array in the makepkg.conf"
	echo "############WARNING##################"
  cd ${srcdir}/avr-libc-${pkgver}
  ./configure --build=$(./config.guess) --host=avr --prefix=/usr
  make
}

package() {
  cd ${srcdir}/avr-libc-${pkgver}
  make DESTDIR=${pkgdir} install

  install -Dm644 LICENSE ${pkgdir}/usr/share/licenses/${pkgname}/COPYING
}

# vim:set ts=2 sw=2 et:
