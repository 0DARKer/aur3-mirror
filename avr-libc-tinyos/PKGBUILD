# Contributor: Andras Biro <bbandi86@gmail.com>
# PKGBUILD based on the avr-libc PKGBUILD by 
#	Corrado Primier <bardo@aur.archlinux.org> and danst0 <danst0@west.de>

pkgname=avr-libc-tinyos
pkgver=1.4.7
pkgrel=1
pkgdesc="The C runtime library for the AVR family of microcontrollers, with TinyOS patches"
arch=('any')
url="http://savannah.nongnu.org/projects/avr-libc/"
license=('BSD')
depends=('gcc-avr-tinyos')
provides=('avr-libc')
source=(http://www.tinyos.net/dist-2.1.0/tools/source/avr-libc-${pkgver}.tgz)
md5sums=('b8d8cb965bcd33e2bb0714869b96f153')

build() {
  cd ${srcdir}/avr-libc-${pkgver}
  ./configure --build=$(./config.guess) --host=avr --prefix=/usr
  make || return 1
}

package() {
  cd ${srcdir}/avr-libc-${pkgver}
  make DESTDIR=${pkgdir} install || return 1

  install -Dm644 LICENSE ${pkgdir}/usr/share/licenses/${pkgname}/COPYING
}

# vim:set ts=2 sw=2 et:
