# Maintainer: Muhammed Uluyol <muhammedu@gmail.com>

pkgname=gwinwrap-svn
pkgver=1
pkgrel=1
pkgdesc="Gwinwrap is a frontend to xwinwrap written in pygtk and glade"
url="http://code.google.com/p/gwinwrap"
arch=('i686' 'x86_64')
license=('GPL')
depends=('shantz-xwinwrap-bzr' 'python' 'pygtk')
makedepends=('subversion')

source=('gwinwrap.sh')
md5sums=('01066c279b59d6bde5a1841d425193e5')

_svntrunk=http://gwinwrap.googlecode.com/svn/trunk

build() {
  cd ${srcdir}

  if [ -d trunk/.svn ]; then
    (cd trunk && svn up)
  else
    svn co $_svntrunk
  fi

  msg "SVN checkout done or server timeout"

  install -d $pkgdir/usr/
  install -d $pkgdir/usr/bin
  install -d $pkgdir/usr/share
  install -d $pkgdir/usr/share/gwinwrap

  install -m 755 gwinwrap.sh $pkgdir/usr/bin/gwinwrap
  install -m 755 trunk/gwinwrap.py $pkgdir/usr/share/gwinwrap/
  install -m 755 trunk/gwinwrap.glade $pkgdir/usr/share/gwinwrap/
  install -m 777 trunk/prefs.gwrp $pkgdir/usr/share/gwinwrap/
  install -m 777 trunk/presets.gwrp $pkgdir/usr/share/gwinwrap/
}
