# Contributor: Piratebill <theflyingmave@yahoo.com>
pkgname=qtalarm
pkgver=4700237.1
pkgrel=1
pkgdesc="Cross-platform Alarm Clock written with QT4 and phonon"
arch=('i686' 'x86_64')
url="https://github.com/CountMurphy/QTalarm"
license="GPL"
depends=('qt' 'phonon')
makedepends=(make gcc)
source=("https://github.com/downloads/CountMurphy/QTalarm/CountMurphy-QTalarm-${pkgver}.tar.gz")
md5sums=('51d8ddfa921e41b1cf18fc8725b46171')

build() {
    cd "${srcdir}/CountMurphy-QTalarm-${pkgver}/"

    qmake
    make
    make clean
}

package() {
mkdir $pkgdir/usr/
mkdir $pkgdir/usr/share/
mkdir $pkgdir/usr/share/icons/
mkdir $pkgdir/usr/share/icons/hicolor/
mkdir $pkgdir/usr/share/icons/hicolor/48x48
mkdir $pkgdir/usr/share/icons/hicolor/16x16
mkdir $pkgdir/usr/share/icons/hicolor/24x24
mkdir $pkgdir/usr/share/icons/hicolor/48x48/apps/
mkdir $pkgdir/usr/share/icons/hicolor/16x16/apps/
mkdir $pkgdir/usr/share/icons/hicolor/24x24/apps/

mkdir $pkgdir/usr/bin/
mkdir $pkgdir/usr/share/applications/
install -Dm555 CountMurphy-QTalarm-${pkgver}/Icons/1349069370_Alarm_Clock.png $pkgdir/usr/share/icons/hicolor/48x48/apps/
install -Dm555 CountMurphy-QTalarm-${pkgver}/Icons/1349069370_Alarm_Clock24.png $pkgdir/usr/share/icons/hicolor/24x24/apps/1349069370_Alarm_Clock.png
install -Dm555 CountMurphy-QTalarm-${pkgver}/Icons/1349069370_Alarm_Clock16.png $pkgdir/usr/share/icons/hicolor/16x16/apps/1349069370_Alarm_Clock.png
install -Dm555 CountMurphy-QTalarm-${pkgver}/QTalarm  "$pkgdir/usr/bin/$pkgname"
install -Dm555 "../${pkgname}".desktop "$pkgdir/usr/share/applications/${pkgname}.desktop"

}
