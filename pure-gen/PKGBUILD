pkgname=pure-gen
pkgver=0.9
pkgrel=1
pkgdesc="A C interface generator for Pure"
arch=("i686" "x86_64")
license=('custom')
url="http://code.google.com/p/pure-lang"
depends=('pure')
makedepends=('make' 'gcc' 'bison' 'flex' 'ghc')
source=("http://pure-lang.googlecode.com/files/$pkgname-$pkgver.tar.gz")
md5sums=('375ad7c9d9afba28ecda9a32bd00bb0a')

build() {
	echo -n 'To build pure-gen, your system should have language-c haskell package.
If it is not in your system, you can install it by this way.
> sudo pacman -S cabal-install
> cabal update
> cabal install alex happy language-c --global
Do you have the language-c package? (y/n) '
	read yn
	if [[ $yn != "y" ]]; then
		exit 0
	fi

	cd $startdir/src/$pkgname-$pkgver

	make || return 1
	make DESTDIR=$startdir/pkg install || return 1
}
