# Packager: Justin Davis <jrcd 83 at gmail>

pkgname='ocaml-yojson'
_oname='yojson'
pkgver='1.0.0'
pkgrel='1'
pkgdesc='An optimized parsing and printing library for JSON'
arch=('i686' 'x86_64')
options=('!strip')
license=('BSD')
depends=('ocaml' 'ocaml-easy-format' 'ocaml-biniou')
makedepends=('ocaml-findlib' 'cppo')
url='http://martin.jambon.free.fr/yojson.html'
source=("http://martin.jambon.free.fr/${_oname}-${pkgver}.tar.gz")
md5sums=('a4a4211f51a5c719a69a24df9861acf0')

_extdir="${srcdir}/${_oname}-${pkgver}"
_destdir="${pkgdir}/usr/lib/ocaml"

build() {
  cd "$_extdir"
  make
}

package() {
  cd "$_extdir"
  mkdir -p "${pkgdir}/usr/bin" "$_destdir"
  OCAMLFIND_DESTDIR="$_destdir" make install BINDIR="${pkgdir}/usr/bin" 
}

# Local variables:
# mode: shell-script
# sh-basic-offset: 2
# End:
