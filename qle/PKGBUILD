# Maintainer: not_anonymous <nmlibertarian@gmail.com>
# Contributor: WB2FKO <mph at sportscliche dot com>

pkgname=qle
pkgver=0.0.39
pkgrel=1
pkgdesc="QSO logger and log editor"
arch=('any')
url="http://home.kpn.nl/w.knol18/qle/qle.html"
license=('GPL')
depends=('perl>=5.10.0' 'perl-tk' 'sqlite3' 'sqlite3-doc' 'perl-pdf-labels' 'perl-dbd-sqlite' 
	 'perl-dbi' 'perl-config-general' 'perl-term-twiddle-qle' 'desktop-file-utils'
	 'perl-tk-splash>=0.16')
optdepends=('hamlib: rig interfacing'
	    'cwdaemon: transmitting cw'
	    'winkeydeamon: usb cw xmit'
	    'perl-tk-fontdialog: font choosing'
	    'masterscp: supercheckpartial files'
	    'cty: country files'
	    'bigcty: contest version country files')
install=$pkgname.install
source=(http://home.kpn.nl/w.knol18/qle/$pkgname-$pkgver.tar.gz
        $pkgname.desktop
        $pkgname.png
	$pkgname.1
	$pkgname.install)

build() {
	cd "$srcdir/$pkgname-$pkgver/"
	sed -i s:'=$HOME\S*':'=$HOME/qle': qle.sh
}

package() {
	cd "$srcdir/$pkgname-$pkgver/"
	install -d $pkgdir/usr/share/$pkgname
	cp -a $srcdir/$pkgname-$pkgver/* $pkgdir/usr/share/$pkgname

	mkdir -p $pkgdir/usr/bin
	install -D -m 755 ../$pkgname.1 $pkgdir/usr/bin/$pkgname

	mkdir -p $pkgdir/usr/share/{applications,pixmaps}
	install -D -m 644 ../$pkgname.png $pkgdir/usr/share/pixmaps
	install -D -m 644 ../$pkgname.desktop $pkgdir/usr/share/applications
}
md5sums=('603d1d135e319052a0aa49c0481d8a5b'
         'e7996e26af6127edfb2b273f69b88308'
         '5b60b0fe52cb3ca0fab0cfe87a5f0c8a'
         '5336ffafaf571479902a7fedad2eb1e5'
         'f7e1e2722c972f3420cfd69492c79073')
sha256sums=('9f69df697823ff0ef1aa96106f3dce9cc20d893870651fbbd777875182fc8e5e'
            '1185df3cad5d5d8fc53166be838b663a477dcc5137d0b3cc418490a6cd91fd12'
            'a01093436465b946dc39d49a69ddf55ab9ec7ae56d4408167d03bbf698c5c570'
            'cfa9eea5728466b61b1852ea85fdfe6085b63b2fd73fe11168799e7015f351aa'
            'f703f8de14eb277dc72cc837086fbd55f5d772049a44200686c8ae76348f6614')
