# tbs-linux-drivers: Installer: Arch
# Maintainer: Marko Paasila <marko@paasila.fi>
pkgname=tbs-linux-drivers
pkgver=v121119
pkgrel=1
pkgdesc="Firmware for TBS DVB receivers"
arch=('any')
url="http://www.tbsdtv.com/products/tbs5980-dvb-s2-ci-tv-tuner-usb.html, http://linuxtv.org/wiki/index.php/TBS_Qbox_DVB-S2_CI_USB2.0"
license=('unknown')
depends=(linux linux-firmware)
makedepends=(unzip)
optdepends=('Utilities: linuxtv-dvb-apps''Zap tool: szap-s2''Scan tool: scan-s2''DVB Streaming: dvblast''Another scan tool: w_scan')
#options=()
#install=
source=(http://www.tbsdtv.com/download/document/common/tbs-linux-drivers_v121119.zip)
noextract=()
md5sums=('4bd5849a31c523c3eca526094eccbff2') #generate with 'makepkg -g'

#build() {
#  cd "$srcdir/$pkgname-$pkgver"

#
#  ./configure --prefix=/usr
#  make
#}

package() {
  cd "$srcdir" #/$pkgname-$pkgver
  #unzip -u "tbs-linux-drivers_v121119.zip" -d $pkgname_$pkgver
  #cd "$srcdir/tbs-linux-drivers_v121119"
  install -D -m 644 "dvb-fe-cx24116.fw" "/usr/lib/firmware/dvb-fe-cx24116.fw" || return 1
  install -D -m 644 "dvb-usb-tbsqbox-dvbc.fw" "/usr/lib/firmware/dvb-usb-tbsqbox-dvbc.fw" || return 1
  install -D -m 644 "dvb-usb-tbsqbox-id5680.fw" "/usr/lib/firmware/dvb-usb-tbsqbox-id5680.fw" || return 1
  install -D -m 644 "dvb-usb-tbsqbox-id5880.fw" "/usr/lib/firmware/dvb-usb-tbsqbox-id5880.fw" || return 1
  install -D -m 644 "dvb-usb-tbsqbox-id5910.fw" "/usr/lib/firmware/dvb-usb-tbsqbox-id5910.fw" || return 1
  install -D -m 644 "dvb-usb-tbsqbox-id5920.fw" "/usr/lib/firmware/dvb-usb-tbsqbox-id5920.fw" || return 1
  install -D -m 644 "dvb-usb-tbsqbox-id5921.fw" "/usr/lib/firmware/dvb-usb-tbsqbox-id5921.fw" || return 1
  install -D -m 644 "dvb-usb-tbsqbox-id5922.fw" "/usr/lib/firmware/dvb-usb-tbsqbox-id5922.fw" || return 1
  install -D -m 644 "dvb-usb-tbsqbox-id5925.fw" "/usr/lib/firmware/dvb-usb-tbsqbox-id5925.fw" || return 1
  install -D -m 644 "dvb-usb-tbsqbox-id5928.fw" "/usr/lib/firmware/dvb-usb-tbsqbox-id5928.fw" || return 1
  install -D -m 644 "dvb-usb-tbsqbox-id5980.fw" "/usr/lib/firmware/dvb-usb-tbsqbox-id5980.fw" || return 1
  install -D -m 644 "v4l-cx23885-avcore-01.fw" "/usr/lib/firmware/v4l-cx23885-avcore-01.fw" || return 1
#  make DESTDIR="$pkgdir/" install
}
