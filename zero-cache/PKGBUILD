# Maintainer: Daichi Shinozaki <dsdseg@gmail.com>
pkgname=zero-cache
pkgver=1.0
pkgrel=1
pkgdesc="A Open Source cross-platform distributed memory caching system based on ZMQ messaging library"
arch=(i686)
url="https://github.com/ellysh/zero-cache"
license=('GPL')
depends=(zeromq)
makedepends=(cmake git)

build() {
  if [[ -d $pkgname ]]; then
   (cd ${pkgname} && git pull origin)
  else
    git clone https://github.com/ellysh/$pkgname.git
  fi
  
  cd "$srcdir/$pkgname"
  cmake -D CMAKE_MODULE_PATH=$PWD -D CMAKE_BUILD_TYPE=Release CMakeLists.txt
  make
}

package() {
  cd "$srcdir/$pkgname"
  make DESTDIR="$pkgdir/" install
  mv $pkgdir/usr/etc/ld.so.conf.d $pkgdir/etc/ld.so.conf.d
}

# vim:set ts=2 sw=2 et:
