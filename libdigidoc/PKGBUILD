# Maintainer: kevku <kevku@gmx.com>
pkgname=libdigidoc
pkgver=3.7.0.872
pkgrel=1
pkgdesc="Library for creating DigiDoc signature files (Official version by AS Sertifitseerimiskeskus)"
arch=('x86_64' 'i686')
url="http://www.id.ee/"
license=('LGPL')
depends=('libxml2')
makedepends=('cmake' 'subversion' 'pcsclite' 'opensc')
conflicts=('libdigidoc-svn' 'sk-libdigidoc-svn')
source=("http://ftp.id.eesti.ee/pub/id/signed_repository/sources/$pkgname-$pkgver.tar.gz"
	"http://ftp.id.eesti.ee/pub/id/signed_repository/sources/$pkgname-$pkgver.tar.gz.asc")
sha256sums=('baafb514253a3bebe3165c6bf9fb8f51f8086bf549bfef6e6e426e3e21d1a507'
            '8bae0171fd9fe5538a07ba5d2a1026103bc7d6888fc18a29cb9276fe4d899e30')

build() {
    cd "$srcdir/$pkgname-$pkgver"
    cmake . -DCMAKE_INSTALL_PREFIX=/usr -DCMAKE_INSTALL_LIBDIR="lib" -DCMAKE_INSTALL_SYSCONFDIR="/etc"
    make
}

package() {
    cd "$srcdir/$pkgname-$pkgver"
    make DESTDIR="$pkgdir/" install
}
