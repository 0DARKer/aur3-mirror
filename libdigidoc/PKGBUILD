# Maintainer: kevku <kevku@gmx.com>
pkgname=libdigidoc
pkgver=3.7.0.875
pkgrel=1
pkgdesc="Library for creating DigiDoc signature files (Official version by AS Sertifitseerimiskeskus)"
arch=('x86_64' 'i686')
url="http://www.id.ee/"
license=('LGPL')
depends=('libxml2')
makedepends=('cmake' 'pcsclite' 'opensc')
conflicts=('libdigidoc-svn' 'sk-libdigidoc-svn')
source=("http://ftp.id.eesti.ee/pub/id/signed_repository/sources/$pkgname-$pkgver.tar.gz"
	"http://ftp.id.eesti.ee/pub/id/signed_repository/sources/$pkgname-$pkgver.tar.gz.asc")
sha256sums=('4a6419e18801144895ee6c92b3b5ef57b8ec2b39e43eaa00aa2e32fd446a5765'
            '277a7ad0bb4231ad4fe22a33617731ac03ab093eba8aa3e643790c77df5d9a20')

build() {
    cd "$srcdir/$pkgname-$pkgver"
    cmake . -DCMAKE_INSTALL_PREFIX=/usr -DCMAKE_INSTALL_LIBDIR="lib" -DCMAKE_INSTALL_SYSCONFDIR="/etc"
    make
}

package() {
    cd "$srcdir/$pkgname-$pkgver"
    make DESTDIR="$pkgdir/" install
}
