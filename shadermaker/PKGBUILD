# Contributor: Angelo Theodorou <encelo@users.sourceforge.net>
pkgname=shadermaker
pkgver=1.01
pkgrel=1
pkgdesc="A simple and cross-platform GLSL editor"
arch=('i686')
url="http://cg.in.tu-clausthal.de/publications.shtml#shader_maker"
license=('GPL')
depends=('qt')
makedepends=('unzip')
source=(http://cg.in.tu-clausthal.de/publications/shader_maker/shader-maker.zip\
        shadermaker.desktop)
md5sums=('c1d61bce105d17825fd494be5f74fca9' '34a8de289a46177f8eb4e454487d3181')

build() {
  cd $srcdir/ShaderMaker

  # Compiling
  cd src
  qmake
  make || return 1

  # Installing support files
  cd ..
  install -D -m755 shadermaker $pkgdir/usr/bin/shadermaker
  mkdir -p $pkgdir/usr/share/shadermaker
  cp -R models shaders textures  $pkgdir/usr/share/shadermaker
  chmod -x $pkgdir/usr/share/shadermaker/{models,shaders,textures}/*

  # Installing icon and desktop file
  install -D -m644 $srcdir/shadermaker.desktop $pkgdir/usr/share/applications/shadermaker.desktop
  install -D -m644 src/images/appicon.png $pkgdir/usr/share/pixmaps/shadermaker.png
  chmod -x $pkgdir/usr/share/pixmaps/shadermaker.png
}

# vim:set ts=2 sw=2 et:
