# Contributor: Angelo Theodorou <encelo@users.sourceforge.net>
pkgname=shadermaker
pkgver=1.02
pkgrel=1
pkgdesc="A simple and cross-platform GLSL editor"
arch=('i686' 'x86_64')
url="http://cg.in.tu-clausthal.de/teaching/shader_maker/index.shtml"
license=('GPL')
depends=('qt')
makedepends=('unzip')
source=(http://cg.in.tu-clausthal.de/teaching/shader_maker/ShaderMaker.zip\
        shadermaker.desktop)
md5sums=('238cc08d14b14147b2eb511494baf252' '1af901ac4b9e6b5239770aded4a8ca46')

build() {
  cd $srcdir/ShaderMaker

  # Compiling
  cd src
  qmake
  make || return 1

  # Installing support files
  cd ..
  install -D -m755 ShaderMaker $pkgdir/usr/bin/ShaderMaker
  mkdir -p $pkgdir/usr/share/shadermaker
  cp -R models shaders textures  $pkgdir/usr/share/shadermaker
  chmod -x $pkgdir/usr/share/shadermaker/{models,shaders,textures}/*

  # Installing icon and desktop file
  install -D -m644 $srcdir/shadermaker.desktop $pkgdir/usr/share/applications/shadermaker.desktop
  install -D -m644 src/images/appicon.png $pkgdir/usr/share/pixmaps/shadermaker.png
  chmod -x $pkgdir/usr/share/pixmaps/shadermaker.png
}

# vim:set ts=2 sw=2 et:
