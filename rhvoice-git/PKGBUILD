# Maintainer: der_FeniX <derfenix@gmail.com>
pkgname=rhvoice-git
pkgver=20120223
pkgrel=3
epoch=
pkgdesc="free and open source speech synthesizer for Russian language"
arch=('i686' 'x86_64')
url="https://github.com/Olga-Yakovleva/RHVoice"
license=('GPLv3')
groups=()
depends=('expat' 'pcre' 'sox' 'libunistring' 'flite-fpic>=1.4' 'python2')
makedepends=('scons' 'gcc')
checkdepends=()
optdepends=()
provides=('rhvoice')
conflicts=()
replaces=('rhvoice')
backup=()
options=()
install=
changelog=
noextract=()
md5sums=() #generate with 'makepkg -g'

_gitroot='https://github.com/Olga-Yakovleva/RHVoice.git'
_gitname='RHVoice'

build() {
    cd "$srcdir"
    msg "Connecting to GIT server...."

    if [[ -d "$_gitname" ]]; then
        cd "$_gitname" && git pull origin
        msg "The local files are updated."
    else
        git clone "$_gitroot" "$_gitname"
    fi

    msg "GIT checkout done or server timeout"
    msg "Starting build..."

    scons prefix="${pkgdir}/usr" sysconfdir="${pkgdir}/etc" || return 1

}

package() {
  cd "$srcdir/$_gitname"
  scons install || return 2
}

# vim:set ts=2 sw=2 et:
