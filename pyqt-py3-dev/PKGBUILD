# PyQt 4.5 for Python3: Installer: Arch
# Contributor: Andrey Antoukh <andsux@gmail.com>

pkgname=pyqt-py3-dev
realname=PyQt
filename=pyqt
pkgver=4.5
pkgdate=20090322
pkgrel=1
pkgdesc="A set of Python3 bindings for the Qt v4.5 toolkit.  This is the latest development snapshot."
arch=('any')
url="http://www.riverbankcomputing.co.uk/software/${filename}/"
license=('GPL3')
provides=('pyqt=4.5')
depends=('sip-py3-dev>=4.8' 'qscintilla-dev>=2.3.3' 'qt>=4.5' 'sqlite3' 'dbus')
conflicts=('pyqt' 'pyqt4')
replaces=('pyqt4')
options=(!emptydirs)

source=(http://www.riverbankcomputing.co.uk/static/Downloads/${realname}4/${realname}-x11-gpl-${pkgver}-snapshot-${pkgdate}.tar.gz)
md5sums=('7186db0ba59784376f0ac23d9f27d87b')

build() {
  cd ${srcdir}/${realname}-x11-gpl-${pkgver}-snapshot-${pkgdate}
  patch configure.py ../../configure.py.patch

  echo yes | python3.0 configure.py -b /usr/bin \
  -d /usr/lib/python3.0/site-packages \
  -v /usr/share/sip || return 1
  make || return 1
  make DESTDIR=${pkgdir} install || return 1
}
