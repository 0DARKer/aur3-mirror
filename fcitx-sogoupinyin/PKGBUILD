# Maintainer: Jove Yu <yushijun110[AT]gmail.com>
# Contributor: csslayer <wengxt[AT]gmail.com>
pkgname=fcitx-sogoupinyin
pkgver=0.0.4
pkgrel=1
pkgdesc="Fcitx wrapper for Sogou Pinyin,thinks to Sougou"
arch=('i686' 'x86_64')
url="http://code.google.com/p/fcitx"
license=('custom')
depends=('fcitx>=4.2.6' )
optdepends=('fcitx-skin-sogou: fcitx skin for SogouPinyin')
makedepends=('cmake' 'intltool')
source=("http://packages.linuxdeepin.com/deepin/pool/non-free/f/fcitx-sogoupinyin-release/fcitx-sogoupinyin-release_${pkgver}.orig.tar.gz")

if [ "${CARCH}" = "i686" ]; then
    _TAR_FILE=data.i386.tar.gz
    _LIB_DIR=i386-linux-gnu
else
    _TAR_FILE=data.amd64.tar.gz
    _LIB_DIR=x86_64-linux-gnu
fi

package(){
    cd "${srcdir}"/arch
    tar -xzvf "${_TAR_FILE}" -C "${pkgdir}"
    cd "${pkgdir}"

    mv "usr/lib/${_LIB_DIR}/"* usr/lib
    rmdir "usr/lib/${_LIB_DIR}"
    
    cp "${srcdir}"/debian/logo_sm.png "${pkgdir}"/usr/share/fcitx/imicon/sogoupinyin.png
}

md5sums=('052c2431dc250ff5fb68546268beee57')
