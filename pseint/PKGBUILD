# Maintainer: Martín Nicolás Carbone <mncarbone@gmail.com>

pkgname=pseint
pkgver=20130504
pkgrel=1
pkgdesc='A tool for learning programming basis with a simple spanish pseudocode'
url="http://pseint.sourceforge.net/"
arch=('i686' 'x86_64')
license=('GPLv2')
depends=()
makedepends=()
if [ "${CARCH}" = 'x86_64' ]; then
  source=("http://ufpr.dl.sourceforge.net/project/${pkgname}/${pkgver}/${pkgname}-l64-${pkgver}.tgz")
elif [ "${CARCH}" = 'i686' ]; then
  source=("http://ufpr.dl.sourceforge.net/project/${pkgname}/${pkgver}/${pkgname}-l32-${pkgver}.tgz")
fi

md5sums=('3ab60045cc3dba712f4dc243ba00b9d7')
[ "$CARCH" = "x86_64" ] && md5sums[0]='772cbfbd4f2aae5e4e6dc65a8c67137a'

package() {
  mkdir -p "${pkgdir}/opt/${pkgname}"
  cp -rv "${srcdir}/${pkgname}/"* "${pkgdir}/opt/${pkgname}"
  mkdir -p "${pkgdir}/usr/share/applications/"
  touch "${pkgdir}/opt/${pkgname}/${pkgname}.desktop"
  echo "[Desktop Entry]" >> "${pkgdir}/opt/${pkgname}/${pkgname}.desktop"
  echo "Type=Application" >> "${pkgdir}/opt/${pkgname}/${pkgname}.desktop"
  echo "Name=PSeint" >> "${pkgdir}/opt/${pkgname}/${pkgname}.desktop"
  echo "Comment=A tool for learning programming basis with a simple spanish pseudocode" >> "${pkgdir}/opt/${pkgname}/${pkgname}.desktop"
  echo "Comment[es]=Una herramienta para aprender las bases de la programación mediante pseudocodigo en español" >> "${pkgdir}/opt/${pkgname}/${pkgname}.desktop"
  echo "Exec=/opt/${pkgname}/wxPSeint" >> "${pkgdir}/opt/${pkgname}/${pkgname}.desktop"
  echo "Icon=/opt/${pkgname}/imgs/icon.svg" >> "${pkgdir}/opt/${pkgname}/${pkgname}.desktop"
  echo "Terminal=false" >> "${pkgdir}/opt/${pkgname}/${pkgname}.desktop"
  echo "Categories=Development;IDE;" >> "${pkgdir}/opt/${pkgname}/${pkgname}.desktop"
  mkdir -p "${pkgdir}/usr/share/applications/"
  cp "${pkgdir}/opt/${pkgname}/${pkgname}.desktop" "${pkgdir}/usr/share/applications/"
}
