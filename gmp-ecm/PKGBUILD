# Contributor: Rémy Oudompheng <oudomphe@phare.normalesup.org>
# Maintainer: Rémy Oudompheng <oudomphe@phare.normalesup.org>

pkgname=gmp-ecm
pkgver=6.3
pkgrel=2
pkgdesc="Integer factorization with elliptic curves"
arch=('i686' 'x86_64')
url="http://ecm.gforge.inria.fr/"
license=('GPL' 'LGPL')
depends=('gmp')
source=(http://gforge.inria.fr/frs/download.php/26838/ecm-$pkgver.tar.gz)
md5sums=('b30b59e48d65c94e3b034a0296b02c1b')

build() {
  cd "${srcdir}/ecm-$pkgver"
  # export CFLAGS="$CFLAGS -msse"
  ./configure --prefix=/usr --enable-shared --enable-openmp
  # make ecm-params
  make
}

check() {
  cd "${srcdir}/ecm-$pkgver"
  make check
}

package() {
  cd "${srcdir}/ecm-$pkgver"
  make DESTDIR="${pkgdir}" install
}

