# Maintainer: Veli-Jussi Raitila <vjr@iki.fi>

pkgname=python-pyhyphen
_pkgname=PyHyphen
pkgver=1.0beta1
pkgrel=1
pkgdesc="The hyphenation library of OpenOffice and FireFox wrapped for Python"
arch=('x86_64' 'i686')
url="http://pypi.python.org/pypi/PyHyphen"
license=('GPL2' 'LGPL2.1' 'MPL')
depends=('python2')
install=pyhyphen.install
source=("http://pypi.python.org/packages/source/P/PyHyphen/${_pkgname}-${pkgver}.zip"
        "pyhyphen-setup.py")
md5sums=('0c957cb85b36db147ded9121cb5445ce'
         '67cff7329615bc6c4d4867aab37443f0')

build() {
  cd "${srcdir}/${_pkgname}-${pkgver}"

  sed -i \
    -e "s|\$path|/usr/lib/python2.7/site-packages/hyphen|" \
    -e "s|\$repo|http://ftp.osuosl.org/pub/openoffice/contrib/dictionaries/|" \
    2.x/config.py

  python2 setup.py bdist_dumb
}

package() {
  cd "${pkgdir}"

  tar xzvf "${srcdir}/${_pkgname}-${pkgver}/dist/${_pkgname}-${pkgver}.linux-${arch}.tar.gz"

  install -D -m755 "${srcdir}/pyhyphen-setup.py" \
    "${pkgdir}/usr/bin/pyhyphen-setup.py"

  chown -R root:root ${pkgdir}/usr
}
