# Contributor: Beno√Æt Rouits <brouits[at]free[dot]fr>

pkgname=flowcanvas-svn
pkgver=2189
pkgrel=3
pkgdesc="interactive Gtkmm widget for boxes and lines environments"
url="http://drobilla.net/software/flowcanvas/"
arch=('i686' 'x86_64')
license=('GPL2')
depends=('boost' 'graphviz' 'libgnomecanvasmm')
optdepends=()
makedepends=('subversion' 'gcc')
provides=('flowcanvas=0.5.3')
conflicts=('flowcanvas')

source=()
md5sums=()

_svnmod="flowcanvas"
_svntrunk="http://svn.drobilla.net/lad/trunk"

build() {
	cd "${srcdir}"
	
	msg "Connecting to the $_svnmod SVN server..."
	svn co $_svntrunk drobilla-lad -r $pkgver || return 1
#we need the entire svn tree because of "waf"
	cd "${srcdir}/drobilla-lad/$_svnmod"

	./waf configure --prefix=/usr || return 1
	./waf || return 1
	DESTDIR=${pkgdir} ./waf install
}
