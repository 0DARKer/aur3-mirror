# Maintainer: Ondrej Kucera <ondrej.kucera@centrum.cz>
# Contributor: Andrea Scarpino <bash.lnx@gmail.com>

pkgname=jdk-docs
pkgver=8.31
_realver=8u31
_buildnum=b13
pkgrel=1
pkgdesc="Java SE Development Kit Documentation 8"
arch=("any")
url="http://www.oracle.com/technetwork/java/index.html"
license=("custom")
options=("!strip" "docs" "libtool" "staticlibs" "!zipman")
source=("http://download.oracle.com/otn-pub/java/jdk/$_realver-$_buildnum/jdk-$_realver-docs-all.zip" "LICENSE")
sha256sums=('1e315c39025961a86dce661cf3c19ff2bb18cee22294997e097c60a613add589'
            '14dc1953902010f7b48891e795183b39c048b19881815eec6a57cf3d62631ab7')
noextract=("jdk-$_realver-docs-all.zip")

DLAGENTS=('http::/usr/bin/curl -LC - -b oraclelicense=a -O')

package() {
  mkdir -p "$pkgdir/usr/share/doc"
  bsdtar -xf "$srcdir/jdk-$_realver-docs-all.zip" -C "$pkgdir/usr/share/doc/"
  mv "$pkgdir/usr/share/doc/docs" "$pkgdir/usr/share/doc/java"
  install -D -m644 LICENSE "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
  chown -R root:root "$pkgdir/usr/share/doc/java"
}
