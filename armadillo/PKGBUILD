# Maintainer: Lucas Hermann Negri <lucashnegri@gmail.com>
# Contributor: shacristo

pkgname=armadillo
pkgver=4.500.0
pkgrel=2
pkgdesc="C++ linear algebra library"
arch=('i686' 'x86_64')
url="http://arma.sourceforge.net/"
license=('MPL 2.0')
depends=('lapack' 'blas' 'hdf5')
makedepends=('cmake' 'boost')
source=("http://downloads.sourceforge.net/sourceforge/arma/$pkgname-$pkgver.tar.gz")
md5sums=('7f03f57ea3f8d5fe121b0d21ba18ca4e')

build() {
  ARMA64BITWORD=""
  if [ "$CARCH" == "x86_64" ]; then
    ARMA64BITWORD="ARMA_64BIT_WORD"
  fi
  cd "${srcdir}/$pkgname-$pkgver"
  cmake $ARMA64BITWORD -DCMAKE_INSTALL_PREFIX:PATH=/usr .
  make
}

package() {
  cd "${srcdir}/$pkgname-$pkgver"
  make DESTDIR="${pkgdir}" install
  install -D -m644 LICENSE.txt "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"
}

