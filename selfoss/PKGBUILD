# Maintainer: Tetsumaki <http://goo.gl/YMBdA>

pkgname=selfoss
pkgver=2.7
pkgrel=1
pkgdesc="The new multipurpose rss reader, live stream, mashup, aggregation web application"
arch=('any')
url="http://selfoss.aditu.de/"
license=('GPL3')
depends=('php')
conflicts=('selfoss-git')
optdepends=('apache: is depedency if you do not use lighttpd or nginx'
            'lighttpd'
            'nginx'
            'mariadb: is depedency if you do not use sqlite'
            'php-sqlite: is dependacy if you use sqlite'
            'wget: for automatic updating feeds with cron'
            'curl: for automatic updating feeds with cron')
install=${pkgname}.install
source=("http://selfoss.aditu.de/${pkgname}-${pkgver}.zip")
sha1sums=('565dc146bf1b5a6b17c709436dd407d4d62399e0')

package() {
	install -dm755 "${pkgdir}/usr/share/webapps/selfoss"
	cd "${srcdir}"
	cp -rf . "${pkgdir}/usr/share/webapps/selfoss"
	cd "${pkgdir}/usr/share/webapps/selfoss"
	rm -rf {README.md,${pkgname}-${pkgver}.zip}
	chmod 755 data/cache data/favicons data/logs data/sqlite data/thumbnails public
}