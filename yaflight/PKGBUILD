# Maintainer: xquiet <matteo@xquiet.eu>
pkgname=yaflight
pkgver=0.1.11.1
pkgrel=1
pkgdesc="Yet Another FlightGear Launch Control"
arch=('any')
url="http://yaflight.altervista.org"
license=('GPL2')
groups=(Games)
depends=('flightgear'
         'gambas3-gb-net-curl>=2.99.4'
         'gambas3-gb-qt4>=2.99.4'
         'gambas3-gb-qt4-ext>=2.99.4'
         'gambas3-gb-qt4-webkit>=2.99.4')
makedepends=('gambas3-gb-net-curl>=2.99.4'
             'gambas3-gb-qt4>=2.99.4'
             'gambas3-gb-qt4-ext>=2.99.4'
             'gambas3-gb-qt4-webkit>=2.99.4')
optdepends=()
provides=()
conflicts=()
replaces=()
backup=()
options=()
install=
changelog=
source=($pkgname-$pkgver.tar.bz2::http://sourceforge.net/projects/yaflight/files/stable/yaflight-0.1.11.1.tar.bz2/download 'yaflight.desktop')
noextract=()
md5sums=('257a9ab514859b0a1135b3bb1ceab63a'
         '27b2a3038942b2a5ff73c0c3ef33e762') #generate with 'makepkg -g'

build() {
  cd "$srcdir/$pkgname-$pkgver"

  gbc3 -a -v -t -g -e
  gba3 -o $pkgname-$pkgver.gambas ../$pkgname-$pkgver
}

package() {
  cd "$srcdir/$pkgname-$pkgver"

  install -m 755 -D $pkgname-$pkgver.gambas "$pkgdir/usr/share/games/$pkgname.gambas"
  install -m 755 -D $pkgname-icon-48.png "$pkgdir/usr/share/icons/$pkgname.png"
  mkdir -p $pkgdir/usr/share/applications
  cp $srcdir/yaflight.desktop $pkgdir/usr/share/applications/
}
