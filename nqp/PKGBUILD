# Maintainer: spider-mario <spidermario@free.fr>
# Contributor: Marcin Karpezo <sirmacik at gmail dot com>
pkgname=nqp
pkgver=2012.06.1
pkgrel=1
pkgdesc="Compiler for quickly generating PIR routines from Perl6-like code"
arch=('i686' 'x86_64')
url='https://github.com/perl6/nqp#readme'
license=(PerlArtistic)
depends=('parrot>=4.5.0')
makedepends=('perl>=5.8')
options=('!makeflags')
source=($pkgname-$pkgver.tar.gz::https://github.com/perl6/$pkgname/tarball/$pkgver)
md5sums=('5d5a52b792543e3d244efbd2cf05b7cc')

_dirname=perl6-nqp-6ac9db4

build() {
    cd "$srcdir/$_dirname"

    perl Configure.pl --with-parrot=/usr/bin/parrot --prefix=/usr
    make
}
package() {
    cd "$srcdir/$_dirname"
    make DESTDIR="$pkgdir/" install
}

