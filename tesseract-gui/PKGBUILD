# Maintainer: Eric Engestrom <aur [at] engestrom [dot] ch>
# Contributor: Kevin Whitaker <eyecreate at gmail dot com>

pkgname=tesseract-gui
pkgver=2.9
pkgrel=1
pkgdesc="Tesseract GUI"
arch=(any)
url="http://sourceforge.net/projects/tesseract-gui/"
license=('GPL')
depends=(tesseract python2 pygtk imagemagick)
provides=($pkgname)
source=(http://downloads.sourceforge.net/project/$pkgname/$pkgname/$pkgname-${pkgver%%.*}/$pkgname-$pkgver.tar.gz)
md5sums=('71b9a1c7f493652939158f399f29a85c')

package() {
  cd $srcdir/$pkgname-$pkgver
  mkdir $pkgdir/usr
  mkdir $pkgdir/usr/bin
  mkdir $pkgdir/usr/share
  mkdir $pkgdir/usr/share/icons
  mkdir $pkgdir/usr/share/applications
  make BASEDIR=$pkgdir/usr/ install

  # Patch and rename
  cd $pkgdir/usr/bin
  sed -i "s|#!/usr/bin/env python|#!/usr/bin/env python2|g" -i tesseract-gui.py
  mv tesseract-gui.py $pkgname
}
