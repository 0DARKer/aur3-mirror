# Contributor: Max Pray a.k.a. Synthead <synthead@gmail.com>

pkgname=redlandmm-svn
pkgver=1947
pkgrel=1
pkgdesc="An STL-style C++ wrapper for the Redland RDF Toolkit (librdf)"
arch=('i686' 'x86_64')
url="http://drobilla.net/blog/redlandmm/"
license="GPL"
depends=('glibmm>=2.4' 'raptor>=1.4.18' 'redland>=1.0.8')
makedepends=(subversion)
conflicts=(redlandmm)
provides=(redlandmm)

_svnmod="trunk"
_svntrunk="http://svn.drobilla.net/lad/trunk"

build() {
  cd $srcdir
 
  msg "Connecting to SVN server..."
  msg "Checking out $_svnmod"
  svn co $_svntrunk $srcdir
  msg "SVN checkout done or server timeout"
  
  msg "Starting build..."

  cd $srcdir/redlandmm
  ./waf configure --prefix=/usr
  ./waf
  DESTDIR="$pkgdir" ./waf install || return 1
}
