# Maintener: AddiKT1ve <the.addikt1ve@gmail.com>

pkgname=wmfs
pkgver=201004
pkgrel=3
pkgdesc="A lightweight and highly configurable tiling window manager for X (weekly build, you should prefer wmfs-git)"
arch=('i686' 'x86_64')
url="http://www.wmfs.info/"
license=('BSD')
depends=('libxft' 'imlib2' 'libxinerama' 'libxrandr')
makedepends=('cmake>=2.6')
conflicts=('wmfs-git')
source=(${pkgname}.tar.gz)
md5sums=('1ae03f93ad32caff120764ea4658ab0c')

build() {
  cd ${srcdir}/${pkgname}

  # "-Wl,--as-needed" causes the linker error
  unset LDFLAGS

  cmake -DCMAKE_INSTALL_PREFIX=/usr || return 1
  make || return 1
}

package() {
  cd ${srcdir}/${pkgname}

  make DESTDIR=${pkgdir} install || return 1

  install -D -m644 COPYING ${pkgdir}/usr/share/licenses/${pkgname}/COPYING
}

