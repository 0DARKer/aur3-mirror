# Maintainer: Vindex17 <vindex17@outlook.it>

pkgname=archforger
pkgver=0.1
pkgrel=1
pkgdesc='ArchLinux automatic package builder and installer'
arch=('i686' 'x86_64')
url='https://sourceforge.net/projects/archforger'
license=('GPL3')
depends=('pacman' 'git')
provides=('archforger')
source=("http://sourceforge.net/projects/archforger/files/$pkgname-$pkgver-beta.tar.gz")
sha512sums=('e729c3d3cb0c0bb4064e51ff9f4e17cd0e95ff6012b05594ffc7d7edd9a04bfb0821b5afca00d2e0d8e51cff7d15d5d03f74f5ba93385650963fb48deb40bc24')
install='archforger.install'

prepare() {
	rm -rf "$srcdir/build"
	mkdir "$srcdir/build"
}

build() {
	cd "$srcdir/build"
	CXXFLAGS="$CXXFLAGS -std=gnu++11 -pthread"
	cmake -DCMAKE_INSTALL_PREFIX='/usr' \
	      -DCMAKE_BUILD_TYPE=Release \
	      ..
	make
}

package() {
	cd "$srcdir/build"
	make DESTDIR="$pkgdir/" install
}
