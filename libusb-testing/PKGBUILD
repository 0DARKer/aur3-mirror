# Original Maintainer: Stefano Facchini <stefano.facchini@gmail.com>
# Current Maintainer: Diogo Bento <db.eee.at.yahoo.dot.com>

pkgname=libusb-testing
_pkgname=libusb
pkgver=1.0.18
pkgrel=1
depends=('glibc' 'systemd')
pkgdesc="Library to enable user space application programs to communicate with USB devices."
arch=(i686 x86_64)
url="http://libusb.sourceforge.net/"
license=('LGPL')
options=(!libtool)
provides=("libusb=$pkgver" "libusbx=$pkgver")
conflicts=('libusbx')
replaces=('libusb1' 'libusbx')
source=(http://downloads.sourceforge.net/${_pkgname}/releases/${pkgver}/${_pkgname}-${pkgver}.tar.bz2)
sha256sums=('c73f5cec45a5de94418da4e151b7232958571926984acfb9bce02b9424e83720')

build() {
  cd "${srcdir}/${_pkgname}-${pkgver}"
  ./configure --prefix=/usr --disable-static
  make
}

check() {
  cd "${srcdir}/${_pkgname}-${pkgver}"
  make check
}

package () {
  cd "${srcdir}/${_pkgname}-${pkgver}"
  make DESTDIR="${pkgdir}" install
}
