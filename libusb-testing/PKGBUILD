# Original Maintainer: Stefano Facchini <stefano.facchini@gmail.com>
# Current Maintainer: Diogo Bento <db.eee.at.yahoo.dot.com>

pkgname=libusb-testing
_pkgname=libusb
pkgver=1.0.19_rc1
_pkgver=1.0.19
pkgrel=1
depends=('glibc' 'systemd')
pkgdesc="Library to enable user space application programs to communicate with USB devices."
arch=(i686 x86_64)
url="http://libusb.sourceforge.net/"
license=('LGPL')
options=(!libtool)
provides=("libusb=$pkgver" "libusbx=$pkgver")
conflicts=('libusbx')
replaces=('libusb1' 'libusbx')
source=(http://downloads.sourceforge.net/${_pkgname}/libusb-1.0/${_pkgname}-${_pkgver}/${_pkgname}-${_pkgver}-rc1.tar.bz2)
sha256sums=('63e99a71f31986e6b6dc9386652537122aefa0a7cb9312e96093f2816cbe96da')

build() {
  cd "${srcdir}/${_pkgname}-${_pkgver}-rc1"
  ./configure --prefix=/usr --disable-static
  make
}

check() {
  cd "${srcdir}/${_pkgname}-${_pkgver}-rc1"
  make check
}

package () {
  cd "${srcdir}/${_pkgname}-${_pkgver}-rc1"
  make DESTDIR="${pkgdir}" install
}
