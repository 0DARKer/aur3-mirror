# Maintainer: Alucryd <alucryd@gmail.com>
pkgname=gnome-shell-extension-activities-button
pkgver=20110527
pkgrel=1
pkgdesc="A gnome-shell extension to add the distributor logo besides the Activities button."
source=('http://www.fpmurphy.com/gnome-shell-extensions/activitiesbutton.tar.gz')
md5sums=('388cc5731440970eb45837e2abfdd1d1')
arch=('any')
url="http://www.fpmurphy.com/gnome-shell-extensions/"
license=('GPL3')
depends=('gnome-shell')

build() {
    cd $srcdir/activitiesbutton@fpmurphy.com
    msg "Modifying extension to suit your tastes."
    echo "Do you wish to hide the Activities label ?"
    select al in "Yes" "No"; do
        case $al in
            "Yes" ) sed -i 's/box.add_actor(label)//g' extension.js; break;;
            "No" ) break;;
        esac
    done
    echo "Wich logo do you want to display ?"
    select dl in "Distributor Logo" "Start Here" "None"; do
        case $dl in
            "Distributor Logo" ) sed -i 's/fedora-logo-icon/distributor-logo/g' extension.js; break;;
            "Start Here" ) sed -i 's/fedora-logo-icon/start-here/g' extension.js; break;;
            "None" ) sed -i 's/box.add_actor(logo)//g' extension.js; break;;
        esac
    done
}

package() {
    cd "$srcdir"
    mkdir -p "$pkgdir/usr/share/gnome-shell/extensions/"
    cp -R "activitiesbutton@fpmurphy.com" "$pkgdir/usr/share/gnome-shell/extensions"
}

