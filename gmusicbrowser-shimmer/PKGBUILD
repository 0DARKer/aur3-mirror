pkgname=gmusicbrowser-shimmer
pkgver=1.1.13
pkgrel=2
pkgdesc="An open-source jukebox for large collections of mp3/ogg/flac/mpc/ape files, written in perl with shimmer layout"
arch=('any')
url="http://shimmerproject.org/our-projects/shimmer-for-gmusicbrowser/"
license=('GPL3')
makedepends=('git' 'markdown')
depends=('gtk2-perl'
         'perl-gstreamer')
optdepends=('vorbis-tools: vorbis support for the ALSA backend' 
            'mplayer: enables the mplayer backend' 
            'lib32-gstreamer0.10-base: vorbis supportfor the gstreamer backend' 
            'gstreamer0.10-good-plugins: flac support for the gstreamer backend' 
            'gstreamer0.10-bad-plugins: mp3 support for the gstreamer backend' 
            'gstreamer0.10-ugly-plugins: mp3 support for the gstreamer backend' 
            'perl-gtk2-trayicon: tray icon support' 
            'perl-gtk2-webkit: alternative web-based plugin support' 
            'perl-locale-gettext: localization support' 
            'perl-net-dbus: control gmusicbrowser through dbus and gnome hotkeys' 
            'perl-gnome2-wnck: titlebar plugin support')
conflicts=('gmusicbrowser' 'gmusicbrowser-devel' 'gmusicbrowser-git')
source=("https://github.com/squentin/gmusicbrowser/archive/v$pkgver.tar.gz"
        "shimmer.patch")
#source=("https://github.com/shimmerproject/gmusicbrowser/archive/v1.1.10ppa2.tar.gz")
#sha256sums=('5a9d1f592a19c351950d3222ca53f63ac80753de59a2766b0054bc2f1d4fa51a') #v1.1.10ppa2
#sha256sums=('8fdd1db0694bfec24460f23391444305c6faa4bdc083734b8b07c145056c7403') #v1.1.10
sha256sums=('fd86f957d97d8a65c354b1d9cb7a8b7f54e4b26ee945eac9076f0e21dd497a6f'
            'b8429ccab09b79564c39f42e79be43245267fb69667ecbb72af2db63a209f814')

prepare() {

    cd $srcdir/gmusicbrowser-$pkgver/
    echo $(pwd)
    patch -p1 -i $srcdir/shimmer.patch
}

package() {
   cd ${srcdir}/gmusicbrowser-$pkgver
   echo $(pwd)
   make DESTDIR=${pkgdir} install || return 1
}
