pkgname=gmusicbrowser-shimmer
pkgver=1.1.10ppa2
pkgrel=1
pkgdesc="An open-source jukebox for large collections of mp3/ogg/flac/mpc/ape files, written in perl with shimmer layout"
arch=('i686' 'x86_64')
url="http://shimmerproject.org/project/gmusicbrowser/"
license=('GPL3')
makedepends=('git' 'markdown')
if [ "${CARCH}" = 'x86_64' ]; then
    depends=('gtk2-perl'
             'lib32-mpg123'
             'lib32-libogg'
             'lib32-flac'
             'alsa-utils')
    optdepends=('vorbis-tools: vorbis support for the ALSA backend' 
	            'mplayer: enables the mplayer backend' 
	            'perl-gstreamer: enables the gstreamer backend' 
	            'lib32-gstreamer0.10-base: vorbis supportfor the gstreamer backend' 
	            'gstreamer0.10-good-plugins: flac support for the gstreamer backend' 
	            'gstreamer0.10-bad-plugins: mp3 support for the gstreamer backend' 
	            'gstreamer0.10-ugly-plugins: mp3 support for the gstreamer backend' 
	            'perl-gtk2-trayicon: tray icon support' 
	            'perl-gtk2-webkit: alternative web-based plugin support' 
	            'perl-locale-gettext: localization support' 
	            'perl-net-dbus: control gmusicbrowser through dbus and gnome hotkeys' 
	            'perl-gnome2-wnck: titlebar plugin support')
else
    depends=('gtk2-perl'
             'mpg123'
             'libogg'
             'flac'
             'alsa-utils')
    optdepends=('vorbis-tools: vorbis support for the ALSA backend' 
                'mplayer: enables the mplayer backend' 
	            'perl-gstreamer: enables the gstreamer backend' 
	            'gstreamer0.10-base: vorbis supportfor the gstreamer backend' 
	            'gstreamer0.10-good-plugins: flac support for the gstreamer backend' 
	            'gstreamer0.10-bad-plugins: mp3 support for the gstreamer backend' 
	            'gstreamer0.10-ugly-plugins: mp3 support for the gstreamer backend' 
	            'perl-gtk2-trayicon: tray icon support' 
	            'perl-gtk2-webkit: alternative web-based plugin support' 
	            'perl-locale-gettext: localization support' 
	            'perl-net-dbus: control gmusicbrowser through dbus and gnome hotkeys' 
	            'perl-gnome2-wnck: titlebar plugin support')
fi
conflicts=('gmusicbrowser' 'gmusicbrowser-devel' 'gmusicbrowser-git')
source=("https://github.com/shimmerproject/gmusicbrowser/archive/v1.1.10ppa2.tar.gz")
sha256sums=('5a9d1f592a19c351950d3222ca53f63ac80753de59a2766b0054bc2f1d4fa51a')


package() {
   cd ${srcdir}/gmusicbrowser-$pkgver
   echo $(pwd)
   make DESTDIR=${pkgdir} install || return 1
}
