# Maintainer: cornholio <vigo.the.unholy.carpathian@gmail.com>

pkgname=flirc
pkgver=1.1.3
pkgrel=2
pkgdesc="Take control of your media center and the clutter off your living room table"
arch=("i686" "x86_64" "armv6h")
url="http://flirc.tv"
license=("GPL")
if [[ "$CARCH" == 'i686' ]]; then
	depends=("fontconfig" "glib2" "libxi" "libxt" "libxinerama" "libxrandr")
fi
if [[ "$CARCH" == 'x86_64' ]]; then
	depends=("lib32-fontconfig" "lib32-glib2" "lib32-libxi" "lib32-libxt" "lib32-libxinerama" "lib32-libxrandr")
fi

source=("http://apt.flirc.tv/arch/x64/binary/flirc_0.96-1_amd64.deb" "http://downloads.flirc.tv/release/gui/linux/Flirc-v${pkgver}.zip")
sha1sums=('a0ab3cd514271a4220a43203c4bd4fb51c60502a' 'a0858de7b6c8d65051391e12654a3e4d12096a7a')

build() {

	cd "${srcdir}"
	tar xzf data.tar.gz
}

package() {

	cp -r "${srcdir}/etc" "${pkgdir}/"

	if [[ "$CARCH" == 'armv6h' ]]; then
		mkdir "${pkgdir}/usr"
		mv "${srcdir}/release/rpi" "${pkgdir}/usr/bin"
	
	else
		mkdir -p "${pkgdir}/usr/share"
		cp -r "${srcdir}/usr/share/pixmaps" "${pkgdir}/usr/share/"
		cp -r "${srcdir}/usr/share/applications" "${pkgdir}/usr/share/"
		mv "${srcdir}/release/linux" "${pkgdir}/usr/bin"
	fi
}
