# Contributor: Arthur Danskin <arthurdanskin@gmail.com>

pkgname=triplexinvaders
pkgver=1.08
pkgrel=3
pkgdesc="An alien invaders style computer game with 3d graphics"
arch=(i686 x86_64)
url="http://triplexinvaders.infogami.com"
license="MIT"
depends=('python-opengl' 'python-pygame' 'psyco')
source=(http://acm.jhu.edu/~arthur/invaders/$pkgname-$pkgver.tar.gz)
md5sums=('30a5c299c0411ed04428bccc90e46af1')

build() {
  cd $startdir/src/$pkgname-$pkgver
  install -D -m644 triplexinvaders.desktop $startdir/pkg/usr/share/applications/triplexinvaders.desktop
  install -D -m644 LICENSE.txt $startdir/pkg/usr/share/licenses/triplexinvaders/LICENSE.txt
  mkdir -p $startdir/pkg/usr/share/triplexinvaders
  cp -r *.py models sound options.conf hiscores README.txt $startdir/pkg/usr/share/triplexinvaders
  mkdir -p $startdir/pkg/usr/bin
  echo -e "#!/bin/sh\ncd /usr/share/triplexinvaders\nexec python invaders.py\n" > $startdir/pkg/usr/bin/triplexinvaders
  chmod 755 $startdir/pkg/usr/bin/triplexinvaders
}
