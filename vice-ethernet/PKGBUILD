# Maintainer: celsius <jelounaif@gmail.com>
pkgname=vice-ethernet
_pkgname=vice
pkgver=2.3
pkgrel=1
pkgdesc="A Versatile Commodore Emulator , ethernet enabled"
arch=('i686' 'x86_64')
url="http://vice-emu.sourceforge.net"
license=('GPL')
depends=('giflib' 'lame' 'libjpeg' 'libpng' 'libxrandr' 'libnet' 'libpcap')
makedepends=('xorg-font-utils' 'pkg-config')
optdepends=('pulseaudio' 'pulseaudio-alsa' 'alsa-lib')
provides=("vice=$pkgver")
conflicts=('vice' 'vice-gnome' 'vice-gtkglext' 'vice-sdl' 'vice-2.2gnomeui')
replaces=('vice')
source=(http://downloads.sourceforge.net/project/vice-emu/releases/${_pkgname}-${pkgver}.tar.gz ffmpeg.patch)
md5sums=('b48d137874daad50c087a0686cbdde34'
         '54a21b8ea5b1fbf4201172f15fad0a43')

build() {
  cd "$srcdir/$_pkgname-$pkgver"
  patch -Np1 -i ../ffmpeg.patch
  ./configure --prefix=/usr --enable-ethernet --enable-fullscreen --enable-gnomeui
  make
}

package() {
  cd "$srcdir/$_pkgname-$pkgver"

  make DESTDIR="$pkgdir/" install
}
