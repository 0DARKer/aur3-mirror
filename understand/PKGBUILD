# Contributor: Aaron Chen < nextAaron at gmail dot com >

pkgname=understand
_pkgname=Understand
pkgver=3.1.676
pkgrel=1
pkgdesc="Understand from Scientific Toolworks, Inc. is a static analysis tool for maintaining, measuring, & analyzing critical or large code bases."
arch=("i686" "x86_64")
url="http://www.scitools.com"
license=(custom)
depends=()
conflicts=()
options=('!strip' '!upx')

_source_arch="32"
[ "$CARCH" = "x86_64" ] && _source_arch="64"

sha256sums=('8a9a3e1fc92e9fa2496b0b473abe4abd4ef8153d141ddf9f795c27ed459cbbf7')
[ "$CARCH" = "x86_64" ] && sha256sums=('c653a63c8f645ad4bb89c161b056c6a118ddd194016a10dfc8632152448e5ac2')

source=("http://scitools.com/download/latest/${_pkgname}/${_pkgname}-${pkgver}-Linux-${_source_arch}bit.tgz")

package() {
	dirname="scitools"
	install -d "$pkgdir/opt"
	mv "$srcdir/$dirname" "$pkgdir/opt/"

	install -d "$pkgdir/usr/bin"
	ln -s "/opt/$dirname/bin/linux${_source_arch}/${pkgname}" "$pkgdir/usr/bin/${pkgname}"
	ln -s "/opt/$dirname/bin/linux${_source_arch}/understand.bin" "$pkgdir/usr/bin/${pkgname}.bin"

}
