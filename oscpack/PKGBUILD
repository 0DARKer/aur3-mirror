# Maintainer: rtfreedman  (rob<d0t>til<d0t>freedman<aT>googlemail<d0t>com
# Contributor: Bernardo Barros <bernardobarros@gmail.com>

pkgname=oscpack
pkgver=1.0.2
_pkgver=`echo ${pkgver} | sed 's/\./_/g' `
pkgrel=3
pkgdesc="A set of C++ classes for packing and unpacking OSC packets."
license=('MIT')
arch=('i686' 'x86_64')
url="http://www.rossbencina.com/code/oscpack"

source=("http://www.rossbencina.com/static/code/oscpack/oscpack_${_pkgver}.zip" 
		'oscpack-gcc43.patch' 
		'Makefile.patch') 

md5sums=('7cc36dab6fbb199ed3ee5ce6b8c877d7'
         'b5240c08328c0231937b961ab5f520c8'
         'd76accef1d0d1458c6b93cc4f88c1f5d')


build() {
  cd "$srcdir/$pkgname"

  patch -p1 -i ../oscpack-gcc43.patch
  patch -p0 -i ../Makefile.patch
  
  make
}

package() {
  cd "$srcdir/$pkgname"

  make DESTDIR="$pkgdir" install
  #
  install -d -m755 "${pkgdir}"/usr/share/licenses/$pkgname \
		"${pkgdir}"/usr/share/doc/$pkgname
		
  install -m644 LICENSE "${pkgdir}"/usr/share/licenses/$pkgname
  install -m644 README "${pkgdir}"/usr/share/doc/$pkgname
}
