# Maintainer: Ivan Puntiy <ivan.puntiy-at-gmail.com>
pkgname=unix-runescape-client
pkgver=3.2
pkgrel=1
pkgdesc="Runescape Client for Linux and Unix"
arch=(any)
url="http://hkprojects.weebly.com/runescape-client-for-linux-and-unix.html"
license=(GPL)
depends=('java-runtime' 'perl' 'xterm' 'p7zip')
optdepends=('wine: for compatibility mode')
install=$pkgname.install
source=(
  "http://dl.dropbox.com/u/11631899/opensource/Perl/$pkgname.tar.gz"
  runescape.desktop
  runescape-update-client.desktop
)
md5sums=('03ce1547be6b88158a174f771bf95af9'
         'c3497bb536996327727299336ec05698'
         '0bb65898af1170185fec230f7ba49230')

package() {
  cd "$srcdir/runescape"

  # dumping everithing in /opt/ for now,
  instdir="$pkgdir"/opt/runescape
  mkdir -p "$instdir"/{share,win32/jawt} "$pkgdir"/usr/share/applications

  for file in *.txt runescape update-runescape-client
  do
    cp "$file" "$instdir"/
  done

  for file in share/{*.png,runescape.prm,settings.conf.example}
  do
    cp "$file" "$instdir"/share/
  done

  cp "$srcdir"/*.desktop "$pkgdir"/usr/share/applications/

  cp win32/jawt/jawt.dll "$instdir"/win32/jawt/


  # symlink executables
  mkdir -p "$pkgdir"/usr/bin
  ln -s ../../opt/runescape/runescape "$pkgdir"/usr/bin/runescape
  ln -s ../../opt/runescape/update-runescape-client "$pkgdir"/usr/bin/update-runescape-client
}

# vim:set ts=2 sw=2 et:
