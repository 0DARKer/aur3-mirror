# Contributor: MacCyber <jonas.enge at gmail dot com>
# Contributor: Doug Newgard <scimmia22 at outlook dot com>
# Contributor: Jonas Heinrich <onny@project-insanity.org>
# Contributor: Antti Hautaniemi <an7oine at me com>

pkgname=acestream-engine
pkgver=3.0.2
pkgrel=1
_ubuntuver=14.04
pkgdesc="ACE Stream engine"
arch=('i686' 'x86_64')
url="http://acestream.org/"
license=('unknown')
depends=('python2-setuptools' 'python2-xlib')
install='acestream-engine.install'
source=('acestream-engine.service'
        "http://dl.acestream.org/ubuntu/${_ubuntuver%.*}/acestream_${pkgver}_ubuntu_${_ubuntuver}_$CARCH.tar.gz")
sha256sums=('b9863a9dd3ee6d41d18475f5f539107fe81a573f45ca1cb98013441f955f1af0')
if [[ "$CARCH" == "x86_64" ]]; then
  sha256sums+=('dbc77e087401e7001d8c41828436244dad8e296584f22186457537ef017e3fbd')
elif [[ "$CARCH" == "i686" ]]; then
  sha256sums+=('11a80ee6e73df8ba5561b4b9479382696d0fd7b9819eb3a093387205f06df7f2')
fi

package() {
  cd "$srcdir/acestream_${pkgver}_ubuntu_${_ubuntuver}_$CARCH"
  install -Dm755 acestreamengine "$pkgdir/usr/bin/acestreamengine"
  install -d "$pkgdir/usr/share/acestream/"
  cp -a data lib "$pkgdir/usr/share/acestream/"
  install -Dm644 "$srcdir/acestream-engine.service" "$pkgdir/usr/lib/systemd/system/acestream-engine.service"
}
