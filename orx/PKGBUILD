#..................................................
# Note: this install *binary* libraries and tools
#..................................................
#
# Maintainer : Daniel T. Borelli < daltomi@aol.com >
#

pkgname=orx
pkgver=1.6rc0
pkgrel=1
pkgdesc='ORX: Portable Game Engine'
arch=('i686' 'x86_64')
url="http://sourceforge.net/projects/orx/"
license=('zlib/libpng')
depends=('openal' 'libsndfile')

if test "$CARCH" == x86_64; then
  dev=linux64
  md5sums=('73c023514063207531970671124b0036')
else
  dev=linux32
  md5sums=('1013ed1eb5fc1d7dfa2b467bcb717c0d')
fi 

source=("http://sourceforge.net/projects/orx/files/orx/orx%20-%201.6rc0%20(4000)/orx-dev-${dev}-${pkgver}.tar.bz2")

package() {
 # make dirs
 install -d $pkgdir/usr/lib $pkgdir/usr/include/orx $pkgdir/usr/share/doc/orx $pkgdir/usr/bin
 
 cd "${srcdir}/orx-${pkgver}/"
 install -Dm0755 AUTHORS CHANGELOG COPYRIGHT LICENSE README* $pkgdir/usr/share/doc/orx

 # internal directory orx
 cd "dev-$dev/"
 # copy files
 install -Dm0755 lib/*.so $pkgdir/usr/lib/
 install -Dm0755 tools/orxCrypt/bin/* $pkgdir/usr/bin/
 install -Dm0755 tools/orxFontGen/bin/* $pkgdir/usr/bin/
 install -Dm0755 *.ini $pkgdir/usr/share/doc/orx
 
 # copy files and dir. recursive
 install -Dm0755 include/*.h $pkgdir/usr/include/orx

 _includes=("anim base core debug display io main math memory object physics plugin plugin/define render sound utils")

 for dir in ${_includes}
 do 
   install -d $pkgdir/usr/include/orx/${dir}
   install -Dm0755 include/${dir}/*.h  $pkgdir/usr/include/orx/${dir}
 done
}

# vim:set ts=2 sw=2 et:
