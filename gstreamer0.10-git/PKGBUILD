# Maintainer: Thijs Vermeir <thijsvermeir@gmail.com>

_realname=gstreamer0.10
_upstreamver=0.10.30.1
pkgname=${_realname}-git
pkgver=20090820
pkgrel=1
pkgdesc="GStreamer Multimedia Framework"
arch=(i686 x86_64)
license=('LGPL')
url="http://gstreamer.freedesktop.org/"
depends=('libxml2>=2.7.3' 'glib2>=2.20.1')
conflicts=("${_realname}")
makedepends=('git' 'cvs' 'intltool' 'pkgconfig' 'gtk-doc')
provides=("${_realname}=${_upstreamver}")
options=('!libtool')
source=()
md5sums=()
groups=('gstreamer')

_gitroot=git://anongit.freedesktop.org/gstreamer/gstreamer
_gitname=master

build() {
    cd ${srcdir}
    if [ -d gstreamer ] ; then
      cd gstreamer && git pull --rebase || return 1
    else
      git clone --depth 1 git://anongit.freedesktop.org/gstreamer/gstreamer || return 1
      cd gstreamer
    fi
    sh autogen.sh --prefix=/usr --sysconfdir=/etc --localstatedir=/var || return 1
    make || return 1
    make DESTDIR="${pkgdir}" install || return 1
}
