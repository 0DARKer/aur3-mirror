# Maintainer: Sebastian Lau <lauseb644@gmail.com>
# Submitter: Sebastian Lau <lauseb644@gmail.com>

_pkgbase=google-api-cpp-client
pkgname=google-api-cpp-client-drive
_branchver=0.1
pkgver=0.1.5
pkgrel=1
pkgdesc="Open source C++ client library for Google Drive"
arch=('i686' 'x86_64')
url="https://github.com/google/google-api-cpp-client"
license=('GPL')
depends=('google-api-cpp-client')
makedepends=('cmake' 'git' 'gtest' 'gflags')
provides=('google-api-cpp-client-drive')
source=("git+https://github.com/google/${_pkgbase}.git#branch=v${_branchver}")
md5sums=('SKIP')
options=(staticlibs)



build() {
   cd "${srcdir}/${_pkgbase}/service_apis/drive"
   cmake .
   make
}
 
package() {
   _api="drive"

   cd "${srcdir}/${_pkgbase}/service_apis/${_api}/google/${_api}_api"

   mkdir -p "${pkgdir}/usr/lib"
   mkdir -p "${pkgdir}/usr/include/googleapis/${_api}"
   install -Dm644 libgoogle_drive_api.* "${pkgdir}/usr/lib"
   install -Dm644 *.h "${pkgdir}/usr/include/googleapis/${_api}"
}
