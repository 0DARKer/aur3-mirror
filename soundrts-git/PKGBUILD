# Contributor: Storm Dragon <stormdragon2976@gmail.com>
pkgname=soundrts-git
pkgver=2
pkgrel=1
pkgdesc="A real-time strategy audio game"
arch=('any')
url="https://github.com/soundmud/soundrts"
source=('soundrts.desktop')
license=('BSD' 'Unknown')
depends=('python2' 'python2-pygame')
makedepends=('git')
optdepends=('espeak: TTS support'
	'speech-dispatcher: TTS support'
	'python2-speechd: For speech-dispatcher to work with SoundRTS.')
md5sums=('d06721831d47dd0dc5b1c5d19ba55f59')

_gitroot="git://github.com/soundmud/soundrts.git"
_gitname="soundrts"

build()
{
msg "Connecting to the Git repository..."
  
if [[ -d "$srcdir/$_gitname" ]] ; then
    cd "$_gitname"
    git pull origin
    msg "The local files are updated"
  else
    git clone --depth 1 $_gitroot
  fi

}

package()
 {
  msg "Starting to build the package..."

  cd "$srcdir/$_gitname"
  install -d "$pkgdir/opt/soundrts"
  install -d "$pkgdir/usr/share/applications"
  cp -a * "$pkgdir/opt/soundrts/"
  install -m644 "../../soundrts.desktop" "$pkgdir/usr/share/applications/soundrts.desktop"
  }

# vim:set ts=2 sw=2 et:
