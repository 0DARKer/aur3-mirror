# Maintainer: ponsfoot <cabezon dot hashimoto at gmail dot com>

pkgname=go-openoffice-ja
pkgver=3.2.1
pkgrel=1
_pkgver=3.2
_lang=ja
_srcurl=http://go-oo.mirrorbrain.org/stable
_intver=${pkgver}-9505
pkgdesc="Go-OpenOffice Japanese language files"
arch=('i686' 'x86_64')
license=('LGPL')
url="http://go-oo.org/discover/"
makedepends=('rpmextract')
depends=("go-openoffice>=${pkgver}")
changelog=ChangeLog

if [[ "$CARCH" = "x86_64" ]]; then
    _archdir="linux-x86_64"
    _archid="x86_64"
else
    _archdir="linux-x86"
    _archid="i586"
fi

source=(
    ${_srcurl}/${_archdir}/${pkgver}/ooobasis${_pkgver}-${_lang}-${_intver}.${_archid}.rpm
    ${_srcurl}/${_archdir}/${pkgver}/ooobasis${_pkgver}-${_lang}-base-${_intver}.${_archid}.rpm
    ${_srcurl}/${_archdir}/${pkgver}/ooobasis${_pkgver}-${_lang}-binfilter-${_intver}.${_archid}.rpm
    ${_srcurl}/${_archdir}/${pkgver}/ooobasis${_pkgver}-${_lang}-calc-${_intver}.${_archid}.rpm
    ${_srcurl}/${_archdir}/${pkgver}/ooobasis${_pkgver}-${_lang}-draw-${_intver}.${_archid}.rpm
    ${_srcurl}/${_archdir}/${pkgver}/ooobasis${_pkgver}-${_lang}-help-${_intver}.${_archid}.rpm
    ${_srcurl}/${_archdir}/${pkgver}/ooobasis${_pkgver}-${_lang}-impress-${_intver}.${_archid}.rpm
    ${_srcurl}/${_archdir}/${pkgver}/ooobasis${_pkgver}-${_lang}-math-${_intver}.${_archid}.rpm
    ${_srcurl}/${_archdir}/${pkgver}/ooobasis${_pkgver}-${_lang}-res-${_intver}.${_archid}.rpm
    ${_srcurl}/${_archdir}/${pkgver}/ooobasis${_pkgver}-${_lang}-writer-${_intver}.${_archid}.rpm
    ${_srcurl}/${_archdir}/${pkgver}/openoffice.org3-${_lang}-${_intver}.${_archid}.rpm
)

if [[ "$CARCH" = "x86_64" ]]; then
    md5sums=('07e604246d912665275617bb31b966a9'
        '27de34250a6ec8c0782e4ba55badfd95'
        '65722052d23c00533e8fbdb96faea2f3'
        '813d07bb49a5f742d9a08062f9741036'
        '6eda170936f67194095a9ab447eb265e'
        'd91b8d8fb47f0d5da7b1b11d2178ed80'
        '5e0ba0e6069bddb2fa78ed1fca5942ec'
        'dcede9efa3b041acd7ff57ce06141a6e'
        '17163f4387d15f1f4af595bf8f272bce'
        '7b4c549d92acc11d010d773d799e131c'
        'bdca7401c06a2034ae17cb49e1a8c2b1')
else
    md5sums=('a4e58e1b696539f4669277f4d61abc84'
        '53de01077642e0765db88ed02aabd541'
        '524c029d7af9fb2dd01a276a5b0e9b0d'
        'e425493760185230f1920f9b0e7edc43'
        'd207e8ce073b7d3e7ca90b75ca1beac3'
        'ddeb4af0da9fc4a78b67303529e54597'
        '2f6b8f87e8d8a756c7944b279134f742'
        'eeb69bd6d3fa1ae05860f90237ba4bd3'
        '8b4fc2afe81c5538e6b0777552c520a9'
        'de65791f515c58ce8a7c18418f66d869'
        '8974e5485da72a27ee3320d7d8f8d4ed')
fi

build() {
	cd ${srcdir}
	for i in *.rpm
		do rpmextract.sh $i
	done
}

package() {
	cd ${srcdir}
	mkdir -p ${pkgdir}/usr/lib/${pkgname%%-${_lang}}
	cp -R opt/openoffice.org{,3}/* ${pkgdir}/usr/lib/${pkgname%%-${_lang}}
}
