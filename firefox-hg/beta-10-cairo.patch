diff -Naur old/mozilla-central/config/system-headers new/mozilla-central/config/system-headers
--- old/mozilla-central/config/system-headers	2011-01-22 02:24:26.000000000 +0200
+++ new/mozilla-central/config/system-headers	2011-01-23 17:10:49.819510350 +0200
@@ -86,6 +86,7 @@
 cairo-os2.h
 cairo-pdf.h
 cairo-ps.h
+cairo-tee.h
 cairo-quartz.h
 cairo-win32.h
 cairo-xlib.h
diff -Naur old/mozilla-central/configure.in new/mozilla-central/configure.in
--- old/mozilla-central/configure.in	2011-01-22 02:24:26.000000000 +0200
+++ new/mozilla-central/configure.in	2011-01-23 17:09:36.409143299 +0200
@@ -8726,6 +8726,7 @@
    PKG_CHECK_MODULES(CAIRO, cairo >= $CAIRO_VERSION pixman-1 freetype2 fontconfig)
    MOZ_CAIRO_CFLAGS=$CAIRO_CFLAGS
    MOZ_CAIRO_LIBS=$CAIRO_LIBS
+   PKG_CHECK_MODULES(CAIRO_TEE, cairo-tee >= $CAIRO_VERSION)
    if test "$MOZ_X11"; then
         PKG_CHECK_MODULES(CAIRO_XRENDER, cairo-xlib-xrender >= $CAIRO_VERSION)
         MOZ_CAIRO_LIBS="$MOZ_CAIRO_LIBS $XLDFLAGS $CAIRO_XRENDER_LIBS"
diff -Naur old/mozilla-central/gfx/thebes/gfxASurface.cpp new/mozilla-central/gfx/thebes/gfxASurface.cpp
--- old/mozilla-central/gfx/thebes/gfxASurface.cpp	2011-01-22 02:25:38.000000000 +0200
+++ new/mozilla-central/gfx/thebes/gfxASurface.cpp	2011-01-23 17:15:26.714919335 +0200
@@ -221,9 +221,11 @@
         mFloatingRefs = 0;
     } else {
         mFloatingRefs = 1;
+#ifdef MOZ_TREE_CAIRO
         if (cairo_surface_get_content(surface) != CAIRO_CONTENT_COLOR) {
             cairo_surface_set_subpixel_antialiasing(surface, CAIRO_SUBPIXEL_ANTIALIASING_DISABLED);
         }
+#endif
     }
 }
 
@@ -435,10 +437,12 @@
 void
 gfxASurface::SetSubpixelAntialiasingEnabled(PRBool aEnabled)
 {
+#ifdef MOZ_TREE_CAIRO
     if (!mSurfaceValid)
         return;
     cairo_surface_set_subpixel_antialiasing(mSurface,
         aEnabled ? CAIRO_SUBPIXEL_ANTIALIASING_ENABLED : CAIRO_SUBPIXEL_ANTIALIASING_DISABLED);
+#endif
 }
 
 PRBool
@@ -446,7 +450,11 @@
 {
     if (!mSurfaceValid)
       return PR_FALSE;
+#ifdef MOZ_TREE_CAIRO
     return cairo_surface_get_subpixel_antialiasing(mSurface) == CAIRO_SUBPIXEL_ANTIALIASING_ENABLED;
+#else
+    return PR_TRUE;
+#endif
 }
 
 PRInt32
diff -Naur old/mozilla-central/gfx/thebes/gfxTeeSurface.cpp new/mozilla-central/gfx/thebes/gfxTeeSurface.cpp
--- old/mozilla-central/gfx/thebes/gfxTeeSurface.cpp	2011-01-22 02:25:38.000000000 +0200
+++ new/mozilla-central/gfx/thebes/gfxTeeSurface.cpp	2011-01-23 17:16:54.806489799 +0200
@@ -37,7 +37,14 @@
 
 #include "gfxTeeSurface.h"
 
+/* Once cairo in tree is update ensure we remove the ifdef
+    and just include cairo-tee.h
+*/
+#ifdef MOZ_TREE_CAIRO
 #include "cairo.h"
+#else
+#include "cairo-tee.h"
+#endif
 
 gfxTeeSurface::gfxTeeSurface(cairo_surface_t *csurf)
 {
diff -Naur old/mozilla-central/js/src/config/system-headers new/mozilla-central/js/src/config/system-headers
--- old/mozilla-central/js/src/config/system-headers	2011-01-22 02:25:48.000000000 +0200
+++ new/mozilla-central/js/src/config/system-headers	2011-01-23 17:11:54.426707532 +0200
@@ -87,6 +87,7 @@
 cairo-pdf.h
 cairo-ps.h
 cairo-quartz.h
+cairo-tee.h
 cairo-win32.h
 cairo-xlib.h
 cairo-xlib-xrender.h