--- fly8.orig/unix/makelx.top	1995-09-09 11:47:06.000000000 +0600
+++ fly8/unix/makelx.top	2012-02-09 16:17:48.121599240 +0600
@@ -11,7 +11,7 @@
 
 # basic options.
 #
-OFLAGSB=	-I. -D$(SYSTEM) -DLINUX -m486 -Wall
+OFLAGSB=	-I. -I/usr/include -D$(SYSTEM) -DLINUX -march=i686 -Wall
 
 # If you have assembly support, define:
 #	-DUSE_ASM
@@ -99,7 +99,7 @@
 
 HFILES=	fly.h colors.h $(SYSTEM)/config.h
 HPLANE=	$(HFILES) plane.h hud.h
-LIBS=	-s -N -L/usr/X11/lib -lm -lX11 -lXext -lvga
+LIBS=	-L/usr/lib -lm -lX11 -lXext -lvga
 
 .PRECIOUS: itabs.c
 
@@ -183,7 +183,7 @@
 	$(CC) $(LCFLAGS) ifuncsm$(OO) debug$(OO) -o ifuncsm $(LIBS)
 
 itabs.c:	ifuncsm
-	ifuncsm >itabs.c
+	./ifuncsm >itabs.c
 
 # optimization flags are carefuly selected. Only CFLAGSN is used with bug
 # ridden complers to avoid failures; the other options are not platform
--- fly8.orig/unix/joyport.c	1995-08-28 23:11:02.000000000 +0600
+++ fly8/unix/joyport.c	2012-02-09 15:51:00.011590150 +0600
@@ -52,7 +52,7 @@
 static Uint
 readjoy (int which, STICK *j, int mask, int opts)
 {
-	struct JS_DATA_TYPE_LONG jsdata;
+/*	struct JS_DATA_TYPE_LONG jsdata;
 	int	len;
 
 	if (fjs < 0)
@@ -70,7 +70,7 @@
 	j->b[1] = T(jsdata.buttons & 0x0002);
 	j->b[2] = T(jsdata.buttons & 0x0004);
 	j->b[3] = T(jsdata.buttons & 0x0008);
-
+*/
 	return (0);
 }
 #else
--- fly8.orig/ifuncs.c	1979-12-31 23:00:00.000000000 +0500
+++ fly8/ifuncs.c	2012-02-09 16:09:09.641596310 +0600
@@ -12,7 +12,7 @@
 #endif
 
 #include "fly.h"
-
+#include "math.h"
 
 #undef ihypot2d
 extern Ushort FAR FASTCALL
--- fly8.orig/parms/expr.awk	1979-12-31 23:00:00.000000000 +0500
+++ fly8/parms/expr.awk	2012-02-09 16:48:45.514943073 +0600
@@ -191,16 +191,16 @@
 }
 
 function exclusive_or(  e, e1) {
-	e = and()
+	e = and_new()
 	while (tok == "^") {
 		advance()
-		e1 = and()
+		e1 = and_new()
 		e = bitwise(e, e1, "^");
 	}
 	return e
 }
 
-function and(  e, e1) {
+function and_new(  e, e1) {
 	e = equality()
 	while (tok == "&") {
 		advance()
--- fly8.orig/shapes/f8shape.awk	1979-12-31 23:00:00.000000000 +0500
+++ fly8/shapes/f8shape.awk	2012-02-09 16:52:44.424944425 +0600
@@ -177,16 +177,16 @@
 }
 
 function exclusive_or(  e, e1) {
-	e = and()
+	e = and_new()
 	while (tok == "^") {
 		advance()
-		e1 = and()
+		e1 = and_new()
 		e = bitwise(e, e1, "^");
 	}
 	return e
 }
 
-function and(  e, e1) {
+function and_new(  e, e1) {
 	e = equality()
 	while (tok == "&") {
 		advance()
--- fly8.orig/unix/fly.ini	1979-12-31 23:00:00.000000000 +0500
+++ fly8/unix/fly.ini	2012-02-09 19:16:27.111659831 +0600
@@ -5,29 +5,29 @@
 #
 # Explanations in fly8.doc.
 
-# standard X11 graphics
+# To use the X11/Image based driver:
 #
-	dvgrx:direct
+	dvgri:single
 	Vgrx
-	mm
+	m1024x768
 
 # pointing device:
 #
-	dpmouse:+x+y:sx=3:sy=3:d=0
+	dpkeypad:+x+y:linear
 
 # plane and drone type:
 #
-	Pbasic
+	Pf16
 
 # Name to identify myself, team and home:
 #
-	NEyal		My prefered name
-	Tone		My team name
-	Ha18		My home runway
+	Nplayer		# My prefered name
+	Tone		# My team name
+	Hal18		# My home runway
 
 # Set HUD color
 #
-	ch0x60c060	light green (brighter)
+	ch0x60c060	# light green (brighter)
 
 # always have this for unix
 #
--- fly8.orig/unix/fly	1979-12-31 23:00:00.000000000 +0500
+++ fly8/unix/fly	2012-02-09 17:36:43.668292674 +0600
@@ -1,3 +1,5 @@
+#!/bin/sh
+
 # fly
 #
 # This is part of the flight simulator 'fly8'.
@@ -8,4 +10,4 @@
 # the 'M$HOME/fly' if you got your own macros file.
 #
 
-/usr/games/fly8/fly8 F/usr/games/fly8 L$HOME/fly.log $1 $2 $3 $4 $5 $6 $7 $8 $9 &
+/opt/fly8/fly8 F/opt/fly8 L$HOME/.fly8.log $1 $2 $3 $4 $5 $6 $7 $8 $9 &
--- fly8.orig/unix/flyfifo	1979-12-31 23:00:00.000000000 +0500
+++ fly8/unix/flyfifo	2012-02-09 17:35:13.471625498 +0600
@@ -1,3 +1,5 @@
+#!/bin/sh
+
 # flyfifo
 #
 # This is part of the flight simulator 'fly8'.
--- fly8.orig/unix/flytty	1979-12-31 23:00:00.000000000 +0500
+++ fly8/unix/flytty	2012-02-09 17:35:27.191625578 +0600
@@ -1,3 +1,5 @@
+#!/bin/sh
+
 # flytty
 #
 # This is part of the flight simulator 'fly8'.
--- fly8.orig/unix/flyudp	1979-12-31 23:00:00.000000000 +0500
+++ fly8/unix/flyudp	2012-02-09 17:35:30.304958930 +0600
@@ -1,3 +1,5 @@
+#!/bin/sh
+
 # flyudp
 #
 # This is part of the flight simulator 'fly8'.
