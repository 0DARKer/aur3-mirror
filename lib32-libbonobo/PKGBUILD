_pkgbasename=libbonobo
pkgname=lib32-$_pkgbasename
pkgver=2.32.0
pkgrel=2
pkgdesc="A set of language and system independant CORBA interfaces for creating reusable components (32 bit, libraries only)"
arch=('x86_64')
license=('GPL' 'LGPL')
depends=('lib32-orbit2>=2.14.18' 'lib32-libxml2>=2.7.7' 'lib32-glib2>=2.25.17' "$_pkgbasename>=$pkgver")
makedepends=('intltool' 'pkgconfig' 'lib32-flex' 'gcc-multilib')
options=('!libtool')
url="http://www.gnome.org"
source=(http://ftp.gnome.org/pub/gnome/sources/libbonobo/2.32/libbonobo-${pkgver}.tar.bz2)
sha256sums=('b8b8037d5e8e37f39395a2a2fba7f2fb3d5b53ecedc3d419181912b831ab1349')

build() {
  cd "${srcdir}/${_pkgbasename}-${pkgver}"
  ./configure --prefix=/usr --sysconfdir=/etc --localstatedir=/var \
  		--disable-static --libexecdir=/usr/lib32/bonobo --libdir=/usr/lib32 \
  		CC='gcc -m32'
  make
}
package() {
  cd "${srcdir}/${_pkgbasename}-${pkgver}"
  make DESTDIR="${pkgdir}" install
  # Cleanup for a lib32 package
  rm -rf ${pkgdir}/usr/{../etc,bin,include,sbin,share}
}
