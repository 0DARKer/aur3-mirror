# Maintainer : Nicolas Pouillard <nicolas(dot)pouillard(at)gmail(dot)com>
# Contributor: Sylvester Johansson <scj(at)archlinux(dot)us>
pkgname=ocaml-type-conv
pkgver=3.0.0
pkgrel=1
pkgdesc="mini library for Ocaml, needed by some libraries"
arch=('i686' 'x86_64')
url="http://www.ocaml.info/home/ocaml_sources.html"
license=('LGPL')
depends=('ocaml')
makedepends=('ocaml-findlib')
source=(http://hg.ocaml.info/release/${pkgname/ocaml-/}/archive/release-$pkgver.tar.gz)
md5sums=('443e3b9408a87714fd7281e3c78fb03f')
options=(!strip)

build() {
  cd "$srcdir/${pkgname/ocaml-/}-release-$pkgver"
  make || return 1
}

package(){
  cd "$srcdir/${pkgname/ocaml-/}-release-$pkgver"
  mkdir -p $pkgdir$(ocamlfind printconf destdir)
  make OCAMLFIND_INSTFLAGS="-destdir $pkgdir$(ocamlfind printconf destdir)" install
}

# vim:set ts=2 sw=2 et:
