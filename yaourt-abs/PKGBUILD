# Author: Julien MISCHKOWITZ <wain@archlinux.fr>
# Contributor: Aliaksandr Stelmachonak <mail.avatar at gmail dot com>

pkgname=yaourt-abs
_realname=yaourt
pkgver=0.9.2.6
pkgrel=11
pkgdesc="Fork of yaourt with patch for abs and more features comming..." 
arch=('any')
url="http://www.archlinux.fr/yaourt-en/" 
license=('GPL')
depends=('bash' 'wget' 'coreutils' 'diffutils' 'pacman' 'abs') 
makedepends=('gettext')
optdepends=(
	'aurvote: vote for favorite packages from AUR for inclusion in [community]'
        'pacman-color: fully colorized output'
        'colordiff: colorized output with yaourt -C'
	'zsh-yaourt: ZSH functions to tab-complete repo package names for yaourt'
	'customizepkg-new: A tool to automatically modify PKGBUILD before makepkg'
)
provides=('${_realname}=$pkgver')
conflicts=('${_realname}' '${_realname}-git')
backup=(etc/yaourtrc)
install=yaourt.install
source=(http://archiwain.free.fr/os/i686/${_realname}/${_realname}-$pkgver.src.tar.gz 
	'yaourt-abs.patch' 'man.patch')
md5sums=('188fecb7c7401287cca6028ab3f2de6f'
         '76d5d719e65f8feb3eb16a4f4bfc83ff'
         'fc096c04897bfd7074838a57436e2019')

build() { 
	cd $srcdir/${_realname}-$pkgver 
	patch -Np0 -i $startdir/man.patch || return 1
	make install DESTDIR=$pkgdir || return 1
	cd $pkgdir
	patch -Np1 -i $startdir/yaourt-abs.patch || return 1
}