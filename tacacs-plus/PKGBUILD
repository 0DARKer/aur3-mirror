# Maintainer: Michael Asher < michael [at] wesolveeverything dot com >
# Contributor: Michael Asher < michael [at] wesolveeverything dot com >
pkgname=tacacs-plus
pkgver=4.0.4.20
pkgrel=1
pkgdesc="TACACS+ daemon"
arch=(i686 x86_64)
url="http://www.shrubbery.net/tac_plus/"
license=('Custom')
source=(ftp://ftp.shrubbery.net/pub/tac_plus/tacacs+-F${pkgver}.tar.gz)
optdepends=('tcp_wrappers')

build() {
  cd ${srcdir}/tacacs+-F${pkgver}
  
  if [ ! -e "/usr/lib/libwrap.a" ] ; then
    msg2 "Configuring without tcp_wrappers"
    ./configure --prefix=/usr --with-libwrap=no >>/dev/null 2>&1
  else
    msg2 "Configuring with tcp_wrappers"
    ./configure --prefix=/usr >>/dev/null 2>&1
  fi

  msg2 "Compiling..."
  make all  2>&1 >>/dev/null
  msg2 "Installing to ${pkgdir}"
  make DESTDIR=${pkgdir} install >>/dev/null 2>&1 
  msg2 "Copying License File..."
    install -D -m644 ${srcdir}/tacacs+-F${pkgver}/COPYING ${pkgdir}/usr/share/licenses/${pkgname}/LICENSE >>/dev/null 
}

md5sums=('35b1081de86d0e8f2f99ba40844ceb31')
sha1sums=('233d3762357c8e59ec217102af53f2e7430300d7')
