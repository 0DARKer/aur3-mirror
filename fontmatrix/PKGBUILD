#! /bin/bash
# Maintainer: Jorge Barroso <jorge.barroso.11 at gmail dot com>
# Contributor: Michal Malek <michalm@jabster.pl>

pkgname=fontmatrix
pkgver=0.6.0
pkgrel=5
pkgdesc="Font manager for Linux"
arch=('i686' 'x86_64')
url="http://fontmatrix.be"
license=('GPL')
depends=('qtwebkit' 'qt4')
makedepends=('mesa' 'cmake')
source=($url/archives/$pkgname-$pkgver-Source.tar.gz)
sha512sums=('20c91a17b27b1131017f3d5a264250b560b46cfa1d6939171811def530939d8e072f02c818a58e40604506a6520a30d20c27b234655329d8a16ce489e69bcf00')

build() {
cd "${srcdir}/${pkgname}-${pkgver}-Source"

export QTDIR=/usr
export QMAKESPEC=/usr/share/qt4/mkspecs/linux-g++-
	[[ ${CARCH} = x86_64 ]] && QMAKESPEC+=64 || QMAKESPEC+=32

mkdir build
cd build
cmake .. -DCMAKE_INSTALL_PREFIX:PATH=/usr -DQT_QMAKE_EXECUTABLE=qmake-qt4
make
}

package() {
cd "${srcdir}/${pkgname}-${pkgver}-Source/build"
	make DESTDIR="${pkgdir}" install
}

