diff --git a/src/bsdconv.h b/src/bsdconv.h
index 7ea264b..81e326f 100644
--- a/src/bsdconv.h
+++ b/src/bsdconv.h
@@ -24,6 +24,10 @@
 #include <windows.h>
 #endif
 
+#if defined(__unix__)
+#include <sys/param.h> /* for PATH_MAX */
+#endif
+
 #ifdef __cplusplus
 extern "C" {
 #endif
@@ -149,7 +153,11 @@ struct bsdconv_codec_t {
 	void *priv;
 };
 
+#ifdef PATH_MAX
+#define PATH_BUF_SIZE PATH_MAX
+#else
 #define PATH_BUF_SIZE 512
+#endif
 
 #ifndef EDOOFUS
 #define EDOOFUS 88
