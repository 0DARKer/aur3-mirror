# Maintainer: Jesse Jaara <gmail.com: jesse.jaara>

pkgname=gstreamer-vaapi
pkgver=0.3.6
pkgrel=1
pkgdesc="collection of VA-API based plugins for GStreamer and helper libraries"
url="http://gitorious.org/vaapi/gstreamer-vaapi"
arch=(i686 x86_64)
license=('GPL2')
depends=("gstreamer0.10-bad-git>=20120204" 'ffmpeg')
optdepends=('xvba-video: for ATI cards'
	    'vdpau-video: for nVidia cards')
source=("$pkgname-$pkgver.tar.gz::http://gitorious.org/vaapi/gstreamer-vaapi/archive-tarball/$pkgver")
options=('!libtool')

build() {
  cd "${srcdir}/vaapi-gstreamer-vaapi"

  #Sadly the ffmpeg API used is so old that it need ALOT of fixing
  ./autogen.sh --disable-ffmpeg --prefix=/usr

  make
}

package() {
  cd "${srcdir}/vaapi-gstreamer-vaapi"

  make DESTDIR="${pkgdir}/" install
}

md5sums=('dd9dc5dbe4434aeb380a1d533274c7aa')
