#Maintainer: <SpeedVin at archlinux dot us>
#I have to thank flocke he first write this PKGBUILD. 
pkgname=libsoup-git
pkgver=20091014
pkgrel=2
pkgdesc="Gnome HTTP Library - Development Version"
arch=('i686' 'x86_64')
url="http://live.gnome.org/LibSoup"
license=('LGPL')
depends=('glib2-newest' 'gnutls' 'libxml2' 'sqlite3')
makedepends=('autogen' 'intltool' 'pkgconfig' 'gtk-doc' 'git' 'automake' 'gnome-common-git')
provides=('libsoup=2.28.0')                             
conflicts=('libsoup')
options=('!libtool' '!emptydirs')
optdepends=('libproxy:Needed when using proxy')
source=()


_gitroot=git://git.gnome.org/libsoup
_gitname=libsoup

build() {
 cd "$srcdir"
 rm -rf $_gitname

 msg "Connecting to git.gnome.org GIT server...."
 if [ -d ${srcdir}/$_gitname ] ; then
 cd $_gitname && git pull origin
 msg "The local files are updated."
 else
 git clone $_gitroot
 fi
 msg "Starting make..."  
 cd "${srcdir}/libsoup"
 ./autogen.sh --prefix=/usr --sysconfdir=/etc \
              --localstatedir=/var --disable-static --without-gnome || return 1
 make || return 1
 make DESTDIR="$pkgdir" install || return 1

}
md5sums=()
