From 6ec94774890452c5c82b0b9db64d7738948fbe19 Mon Sep 17 00:00:00 2001
From: San <sanette-linux@laposte.net>
Date: Thu, 23 Jun 2011 17:53:56 +0200
Subject: [PATCH] Correct the up/down orientation of Touch Strips

Tested on cintiq and intuos 3.

Signed-off-by: San <sanette-linux@laposte.net>
Reviewed-by: Ping Cheng <pinglinux@gmail.com>
Tested-by: Ping Cheng <pinglinux@gmail.com>
Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
---
 src/wcmCommon.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/src/wcmCommon.c b/src/wcmCommon.c
index bd47c51..9113f5f 100644
--- a/src/wcmCommon.c
+++ b/src/wcmCommon.c
@@ -366,8 +366,8 @@ static int getWheelButton(InputInfoPtr pInfo, const WacomDeviceState* ds,
 	{
 		value = ds->stripx - priv->oldStripX;
 
-		fakeButton = (value > 0) ? priv->striplup : priv->stripldn;
-		*fakeKey = (value > 0) ? priv->strip_keys[0+1] : priv->strip_keys[1+1];
+		fakeButton = (value < 0) ? priv->striplup : priv->stripldn;
+		*fakeKey = (value < 0) ? priv->strip_keys[0+1] : priv->strip_keys[1+1];
 	}
 
 	/* emulate events for right strip */
@@ -375,8 +375,8 @@ static int getWheelButton(InputInfoPtr pInfo, const WacomDeviceState* ds,
 	{
 		value = ds->stripy - priv->oldStripY;
 
-		fakeButton = (value > 0) ? priv->striprup : priv->striprdn;
-		*fakeKey = (value > 0) ? priv->strip_keys[2+1] : priv->strip_keys[3+1];
+		fakeButton = (value < 0) ? priv->striprup : priv->striprdn;
+		*fakeKey = (value < 0) ? priv->strip_keys[2+1] : priv->strip_keys[3+1];
 	}
 
 	DBG(10, priv, "send fakeButton %x with value = %d \n",
-- 
1.7.0.1

