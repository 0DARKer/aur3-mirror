# Contributor: twa022 <twa022 at gmail dot com>

_pkgname=xarchiver
pkgname=${_pkgname}-xz-support
pkgver=0.5.2
pkgrel=1
pkgdesc="GTK+ frontend to various command line archivers"
arch=('i686' 'x86_64')
url="http://xarchiver.xfce.org/"
license=('GPL')
groups=('xfce4-goodies')
depends=('gtk2' 'desktop-file-utils' 'hicolor-icon-theme')
makedepends=('intltool')
optdepends=('tar: TAR support'
            'gzip: GZIP support'
            'bzip2: BZIP2 support'
            'zip: ZIP support'
            'unzip: ZIP support'
            'unrar: RAR support'
            'p7zip: 7z support'
            'arj: ARJ support'
            'lha: LHA support'
            'lzop: LZOP support'
            'xz: LZMA support')
options=('!libtool')
provides=("${_pkgname}=${pkgver}")
conflicts=(${_pkgname})
install=xarchiver.install
source=(http://downloads.sourceforge.net/xarchiver/${_pkgname}-$pkgver.tar.bz2
        http://slackbuilds.org/slackbuilds/13.1/system/xarchiver/${_pkgname}-${pkgver}-add_xz_support.patch)

build() {
  cd "$srcdir/$_pkgname-$pkgver"
  patch -Np1 -i ../${_pkgname}-${pkgver}-add_xz_support.patch || return 1
  ./configure --prefix=/usr --libexecdir=/usr/lib/xfce4 || return 1
  make || return 1
  make DESTDIR="$pkgdir" install || return 1
}
md5sums=('2bc7f06403cc6582dd4a8029ec9d038d'
         '9facca6efd1c0760ce2072ea458c51cb')
