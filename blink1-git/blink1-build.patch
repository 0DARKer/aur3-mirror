diff --git a/commandline/Makefile b/commandline/Makefile
index 21ee11f..977ed2d 100644
--- a/commandline/Makefile
+++ b/commandline/Makefile
@@ -117,13 +117,13 @@ endif
 
 #################  Linux  ####################################################
 ifeq "$(OS)" "linux"
-LIBTARGET = blink1-lib.so
+LIBTARGET = libblink1.so
 CFLAGS += `pkg-config libusb-1.0 --cflags` -fPIC
 LIBS   += `pkg-config libusb-1.0 --libs` -lrt -lpthread -ldl
 
 OBJS = ./hidapi/libusb/hid.o
 
-EXEFLAGS = -static
+EXEFLAGS =
 LIBFLAGS = -shared -o $(LIBTARGET) $(LIBS)
 
 EXE=
@@ -155,7 +155,7 @@ CFLAGS += -I./hidapi/hidapi -I./mongoose -g
 OBJS +=  blink1-lib.o 
 
 #all: msg blink1-tool blink1-server-simple
-all: msg blink1-tool lib
+all: msg lib blink1-tool
 
 msg: 
 	@echo "building for OS=$(OS)"
@@ -177,7 +177,7 @@ $(OBJS): %.o: %.c
 
 blink1-tool: $(OBJS) blink1-tool.o
 	$(CC) $(CFLAGS) -c blink1-tool.c -o blink1-tool.o
-	$(CC) $(CFLAGS) $(EXEFLAGS) -g $(OBJS) $(LIBS) blink1-tool.o -o blink1-tool$(EXE) 
+	$(CC) $(CFLAGS) $(EXEFLAGS) -g $(LIBS) -L. -lblink1 blink1-tool.o -o blink1-tool$(EXE) 
 
 blink1-server-simple: $(OBJS) blink1-server-simple.c
 	$(CC) $(CFLAGS) -c blink1-server-simple.c -o blink1-server-simple.o
