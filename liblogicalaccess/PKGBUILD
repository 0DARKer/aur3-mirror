pkgname=liblogicalaccess
pkgver=1.74
pkgrel=1
pkgdesc="RFID Library C++ / C#"
arch=('i686' 'x86_64')
url="http://liblogicalaccess.islog.com/"
license=(LGPL)
depends=('gcc-libs')
makedepends=('cmake' 'gcc')
source=("https://github.com/islog/liblogicalaccess/archive/${pkgver}.tar.gz")
md5sums=('8ea69262ef5674b000ee60e8821edd36')

prepare () {
  # 1.74 does not compile
  rm -rf "$srcdir/${pkgname}-${pkgver}"
  git clone https://github.com/xantares/liblogicalaccess.git ${pkgname}-${pkgver}
}

build () {
  cd "$srcdir/${pkgname}-${pkgver}"
  mkdir -p build && pushd build
  cmake -DCMAKE_INSTALL_PREFIX=/usr ..
  make
}

package () {
  cd "$srcdir/${pkgname}-${pkgver}"
  pushd build
  make install DESTDIR="$pkgdir"
}
