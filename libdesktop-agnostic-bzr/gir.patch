diff -Naur libdesktop-agnostic.orig/libdesktop-agnostic/wscript libdesktop-agnostic/libdesktop-agnostic/wscript
--- libdesktop-agnostic.orig/libdesktop-agnostic/wscript	2011-04-06 09:26:45.000000000 +0200
+++ libdesktop-agnostic/libdesktop-agnostic/wscript	2011-04-06 11:48:36.020000013 +0200
@@ -67,8 +67,9 @@
 
 
 def create_typelib_task():
-    rule = 'LD_LIBRARY_PATH="${CURRENT_BUILD_DIR}" ${G_IR_COMPILER} ' + \
-           '-o ${TGT} ${SRC}'
+    rule = '${G_IR_COMPILER}' + \
+           ' --includedir "${CURRENT_BUILD_DIR}"' + \
+           ' -o ${TGT} ${SRC}'
     Task.simple_task_type('typelib', rule, after='cc_link')
 
 create_typelib_task()
diff -Naur libdesktop-agnostic.orig/wscript libdesktop-agnostic/wscript
--- libdesktop-agnostic.orig/wscript	2011-04-06 09:26:45.000000000 +0200
+++ libdesktop-agnostic/wscript	2011-04-06 11:48:22.483333347 +0200
@@ -71,7 +71,7 @@
                    help='Enables the library to be built so that it is '
                         'instrumented to measure performance.')
     opt.add_option('--disable-gi', action='store_true',
-                   dest='no_gi', default=True)
+                   dest='no_gi', default=False)
 
 
 def configure(conf):
