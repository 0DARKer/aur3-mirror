# Maintainer: tailinchu <use_my_id at gmail dot com>

pkgname=usb-automount-git
pkgver=2013040221
pkgrel=1
pkgdesc="taylorchu's usb-automount repo (git version)"
arch=('any')
url="http://github.com/taylorchu/usb-automount"
license=('GPL2')
depends=('bash' 'systemd')
makedepends=('git')
conflicts=()
provides=()

_gitroot="https://github.com/taylorchu/usb-automount.git"
_gitname="usb-automount"

build() {
    cd "$srcdir"
    msg "Connecting to GIT server..."
    if [[ -d "$_gitname" ]] ; then
        cd "$_gitname" && git pull origin
        msg "The local files are updated."
    else
        git clone --depth 1 "$_gitroot" "$_gitname"
    fi
    msg "GIT checkout done or server timeout"
    
    cd "$srcdir/$_gitname"
}

package() {
    cd "$srcdir/$_gitname"
    make PREFIX=/usr DESTDIR="$pkgdir" install
}

