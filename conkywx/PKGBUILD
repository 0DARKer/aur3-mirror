# Contributer: Paramvir Likhari <plikhari at gmail dot com>
# Maintainer: Paramvir Likhari <plikhari at gmail dot com>

pkgname=conkywx
pkgver=0.6.7
pkgrel=1
pkgdesc="To display weather information using conky"
arch=('any')
url='https://sites.google.com/site/foreverquest1/conkywx'
license=('GPL3')
depends=('conky' 'wget')
backup=('etc/conkywx/conkywx.conf')
source=("https://sites.google.com/site/foreverquest1/${pkgname}/${pkgname}_${pkgver}.tar.gz")
md5sums=('65182efea3de34f09c5a7fc147af6f3d')
_conkyvar="usr/share/conkywx"

build()
{
  cd "${srcdir}/${pkgname}"
	
  # install script
  install -D -m755 conkywx "${pkgdir}/usr/bin/conkywx1"
  mkdir -p ${pkgdir}/${_conkyvar}
  mkdir -p ${pkgdir}/${_conkyvar}/examples
  mkdir -p ${pkgdir}/${_conkyvar}/images/moonicons
  mkdir -p ${pkgdir}/${_conkyvar}/images/wxicons
  install -D -m755 conky-restart "${pkgdir}/${_conkyvar}/"
  install -D -m755 conkywx.sh "${pkgdir}/${_conkyvar}/"
  install -D -m644 examples/* "${pkgdir}/${_conkyvar}/examples/"
  install -D -m644 images/moonicons/* "${pkgdir}/${_conkyvar}/images/moonicons/"
  install -D -m644 images/wxicons/* "${pkgdir}/${_conkyvar}/images/wxicons/"

  # install config file
  # mkdir -p ${pkgdir}/$HOME/.config/conkywx
  mkdir -p ${pkgdir}/etc/conkywx
  install -D -m644 examples/conkywx.conf "${pkgdir}/etc/conkywx/"
  
  # Install fonts
  mkdir -p ${pkgdir}/$HOME/.fonts
  install -D -m644 fonts/* "${pkgdir}/$HOME/.fonts/"

  # install man page
  gzip -c -9 conkywx.1 > conkywx.1.gz
  install -D -m644 conkywx.1.gz "${pkgdir}/usr/share/man/man1/conkywx.1.gz"

}



