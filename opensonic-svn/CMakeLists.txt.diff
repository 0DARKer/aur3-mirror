--- CMakeLists.txt	2009-07-22 01:54:28.000000000 -0400
+++ CMakeLists.txt.ok	2009-11-22 08:20:16.444138654 -0500
@@ -54,7 +54,7 @@
 
 
 # We need some libraries...
-FIND_LIBRARY(LALLEG NAMES alleg PATH "$ENV{CMAKE_LIBRARY_PATH}")
+FIND_LIBRARY(LALLEG NAMES alleg_unsharable PATH "$ENV{CMAKE_LIBRARY_PATH}")
 IF(NOT LALLEG)
   MESSAGE(FATAL_ERROR "Fatal error: lib Allegro not found! Please read the docs for more information.")
 ELSE(NOT LALLEG)
@@ -161,9 +161,8 @@
   SET(LAUNCHER_SRCS ${LAUNCHER_SRCS} src/iconlin.c)
   ADD_EXECUTABLE(${GAME_BIN} ${GAME_SRCS})
   ADD_EXECUTABLE(${LAUNCHER_BIN} ${LAUNCHER_SRCS})
-  SET_TARGET_PROPERTIES(${GAME_BIN} PROPERTIES LINK_FLAGS ${ALLEGRO_UNIX_LIBS})
-  TARGET_LINK_LIBRARIES(${GAME_BIN} m ${LOGG_LIBS} ${DUMB_LIBS} alpng)
-  SET_TARGET_PROPERTIES(${LAUNCHER_BIN} PROPERTIES LINK_FLAGS ${ALLEGRO_UNIX_LIBS})
+  TARGET_LINK_LIBRARIES(${GAME_BIN} m ${LOGG_LIBS} ${DUMB_LIBS} ${ALLEGRO_UNIX_LIBS} alpng)
+  TARGET_LINK_LIBRARIES(${LAUNCHER_BIN} ${ALLEGRO_UNIX_LIBS})
   SET_TARGET_PROPERTIES(${GAME_BIN} PROPERTIES COMPILE_FLAGS "-Wall -O2 ${CFLAGS}")
   SET_TARGET_PROPERTIES(${LAUNCHER_BIN} PROPERTIES COMPILE_FLAGS "-Wall -O2")
 ENDIF(UNIX)
