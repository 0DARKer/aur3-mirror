# Maintainer: moostik <mooostik_at_gmail.com>

pkgname=pyromaths
pkgver=10.10
pkgrel=2
pkgdesc="Generates math exercises with LaTeX/Pstricks (only in french)"
url='http://www.pyromaths.org/'
license=('GPL2') 
arch=('any')
depends=('python2' 'python2-qt' 'python-lxml' 'texlive-pstricks' 'texlive-latexextra')
source=(http://www.pyromaths.org/telecharger/$pkgname-${pkgver}-sources.tar.bz2
	$pkgname.png
	$pkgname.desktop
	pyro-python2.patch)

build() {
  cd $srcdir/${pkgname}
  patch -p0 < ${srcdir}/pyro-python2.patch
  install -d -m755 $pkgdir/usr/lib/$pkgname
  cp -R sixiemes cinquiemes quatriemes troisiemes lycee classes outils modeles interface.py $pkgdir/usr/lib/$pkgname
  install -d -m755 $pkgdir/usr/bin/
  install -D -m755 $pkgname.py $pkgdir/usr/bin/$pkgname
  # Adding menu item
  cd $srcdir
  install -D -m644 $pkgname.png $pkgdir/usr/share/pixmaps/$pkgname.png
  install -D -m644 $pkgname.desktop $pkgdir/usr/share/applications/$pkgname.desktop
}

md5sums=('24612bcce27189eb6b3449a1bbdb5c83'
         '3b8f3ca2731941d9cde0ba596de06eb1'
         '5e9b07f3450ed0db89b1a01df7a9c2cf'
         'cb43bb6cc14e5f2a33f90ee36218cec9')
