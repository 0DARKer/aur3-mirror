# Maintainer : Skydrome <irc.freenode.net>

pkgname=grid-updates
pkgver=1.1.3
pkgrel=3
pkgdesc="Helps keep Tahoe-LAFS nodes' configurations up-to-date"
url='http://killyourtv.i2p.to/grid-updates'
license=('Public Domain')
arch=('any')
conflicts=("grid-updates")
provides=("grid-updates")
install='grid-updates.install'
depends=('tahoe-lafs-i2p')
source=("http://killyourtv.i2p.to/${pkgname}/download/${pkgname}-${pkgver}.tar.gz"{,.sig}""
        '0001-style-fix.patch')
sha256sums=('7e00c32204f603a2b5d40bf5b0e02f4215089dc2a6ff500973ebaee4323daabc'
            '261664a122b443cb2b90cd970d68905a77ff7b293e6bfad12ab7a2ad9b1dfb0f'
            'b13a344ba8465ae3fa29fc438ecbeca77190cf7e7c1ac9e66ebeaafa9917258b')

build(){
    cd "${srcdir}/${pkgname}-${pkgver}"
    patch -Np0 -i ${srcdir}/0001-style-fix.patch
    python2 setup.py build
}

package(){
    cd "${srcdir}/${pkgname}-${pkgver}"
    python2 setup.py install --root="$pkgdir" --optimize=1
}

