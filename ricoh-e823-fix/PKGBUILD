# Maintainer: Xiao-Long Chen <chenxiaolong@cxl.epac.to>
pkgname=ricoh-e823-fix
pkgver=1.0
pkgrel=1
epoch=
pkgdesc="Fix for the Ricoh e823 card reader used in Lenovo laptops"
arch=('any')
url="https://bugs.launchpad.net/linux/+bug/790754"
license=('GPL')
# A "linux<=version" dependency will be placed here once the problem is fixed in the kernel
depends=('bash')
install=e823fix.install
source=('e823fix.install'
        'e823fix.rc'
        'e823fix.modprobe.conf')
sha512sums=('aa5f6f07cddb9422ab6082577004cb95b8d8c0159f7a9a046a1dd4989b7e34fad3503a3aeea401a7d2f0a05b8be4bd325476bb4f7351e0d19fa88a5eb53a49ac'
            'e9edaa5ea1f1a2eccb899a6823efb859166d5be0d0c4111be13f57213e1670a67b4d5adb9465d1b3f3b12fe3491b12296fc429ff003b50caa952b8ac83d3edd4'
            '89460c477b72ebae605c2cdde0bd1b4f7f35120394077dfb716e2a3f920fbf5d958e84c00ee8bd46650e28439cb07fa820a0226c3243049f1ee29abdd011bd76')

build() {
  msg "Nothing to build."
}

check() {
  msg "Nothing to check."
}

package() {
  install -d -m 755 "${pkgdir}/etc/rc.d/"
  install -m 755 "${srcdir}/e823fix.rc" "${pkgdir}/etc/rc.d/e823fix"
  install -d -m 755 "${pkgdir}/etc/modprobe.d/"
  install -m 644 "${srcdir}/e823fix.modprobe.conf" "${pkgdir}/etc/modprobe.d/e823fix.conf"
}

# vim:set ts=2 sw=2 et:
