diff -ur oblige_357_src.orig/gui/hdr_lua.h oblige_357_src/gui/hdr_lua.h
--- oblige_357_src.orig/gui/hdr_lua.h	2009-07-17 11:25:10.000000000 +0200
+++ oblige_357_src/gui/hdr_lua.h	2010-03-30 10:59:40.000000000 +0200
@@ -23,9 +23,11 @@
 
 /* LUA Scripting Language */
 
+extern "C" {
 #include "lua.h"
 #include "lauxlib.h"
 #include "lualib.h"
+}
 
 #endif // __OB_HDR_LUA__
 
diff -ur oblige_357_src.orig/gui/q_bsp.cc oblige_357_src/gui/q_bsp.cc
--- oblige_357_src.orig/gui/q_bsp.cc	2010-01-19 12:59:35.000000000 +0100
+++ oblige_357_src/gui/q_bsp.cc	2010-03-30 10:33:02.000000000 +0200
@@ -107,7 +107,7 @@
   // convert each newline into CR/LF pair
   while (*str)
   {
-    char *next = strchr(str, '\n');
+    const char *next = strchr(str, '\n');
 
     Append(str, next ? (next - str) : strlen(str));
 
