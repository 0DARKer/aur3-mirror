# Contributor: Sebastien Duquette <ekse.0x@gmail.com>
pkgname=ruby-sqlite3-ruby
pkgver=1.2.5
pkgrel=1
pkgdesc="ruby bindings for the SQLite3 database"
arch=(any)
url="http://github.com/luislavena/sqlite3-ruby"
license=('MIT')
depends=('ruby') 
makedepends=('rubygems')
source=("http://gems.rubyforge.org/gems/sqlite3-ruby-$pkgver.gem")
noextract=("sqlite3-ruby-$pkgver.gem")
md5sums=('eaa6328b0e971f4563f8d26715e37e13')

build() {
  cd $srcdir
  # _gemdir is defined inside build() because if ruby[gems] is not installed on the system
  #  makepkg will barf when sourcing the PKGBUILD
  local _gemdir="$(ruby -rubygems -e'puts Gem.default_dir')"

  gem install --ignore-dependencies -i "$pkgdir$_gemdir" sqlite3-ruby-$pkgver.gem
}

# vim:set ts=2 sw=2 et:

