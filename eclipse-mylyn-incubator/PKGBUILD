# Contributor: Jonathan Wiersma <archaur at jonw dot org>
pkgname=eclipse-mylyn-incubator
pkgver=3.3.3
_buildname="v20100330-0100"
pkgrel=1
pkgdesc="Experimental components for Mylyn for Eclipse"
arch=('i686' 'x86_64')
url="http://www.eclipse.org/mylyn/"
license=('EPL')
depends=( "eclipse-mylyn>=$pkgver" )
noextract=($pkgname-$pkgver.zip)

_mirror="http://mirror.csclub.uwaterloo.ca/eclipse"
_mirrorid="492"makls

source=("$pkgname-$pkgver.zip::http://www.eclipse.org/downloads/download.php?file=/tools/mylyn/update-archive/$pkgver/$_buildname/mylyn-$pkgver.$_buildname-${pkgname//eclipse-mylyn-}.zip&url=$_mirror/tools/mylyn/update-archive/$pkgver/$_buildname/mylyn-$pkgver.$_buildname-${pkgname//eclipse-mylyn-}.zip&mirror_id=$_mirrorid")

build() {
	# Extract archive
	mkdir -p $srcdir/eclipse || return 1
	cd $srcdir/eclipse || return 1
	jar xf $srcdir/$pkgname-$pkgver.zip || return 1
	
	# Install Plugins and Features
	cd $srcdir || return 1
	find eclipse -type f -exec install -Dm644 {} \
		$pkgdir/usr/share/eclipse/dropins/${pkgname#eclipse-}/{} \; || return 1
}

md5sums=('619d8414fd3390f8806e94d6224a30d9')
