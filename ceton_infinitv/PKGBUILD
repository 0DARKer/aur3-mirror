# Maintainer: Jameson Pugh <imntreal@gmail.com>

pkgname=ceton_infinitv
pkgver=2013.0326.2226
pkgrel=2
pkgdesc="Driver for Ceton InfiniTV"
arch=('i686' 'x86_64')
url="http://cetoncorp.com/infinitv_support/linux_drivers"
license=('GPL')
depends=('linux-headers')
source=("http://www.cetoncorp.com/downloads/${pkgname}_linux_driver_2013_0326_2226.tar.gz")
install=${pkgname}.install
sha256sums=('c58d92f898d0ac3844f68be530d1cc636b9b3ddf642bae27aff40bf17598b964')

build() {
  cd "$srcdir/${pkgname}_linux_driver"
  make
}

package() {
  cd "$srcdir/${pkgname}_linux_driver"
  KERNEL_VERSION=`uname -r`
	install -D -m644 ctn91xx.ko ${pkgdir}/usr/lib/modules/$KERNEL_VERSION/extramodules/ctn91xx.ko
	gzip -9 ${pkgdir}/usr/lib/modules/$KERNEL_VERSION/extramodules/ctn91xx.ko
	install -D -m644 98-ctn91xx.rules ${pkgdir}/etc/udev/rules.d/98-ctn91xx.rules
}

# vim:set ts=2 sw=2 et:
