# Maintainer: Jameson Pugh <imntreal@gmail.com>

pkgname=ceton_infinitv
pkgver=2012.1116.1219
pkgrel=1
pkgdesc="Driver for Ceton InfiniTV"
arch=('i686' 'x86_64')
url="http://www.cetoncorp.com/infinitv/support/linux.php"
license=('GPL')
depends=('linux-headers')
source=("http://www.cetoncorp.com/downloads/${pkgname}_linux_driver_2012_1116_1219.tar.gz")
install=${pkgname}.install
sha256sums=('3ef9fed0c023b0baca661f56304d1f58c2aca5aa84eed5043e8a781a46457f53')

build() {
  cd "$srcdir/${pkgname}_linux_driver"
  make
}

package() {
  cd "$srcdir/${pkgname}_linux_driver"
  KERNEL_VERSION=`uname -r`
	install -D -m644 ctn91xx.ko ${pkgdir}/lib/modules/$KERNEL_VERSION/extra/ctn91xx.ko
	gzip -9 ${pkgdir}/lib/modules/$KERNEL_VERSION/extra/ctn91xx.ko
	install -D -m644 98-ctn91xx.rules ${pkgdir}/etc/udev/rules.d/98-ctn91xx.rules
}

# vim:set ts=2 sw=2 et:
