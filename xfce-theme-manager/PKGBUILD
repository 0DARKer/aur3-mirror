# Contributor: Martin F. Schumann <mfs@mfs.name>

pkgname=xfce-theme-manager
pkgver=0.1.11
pkgrel=1
pkgdesc="A theme manager allowing easy configuration of themes, window borders, controls, icons and cursors for Xfce"
url="http://keithhedger.hostingsiteforfree.com/pages/apps.html#themeed"
license="GPL"
arch=(i686 x86_64)
depends=('glib2' 'gdk-pixbuf2' 'cairo' 'libxcursor')
optdepends=('xfce4-composite-editor: A simple GUI to tweak xfwm, can be launched from xfce-theme-manager')
makedepends=('pkg-config' 'make')
source=("http://keithhedger.hostingsiteforfree.com/zips/Xfce-Theme-Manager-${pkgver}.tar.gz")
md5sums=('fe9f7d659baad09b4b356e4770a05e93')

package() {
  mkdir -p $pkgdir/usr/bin $pkgdir/usr/share/applications
  cd $srcdir
  sed 's/Name=Xfce-Theme-Manager/Name=Xfce Theme Manager/g;s/^Comment.*/Comment=Control Xfce4 Themes, Icons, Cursors, Wallpapers and more/g' Xfce-Theme-Manager.desktop > xfce-theme-manager.desktop
  mv Makefile Makefile.old
  sed 's/Xfce-Theme-Manager.desktop/xfce-theme-manager.desktop/g' Makefile.old > Makefile
  make CXXFLAGS="$CXXFLAGS -O3 -Wall `pkg-config --cflags --libs glib-2.0` `pkg-config --cflags --libs gdk-2.0` `pkg-config --cflags --libs gtk+-2.0` `pkg-config --cflags --libs xcursor` `pkg-config --cflags --libs gthread-2.0`" PREFIX="$pkgdir/usr" install
}
