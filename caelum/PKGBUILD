# Contributor: Falcata
# Maintainer: Jose Riha <jose1711 gmail com>

pkgname=caelum
pkgver=0.5.0
pkgrel=4
pkgdesc="library for Ogre targeted to help creating photorealistic atmospheric effects"
arch=('i686' 'x86_64')
url="http://www.ogre3d.org/tikiwiki/Caelum"
depends=('ogre' 'cegui-ogre')
makedepends=('scons')
license=('LGPL')
source=(http://sourceforge.net/projects/caelum/files/caelum/0.5/Caelum-${pkgver}.zip/download)
md5sums=('5adb1809453930a71f61d6bb4ba0ce7d')

build() {
  cd $srcdir/Caelum-$pkgver
  sed -e '/if ceguiDemoEnv:/s/^/#/' -e '/CaelumLab.cpp/s/^/#/' -i SConstruct
  scons -j2 --silent .
}

package() {
  mkdir -p $pkgdir/usr/include/Caelum
  cd $srcdir/Caelum-$pkgver
  install -D -m644 libCaelum.a $pkgdir/usr/lib/libCaelum.a
  install -D -m644 main/include/* $pkgdir/usr/include/Caelum/
}
