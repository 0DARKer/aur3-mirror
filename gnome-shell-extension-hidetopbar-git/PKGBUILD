# Maintainer: XZS <d.f.fischer at web dot de>

pkgname='gnome-shell-extension-hidetopbar-git'
pkgdesc="Gnome 3 extension to hide the top bar except in overview mode"
pkgver=81.6f7fd61
pkgrel=1
arch=(any)
url='https://github.com/mlutfy/hidetopbar'
license=(GPLv2)
depends=('gnome-shell>=3.6')
install=gschemas.install
source=('git+https://github.com/mlutfy/hidetopbar')
md5sums=('SKIP')

pkgver() {
  cd hidetopbar
  echo $(git rev-list --count HEAD).$(git rev-parse --short HEAD)
}

package() {
  cd hidetopbar
  destdir="$pkgdir/usr/share/gnome-shell/extensions/hidetopbar@mathieu.bidon.ca"
  schemadir="$pkgdir/usr/share/glib-2.0/schemas"
  install -d "$destdir" "$schemadir"
  rm README.md
  mv *.xml "$schemadir"
  mv * "$destdir"
}
