# Maintainer: Lucas De Marchi <lucas.de.marchi@gmail.com>
pkgname=codespell
pkgver=1.4.6.g354daf1
pkgrel=1
pkgdesc="Fix common misspellings in source code"
url="https://github.com/lucasdemarchi/codespell"
license=('GPL')
arch=(any)
depends=(python)
makedepends=('git')
source=('codespell::git://github.com/lucasdemarchi/codespell.git')
sha512sums=('SKIP' )

pkgver() {
  cd $srcdir/$pkgname
  git describe | sed 's/^v//;s/-/./g'
}

package() {
      cd "$srcdir/$pkgname"

      install -d $pkgdir/usr/share/codespell $pkgdir/usr/bin
      install -m644 -t $pkgdir/usr/share/codespell data/dictionary.txt data/linux-kernel.exclude
      install -m755 -T codespell.py $pkgdir/usr/bin/codespell
}
