# Contributor: Arnau Sanchez <tokland {at} gmail {dot} com>
pkgname="js-beautify"
pkgver="20110524"
pkgrel="1"
pkgdesc="Beautify Javascript code"
arch=(i686 x86_64)
url="https://github.com/einars/${pkgname}"
license='custom'
depends=('python')
makedepends=('git')

build() {
    # Get source code
    msg "Connecting to github.com GIT server...."
    if test -d $startdir/src/$pkgname; then
        msg "Updating existing local files"
        cd $pkgname && git pull origin || return 1
    else
        git clone ${url}.git || return 1
    fi

    # Install
    BINDIR=${pkgdir}/usr/bin
    mkdir -p $BINDIR
    install -m 755 ${srcdir}/${pkgname}/python/jsbeautifier.py $BINDIR/js-beautify || return 1
}
