# Contributor: Arnau Sanchez <tokland {at} gmail {dot} com>
pkgname="js-beautify"
_gitname="js-beautify"
pkgrel=1
pkgver=v1.4.0.5.g4a3263b
pkgdesc="Beautify Javascript code"
arch=("any")
url="https://github.com/einars/js-beautify"
license=('MIT')
depends=('python')
makedepends=('git')
source=('git+https://github.com/einars/js-beautify#commit=4a3263b63a')
md5sums=('SKIP')

pkgver() {
    cd $_gitname
    git describe --always | sed 's|-|.|g'
}

package() {    
    cd $_gitname/python
    python setup.py -q install --root="${pkgdir}" --optimize=1
    cd ../
    install -m 755 python/js-beautify $pkgdir/usr/bin/js-beautify || return 1
    install -m 755 -D LICENSE $pkgdir/usr/share/licenses/${pkgname}/LICENSE
}

