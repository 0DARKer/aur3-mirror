# Contributor: Kessia 'even' Pinheiro <kessiapinheiro at gmail.com>
pkgname=greenfoot
pkgver=151
pkgrel=1
pkgdesc="a combination between a framework for creating two-dimensional grid assignments in Java and an integrated development environment suitable for novice programmers."
arch=('i686')
url="http://www.greenfoot.org"
license=('custom')
depends=('jre')
makedepends=('jdk')
source=("http://www.greenfoot.org/download/files/${pkgname}-installer-${pkgver}.jar"
        'greenfoot.sh')
md5sums=('b407049ca227be8a29919fd250a0f984'
         'd53690b8eeb2adcbd2c97ac5ab58bc02')

build() {
  cd "${srcdir}"

  #unjar the files
  bsdtar -xf ${pkgname}-dist.jar

  install -m0644 -d ${pkgdir}/usr/share/${pkgname}/{lib,scenarios,tutorial}
  cp -R ${srcdir}/{lib,scenarios,tutorial} ${pkgdir}/usr/share/$pkgname/
  chmod 0755 ${pkgdir}/usr/share/${pkgname}/lib -R

  install -m0644 -d ${pkgdir}/usr/share/licenses/${pkgname}
  install -m0644 -D ${srcdir}/doc/NOTICE.txt ${pkgdir}/usr/share/licenses/${pkgname}/license.txt
  install -m0755 -D ${srcdir}/greenfoot.sh ${pkgdir}/usr/bin/greenfoot
}
