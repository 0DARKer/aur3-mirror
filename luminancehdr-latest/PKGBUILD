# Modified version of luminancehdr package for the latest release

pkgname=luminancehdr-latest
pkgver=2.2.1
pkgrel=1
pkgdesc='Open source graphical user interface application that aims to provide a workflow for HDR imaging'
arch=('i686' 'x86_64')
url='http://qtpfsgui.sourceforge.net/'
license=('GPL')
depends=('exiv2' 'fftw' 'gsl' 'libraw' 'openexr' 'qt' 'qtwebkit')
optdepends=('hugin: align image stack functionality')
conflicts=('luminancehdr')
install=$pkgname.install
options=('!emptydirs')
source=(http://ignum.dl.sourceforge.net/project/qtpfsgui/luminance/2.2.1/luminance-hdr-v${pkgver}.tar.gz)

sha256sums=('a8d781ca7a07737dfb1fe00702f948ecd044be6b8405a23d9e18fe46b27036f1')

build() {
  cd "${srcdir}"
  mkdir "build"
  cd "build"
  cmake \
       	"${srcdir}/luminance-hdr-v${pkgver}/"
  make
}

package() {
  cd "${srcdir}/build"

  make DESTDIR="${pkgdir}" install
}
