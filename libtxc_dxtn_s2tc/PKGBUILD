# Maintainer: Lauretn Carlier <lordheavym@gmail.com>

pkgname=libtxc_dxtn_s2tc
pkgver=0.0.20121217
pkgrel=1
arch=('i686' 'x86_64')
pkgdesc="A replacement for the texture compression library for Mesa"
url="https://github.com/divVerent/s2tc"
license=(MIT)
depends=(mesa)
options=(!libtool)
provides=('libtxc_dxtn')
conflicts=('libtxc_dxtn')
source=(dxtn_s2tc.zip::https://github.com/divVerent/s2tc/archive/master.zip
	0001-Add-missing-break-statement.patch)
md5sums=('1755cb051b49366ca7e25cc06caf1321'
         'f6de707edd63be705e9106c91fed898b')

build() {
  cd "$srcdir"/s2tc-master
  
  patch -Np1 -i ../0001-Add-missing-break-statement.patch

  sh autogen.sh
  ./configure --prefix=/usr
  make
}

package() {
  cd "$srcdir"/s2tc-master

  make DESTDIR="$pkgdir" install
}
