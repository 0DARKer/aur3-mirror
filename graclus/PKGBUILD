# Maintainer: Your Name Gunther Schulz < mail at guntherschulz.de >
pkgname=graclus
pkgver=1.2
pkgrel=1
pkgdesc="Graclus (latest: Version 1.2) is a fast graph clustering software that computes normalized cut and ratio association for a given undirected graph without any eigenvector computation."
arch=('x86_64')
url="http://www.cs.utexas.edu/users/dml/Software/graclus.html"
license=('GPL')
groups=()
depends=()
makedepends=( )
optdepends=()
provides=()
conflicts=()
replaces=()
backup=()
options=()
install=
changelog=
source=("${pkgname}${pkgver}.tar.gz" "${pkgname}.conf" "${pkgname}.install")
noextract=()
md5sums=('7e6a81037632f11d52e6800f7212ab2d'
         '73e54414b7811f0dbb9ac0afb4a9faa9'
         '16b0147130ed3bd445da45ec006d2016')

build() {
        cd "${srcdir}/${pkgname}${pkgver}"
        make COPTIONS=-DNUMBITS=64 
}

package() {
        install -Dm644 ${pkgname}.conf "$pkgdir"/etc/ld.so.conf.d/${pkgname}.conf
        cd "${srcdir}/${pkgname}${pkgver}"
        install -Dm755 -d "$pkgdir"/opt/${pkgname}/metisLib
        install -Dm755 -d "$pkgdir"/opt/${pkgname}/multilevelLib
        install -Dm755 -t "$pkgdir"/opt/${pkgname}/metisLib metisLib/*.o
        install -Dm755 -t "$pkgdir"/opt/${pkgname}/multilevelLib multilevelLib/*.o
        install -Dm755 ${pkgname} "$pkgdir"/opt/${pkgname}/bin/${pkgname}

}
