# Maintainer: Jaroslav Janukevic (janukevic <at> gmail <dot> com)
# Contributor: Mihai Soloi (mihai.soloi <at> gmail <dot> com)
pkgname="rescuetime-beta"
pkgver=2.8.5.890
pkgrel=1
pkgdesc="RescueTime time-tracking for Linux. Beta version"
url="https://www.rescuetime.com"
install=rescuetime-beta.install
changelog=rescuetime-beta.changelog
arch=('i686' 'x86_64')
license=('GPL2')
depends=('qt4' 'xprintidle' 'xorg-xprop')
conflicts=('rescuetime')

if [ $CARCH = "x86_64" ]
then
  _suffix="amd64"
  sha1sums=('5ab21ff2f088bd3d7e30337222b8463e3db72d57')
else
  _suffix="i386"
  sha1sums=('18488ce1058dbecdfcb63522e3a93a25802af5fc')
fi

_debname="rescuetime_beta_$_suffix.deb"
source=("$url/installers/$_debname")

noextract=(${source[@]##*/})

package() {
  cd "$srcdir" && \
  ar x "$_debname" && \
  tar -zxf data.tar.gz && \
  mkdir -p ${pkgdir}/usr/bin && \
  cp usr/bin/rescuetime ${pkgdir}/usr/bin || return 1
}
