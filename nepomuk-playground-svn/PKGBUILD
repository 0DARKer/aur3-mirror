# Contributor: mutlu_inek <mutlu_inek@yahoo.de>

pkgname=nepomuk-playground-svn
pkgver=1032047
pkgrel=2
pkgdesc="All the Nepomuk stuff from playrgound"
url="http://www.kde.org"
license=(GPL)
arch=('i686')
#depends=('kdelibs' 'olena' 'tesseract-nepomuk')
depends=('kdelibs')
makedepends=()
conflicts=()
provides=()
source=()
md5sums=()

_svntrunk="svn://anonsvn.kde.org/home/kde/trunk/playground/base/nepomuk-kde"
_svnmod="nepomuk-kde"

build() {
   cd ${srcdir}

   msg "Connecting to SVN server...."

   if [ -d ${_svnmod}/.svn ]; then
     (cd ${_svnmod} && svn up -r $pkgver)
   else
     svn co ${_svntrunk} --config-dir ./ -r $pkgver ${_svnmod}
   fi

   msg "SVN checkout done or server timeout"
   msg "Starting make..."

   svn export ${_svnmod} ${_svnmod}-build
   cd ${_svnmod}-build

   cmake -DCMAKE_INSTALL_PREFIX=/usr
   make || return 1
   make DESTDIR=$pkgdir install || return 1

   rm -rf ${srcdir}/${_svnmod}-build
}
