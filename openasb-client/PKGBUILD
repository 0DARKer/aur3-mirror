# Maintainer:  jfperini <@jfperini>
# Contributor: jfperini <@jfperini>

pkgname=openasb-client
_realname=openasb-client
pkgdesc="Software to manage LAN-House and Cyber ​​Café (Client)."
pkgver=0.7.95
pkgrel=2
arch=('any')
url="http://www.openasb.com"
changelog=ChangeLog
license=('GPL')
depends=('gambas3-gb-image>=3.5' 'gambas3-gb-image<=3.99.0' 'gambas3-gb-qt4>=3.5' 'gambas3-gb-qt4<=3.99.0' 'gambas3-gb-form>=3.5' 'gambas3-gb-form<=3.99.0' 'gambas3-gb-crypt>=3.5' 'gambas3-gb-crypt<=3.99.0' 'gambas3-gb-desktop>=3.5' 'gambas3-gb-desktop<=3.99.0' 'gambas3-gb-form-dialog>=3.5' 'gambas3-gb-form-dialog<=3.99.0' 'gambas3-gb-settings>=3.5' 'gambas3-gb-settings<=3.99.0' 'gambas3-gb-form-mdi>=3.5' 'gambas3-gb-form-mdi<=3.99.0' 'gambas3-gb-net>=3.5' 'gambas3-gb-net<=3.99.0' 'gambas3-gb-qt4-ext>=3.5' 'gambas3-gb-qt4-ext<=3.99.0' 'gambas3-gb-qt4-webkit>=3.5' 'gambas3-gb-qt4-webkit<=3.99.0' 'gambas3-gb-sdl-sound>=3.5' 'gambas3-gb-sdl-sound<=3.99.0' 'gambas3-gb-web>=3.5' 'gambas3-gb-web<=3.99.0' 'rsync' 'vino' 'lm_sensors')
makedepend=('gambas3-devel')
source=(https://dl.dropboxusercontent.com/u/148494036/GNU-Linux/OpenASB/${_realname}-$pkgver.tar.bz2 license.txt\
        'openasb-client.desktop' 'openasb-client.png')
md5sums=('c642e9ed53d042d171e7fe7b436abd74'
         '35403466a659acad9657584fb79a6020'
         '9581aba0bb43b75c70d510c80079d325'
         'e969f5d6ea75b6e10a5c7b2f879e65bd')

build() {
  cd ${srcdir}/${_realname}

  /usr/bin/gbc3 -e -a -g -t -x  && gba3
}

package() {
  cd ${srcdir}/${_realname}

  install -d ${pkgdir}/usr/bin
  install -m755 openasb-client.gambas ${pkgdir}/usr/bin/openasb-client
  install -D ../openasb-client.png \
    ${pkgdir}/usr/share/pixmaps/openasb-client.png
  install -D ../openasb-client.desktop \
    ${pkgdir}/usr/share/applications/openasb-client.desktop
  install -Dm644 ${srcdir}/license.txt ${pkgdir}/usr/share/licenses/openasb-client/license.txt
}
