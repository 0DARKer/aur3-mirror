# Maintainer: James Bulmer <nekinie@gmail.com>

pkgname='keystone-deb'
pkgver=2013.2.1
pkgrel=1
pkgdesc='Openstack identity service'
arch=('i686' 'x86_64')
url='http://packages.ubuntu.com/saucy-updates/all/keystone'
license=('Apache')
groups=('openstack-deb')

depends=(
  'python2'
  'python2-pbr'
  'python2-pam'
  'python2-webob'
  'python2-eventlet'
  'python2-greenlet'
  'python2-netaddr'
  'python2-paste-deploy'
  'python2-paste'
  'python2-routes'
  'python2-six'
  'python2-sqlalchemy'
  'python2-migrate'
  'python2-passlib'
  'python2-lxml'
  'python2-iso8601'
  'python2-keystoneclient-deb'
  'python2-oslo-config'
  'python2-oslo-messaging-deb'
  'python2-babel'
  'python2-oauthlib'
  'python2-dogpile-cache'
  'python2-jsonschema'
  'python2-pycadf-deb'
)

conflicts=('keystone', 'openstack-keystone-git')
source=('http://archive.ubuntu.com/ubuntu/pool/main/k/keystone/keystone_2013.2.1-0ubuntu1_all.deb')
md5sums=('2f183210c338b7f9a3d685a1d131ba5f')

package() {
  cd ${srcdir}
  tar -zxf ${startdir}/src/data.tar.gz
  mkdir ${pkgdir}/etc/
  cp -r ${srcdir}/etc/keystone/ ${pkgdir}/etc/
  cp -r ${srcdir}/usr/ ${pkgdir}
  cp -r ${srcdir}/var/ ${pkgdir}
}