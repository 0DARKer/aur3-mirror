# Contributor: Gary James <garyjames82@gmail.com>
pkgname=hoh
pkgver=1.01
pkgrel=4
pkgdesc="Remake of 80's 8-bit classic Head over Heels"
arch=('any')
url="http://retrospec.sgn.net/game/hoh"
license=('unknown')
install=hoh.install
source=(http://www.foxjames.co.uk/linux/aur/$pkgname-$pkgver.tar.bz2)
md5sums=('c75831a1c2f039d7d610415f543d3b99')

build() {

cd "$srcdir/$pkgname-$pkgver"
mkdir -p $pkgdir/usr/bin
rm -f $pkgdir/usr/bin/hoh >& /dev/null
echo "#!/bin/bash" > $pkgdir/usr/bin/hoh
echo "export LD_LIBRARY_PATH=/usr/share/hoh/runtime" >> $pkgdir/usr/bin/hoh
echo "cd /usr/share/hoh" >> $pkgdir/usr/bin/hoh
echo "exec ./HoH \$@" >> $pkgdir/usr/bin/hoh
chmod +x $pkgdir/usr/bin/hoh &> /dev/null
mkdir -p $pkgdir/usr/share/hoh
cp -af ./data/* $pkgdir/usr/share/hoh

mkdir -p $pkgdir/usr/share/applications
mkdir -p $pkgdir/usr/share/pixmaps
cp -af ./docs/gfx/icon-1.gif $pkgdir/usr/share/pixmaps/hoh.gif
echo "[Desktop Entry]" > $pkgdir/usr/share/applications/hoh.desktop
echo "Version=1.01" >> $pkgdir/usr/share/applications/hoh.desktop
echo "Encoding=UTF-8" >> $pkgdir/usr/share/applications/hoh.desktop
echo "Name=Head over Heels" >> $pkgdir/usr/share/applications/hoh.desktop
echo "Comment=Retro 80's classic" >> $pkgdir/usr/share/applications/hoh.desktop
echo "Exec=/usr/bin/hoh" >> $pkgdir/usr/share/applications/hoh.desktop
echo "Icon=/usr/share/pixmaps/hoh.gif" >> $pkgdir/usr/share/applications/hoh.desktop
echo "StartupNotify=true" >> $pkgdir/usr/share/applications/hoh.desktop
echo "Terminal=false" >> $pkgdir/usr/share/applications/hoh.desktop
echo "Type=Application" >> $pkgdir/usr/share/applications/hoh.desktop
echo "Categories=GNOME;GTK;Game;" >> $pkgdir/usr/share/applications/hoh.desktop
}

# vim:set ts=2 sw=2 et:
