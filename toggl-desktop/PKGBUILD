# Contributor: Hugo Ideler <hugoideler AT dse DOT nl>
# Modifications: Pavel Benak <pavel.benak AT gmail DOT com>
# category: office

pkgname=toggl-desktop
pkgver=3.26.0
pkgrel=1
pkgdesc="Time tracker application"
arch=('i686' 'x86_64')
url="http://www.toggl.com/"
license=("Closed source")
groups=()
depends=('qt>=4.6.0')
provides=()
conflicts=('toggl')
replaces=('toggl')
backup=()
options=()
if [ "$CARCH" == 'x86_64' ]
then
  source=(https://download.toggl.com/toggldesktop/latest/toggl-desktop_current_amd64.deb TogglDesktop.desktop)
  md5sums=(1c00aaa8cce786745fd74a4c7a984fcc 93080f4318809706439c7f9efc44f43a)
else
  source=(https://download.toggl.com/toggldesktop/latest/toggl-desktop_current_i386.deb TogglDesktop.desktop)
  md5sums=(f6d95ca7f9c6762ee4ef3075e8541278 93080f4318809706439c7f9efc44f43a)
fi
noextract=()
#generated with 'makepkg -g'

build() {
  cd "$srcdir/"

  #extract archive
  if [ "$CARCH" == 'x86_64' ]
  then
   ar p toggl-desktop_current_amd64.deb data.tar.gz | tar xz
  else
   ar p toggl-desktop_current_i386.deb data.tar.gz | tar xz
  fi

  # Manual install
  mkdir -p $pkgdir/usr
  cp -a usr/* $pkgdir/usr
  cp TogglDesktop.desktop $pkgdir/usr/share/applications/
  
  mkdir -p $pkgdir/opt
  cp -a opt/* $pkgdir/opt
}

# vim:set ts=2 sw=2 et:
