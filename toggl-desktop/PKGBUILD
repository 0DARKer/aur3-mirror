# Contributor: Hugo Ideler <hugoideler AT dse DOT nl>
# Modifications: Pavel Benak <pavel.benak AT gmail DOT com>
# category: office

pkgname=toggl-desktop
pkgver=2.5.2
pkgrel=1
pkgdesc="Time tracker application"
arch=('i686' 'x86_64')
url="http://www.toggl.com/"
license=()
groups=()
depends=('qt>=4.6.0')
makedepends=('deb2targz')
provides=()
conflicts=('toggl')
replaces=('toggl')
backup=()
options=()
if [ "$CARCH" == 'x86_64' ]
then
  source=(https://launchpad.net/~official-toggl/+archive/ppa/+files/${pkgname}_${pkgver}-0~ppa1_amd64.deb)
  md5sums=(242372f61673eb9f270741f20c3f3258)
else
  source=(https://launchpad.net/~official-toggl/+archive/ppa/+files/${pkgname}_${pkgver}-0~ppa1_i386.deb)
  md5sums=(651872495f27f4503b6552673b0fa4a9)
fi
noextract=()
#generated with 'makepkg -g'

build() {
  cd "$srcdir/"

  #extract archive
  if [ "$CARCH" == 'x86_64' ]
  then
   deb2targz ${pkgname}_${pkgver}-0~ppa1_amd64.deb || return 1
   tar xvzf ${pkgname}_${pkgver}-0~ppa1_amd64.tar.gz || return 1
  else
   deb2targz ${pkgname}_${pkgver}-0~ppa1_i386.deb || return 1
   tar xvzf ${pkgname}_${pkgver}-0~ppa1_i386.tar.gz || return 1
  fi

  # Manual install
  mkdir -p $pkgdir/usr
  cp -a usr/* $pkgdir/usr
}

# vim:set ts=2 sw=2 et:
