# Maintainer: jpate <j.k.pate@sms.ed.ac.uk>
pkgname=sbt
pkgver=0.10.1
maintainer="jpate"
pkgrel=2
pkgdesc="Simple-build-tool: A build tool for Scala"
arch=('any')
url="https://github.com/harrah/xsbt/"
license=('New BSD License')
depends=( 'java-runtime' )
source=( "http://typesafe.artifactoryonline.com/typesafe/ivy-releases/org.scala-tools.sbt/sbt-launch/${pkgver}/sbt-launch.jar" )
noextract=('sbt-launch.jar')
md5sums=('9408d6092d6e12139d111f39e2e7b61e')

build() {
  cd $startdir/

  mkdir -p $pkgdir/usr/bin/
  mkdir -p $pkgdir/usr/share/sbt/
  cp $srcdir/sbt-launch.jar $pkgdir/usr/share/sbt/

  echo "#!/bin/sh" > $pkgdir/usr/bin/sbt
  echo "java -XX:MaxPermSize=256m -Xmx512m -jar /usr/share/sbt/sbt-launch.jar  \"\$@\"" >> $pkgdir/usr/bin/sbt

  chmod a+x $pkgdir/usr/bin/sbt
}

