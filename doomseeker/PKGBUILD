# Contributor: MP2E <MP2E {AT] archlinux.us>

pkgname=doomseeker
pkgver=0.5b_r394
pkgrel=1
pkgdesc="DoomSeeker is a server browser for the DooM ports Skulltag and Odamex, it is much faster than IDE and cross compatible via QT4"
arch=('i686' 'x86_64')
url="http://skulltag.net/doomseeker"
conflicts=('doomseeker-svn')
depends=('qt' 'zlib')
makedepends=('cmake' 'make' 'gcc' 'svn')
license=('GPL')
build() {
svn -r 394 co http://skulltag.net/doomseeker/svn/trunk/ doomseeker
cd doomseeker
cmake .
make || return 1
install -d $startdir/pkg/opt/doomseeker
install -d $startdir/pkg/usr/bin/
cp $startdir/src/doomseeker/doomseeker $startdir/pkg/opt/doomseeker
cp $startdir/src/doomseeker/libwadseeker.so $startdir/pkg/opt/doomseeker/
cp -r $startdir/src/doomseeker/media $startdir/pkg/opt/doomseeker/
cp -r $startdir/src/doomseeker/engines $startdir/pkg/opt/doomseeker/
echo cd /opt/doomseeker >> $startdir/doomseeker
echo ./doomseeker >> $startdir/doomseeker
chmod +x $startdir/doomseeker
install -D $startdir/doomseeker $startdir/pkg/usr/bin/doomseeker

chmod -R 777 $startdir/pkg/opt/doomseeker
chmod 777 $startdir/pkg/usr/bin/doomseeker
}
