# Contributor: Benjamin Hedrich <kiwisauce <at> pagenotfound.de>

pkgname=eclipse-pydev
pkgver=1.6.5
_pkgbuild=2011020317
pkgrel=1
pkgdesc="Python IDE for Eclipse"
url="http://pydev.org/"
arch=('any')
license=('EPL')
depends=('eclipse' 'python2')
makedepends=('unzip')
source=("http://downloads.sourceforge.net/project/pydev/pydev/Pydev ${pkgver}/Pydev $pkgver.zip")
noextract=("Pydev $pkgver.zip")
sha256sums=('d94c7741e046cdf81ec7310217abebb89e269e6d70239e3c85c826e5101d70e3')


build() {
  _dest=${pkgdir}/usr/share/eclipse/dropins/${pkgname/eclipse-}/eclipse
  mkdir -p ${_dest} || return 1
  unzip "Pydev $pkgver.zip" -d ${_dest} || return 1
  
  # only for aptana, no necesary for eclipse
  rm -R ${_dest}/features/org.python.pydev.django_templates.feature_${pkgver}.${_pkgbuild} || return 1
  rm -R ${_dest}/plugins/org.python.pydev.django_templates_${pkgver}.${_pkgbuild} || return 1
  
  chmod -R a+rX ${_dest}/features/* || return 1
  chmod -R a+rX ${_dest}/plugins/* || return 1
}

