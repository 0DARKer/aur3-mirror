diff -uNr s2-liplianin/linux/drivers/media/video/cafe_ccic.c s2-liplianin.new/linux/drivers/media/video/cafe_ccic.c
--- s2-liplianin/linux/drivers/media/video/cafe_ccic.c	2011-01-26 21:09:39.936666669 +0100
+++ s2-liplianin.new/linux/drivers/media/video/cafe_ccic.c	2011-04-13 20:28:59.706594526 +0200
@@ -2077,9 +2077,13 @@
 	struct cafe_camera *cam = to_cam(v4l2_dev);
 	int ret = 0;
 
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(2, 6, 38)
+	pci_restore_state(pdev);
+#else
 	ret = pci_restore_state(pdev);
 	if (ret)
 		return ret;
+#endif
 	ret = pci_enable_device(pdev);
 
 	if (ret) {
diff -uNr s2-liplianin/linux/drivers/media/video/tlg2300/pd-main.c s2-liplianin.new/linux/drivers/media/video/tlg2300/pd-main.c
--- s2-liplianin/linux/drivers/media/video/tlg2300/pd-main.c	2011-01-26 21:09:40.320000002 +0100
+++ s2-liplianin.new/linux/drivers/media/video/tlg2300/pd-main.c	2011-04-13 20:29:21.049926946 +0200
@@ -456,7 +456,12 @@
 #if LINUX_VERSION_CODE < KERNEL_VERSION(2, 6, 34)
 	pd->udev->autosuspend_disabled = 0;
 #endif
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(2, 6, 38)
+	pm_runtime_set_autosuspend_delay(&pd->udev->dev,
+		1000 * PM_SUSPEND_DELAY);
+#else
 	pd->udev->autosuspend_delay = HZ * PM_SUSPEND_DELAY;
+#endif
 #if LINUX_VERSION_CODE >= KERNEL_VERSION(2, 6, 35)
 	usb_enable_autosuspend(pd->udev);
 
