# AUR packages should not be built from binaries. This is a workaround.
# If you manage to build this lib32 package from source, let the maintainer know
# and you will be helping the AUR community.

_pkgbasename=gobject-introspection
pkgname=lib32-$_pkgbasename-bin
pkgver=0.9.12
pkgrel32=1
pkgrel=1
pkgdesc="Introspection system for GObject-based libraries (32 bit, Binary)"
arch=('x86_64')
url="http://live.gnome.org/GObjectInstrospection"
license=('LGPL' 'GPL')
depends=('lib32-glib2' 'lib32-libffi' "${_pkgbasename}=${pkgver}-${pkgrel32}")
conflicts=("lib32-$_pkgbasename")
replaces=("lib32-$_pkgbasename")
source=("ftp://ftp.archlinux.org/extra/os/i686/${_pkgbasename}-${pkgver}-${pkgrel32}-i686.pkg.tar.xz")
md5sums=('be85d0a2d22a3b4355ce4003893eedc3')

package() {
  mkdir -p "$pkgdir"/usr/lib32
  cp -R "$srcdir"/usr/lib/* "$pkgdir"/usr/lib32
  sed -i -e 's#libdir=${exec_prefix}/lib#libdir=${exec_prefix}/lib32#' "$pkgdir"/usr/lib32/pkgconfig/*.pc
}
