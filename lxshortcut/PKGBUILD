# Contributor: zoulnix <http://goo.gl/HQaP>
pkgname=lxshortcut
pkgver=0.1.1
pkgrel=2
pkgdesc="Small program used to edit application shortcuts (part of LXDE)."
arch=('i686' 'x86_64')
url="http://lxde.org/"
license=('GPL')
depends=('gtk2')
makedepends=('autoconf' 'automake' 'gcc' 'intltool' 'make' 'patch' 'pkg-config')
options=('!libtool')
groups=('lxde')
source=(http://downloads.sourceforge.net/lxde/${pkgname}-${pkgver}.tar.gz \
	${pkgname}-loopfix.patch)
md5sums=('68419579deaecf696111bef97d3985bc' '3cc349b866b930fd29333bdf05070587')

build() {
  cd ${srcdir}/${pkgname}-${pkgver}

  # apply patch...
  patch -Np1 -i ../${pkgname}-loopfix.patch || return 1

  # Generating build system
  sh autogen.sh || return 1

  ./configure --prefix=/usr \
	      --sysconfdir=/etc \
	      --localstatedir=/var \
	      --disable-static

  make || return 1
}

package() {
  cd ${srcdir}/${pkgname}-${pkgver}

  make DESTDIR=${pkgdir} install || return 1
}
