# Maintainer: PitBall

_pkgname=libnotify
pkgname=lib32-${_pkgname}-gtk2
pkgver=0.5.2
pkgrel=1
pkgdesc="Desktop notification library 32bit"
arch=('i686' 'x86_64')
url="http://library.gnome.org/devel/notification-spec/"
license=('LGPL')
depends=('libnotify-gtk2' )
conflicts=('lib32-libnotify' 'lib32-libnotify-git' 'lib32-libnotify-id' 'lib32-libnotify-id-git')
provides=("lib32-libnotify=$pkgver")
replaces=('lib32-libnotify')
source=("http://ftp.gnome.org/pub/GNOME/sources/${_pkgname}/0.5/${_pkgname}-${pkgver}.tar.bz2")
sha256sums=('1f6f1a2d6a0e009997c7ed31f6197f9bf09e9b45fb9cd54acabceea951d99062')

build() {
export CC="gcc -m32"
export CXX="gcc -m32"
export PKG_CONFIG_PATH="/usr/lib32/pkgconfig"

	cd ${_pkgname}-${pkgver}
	./configure --prefix=/usr --disable-static \
	--libdir=/usr/lib32
	make
}

package() {
	cd ${_pkgname}-${pkgver}
	make DESTDIR="${pkgdir}" install
	ln -s libnotify.so.1 ${pkgdir}/usr/lib32/libnotify.so.4
	rm -r ${pkgdir}/usr/{bin,include,share}
}
