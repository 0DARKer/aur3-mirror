# Maintainer: Bart≈Çomiej Piotrowski <spam@bpiotrowski.pl>

pkgname=ocaml-lablgl
pkgver=1.04
pkgrel=4
pkgdesc='OCaml interface to OpenGL'
arch=('i686' 'x86_64')
license=('BSD')
url='http://wwwfun.kurims.kyoto-u.ac.jp/soft/olabl/lablgl.html'
depends=('glu' 'glut' 'libxi' 'libxmu' 'libgl' 'ocaml' 'tcl' 'tk')
options=('!strip' '!makeflags')
source=(http://wwwfun.kurims.kyoto-u.ac.jp/soft/olabl/dist/lablgl-$pkgver.tar.gz)
md5sums=('dcf05a0cffffdf06cbe0fe55f9eff974')

build() {
  cd lablGL-$pkgver
  sed 17d Makefile.config.linux.mdk > Makefile.config
  make -j1 lib
}

package() {
  cd lablGL-$pkgver
  make install BINDIR="$pkgdir"/usr/bin \
               LIBDIR="$pkgdir"/usr/lib/ocaml \
               DDLDIR="$pkgdir"/usr/lib/ocaml/stublibs \
               INSTALLDIR="$pkgdir"/usr/lib/ocaml/lablGL
  install -D COPYRIGHT "$pkgdir"/usr/share/licenses/$pkgname/LICENSE
}
