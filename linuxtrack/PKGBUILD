# Maintainer: blackleg <hectorespertpardo@gmail.com>
# Based in linuxtrack-svn
# Creator: Cristóvão Duarte Sousa <crisjss@gmail.com>

pkgname=linuxtrack
pkgver=0.0
pkgrel=7
pkgdesc="Software for head motion tracking on linux."
arch=('i686' 'x86_64')
url="http://code.google.com/p/linux-track/"
license=('MIT License')
depends=('libusb' 'v4l-utils' 'zlib' 'qt' 'qtwebkit')
optdepends=('wiiuse: for Wiimote (needed at make time)' "trackir-udev: for Track Ir Support")
provides=("linuxtrack")

#install=linuxtrack.install

if [ "$CARCH" = "i686" ]; then
    makedepends=('subversion' 'gcc-objc' 'xplane-sdk-devel' "libqxt")
elif [ "$CARCH" = "x86_64" ]; then
    makedepends=('subversion' 'gcc-objc-multilib' 'xplane-sdk-devel' "libqxt")
fi

build() {
  
  svn checkout --revision r630 http://linux-track.googlecode.com/svn/trunk
  cd "$srcdir/trunk"
  ./configure --prefix=/usr
  make
}

package() {
	cd "$srcdir/trunk"
	make DESTDIR="$pkgdir/" install
}
