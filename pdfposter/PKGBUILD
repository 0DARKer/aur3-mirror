# Maintainer: Robert Knauer <robert@privatdemail.net>
# Contributor: Elena ``of Valhalla'' Grandi <elena.valhalla@gmail.com>
# since v0.6.0dev: https://build.opensuse.org/package/files?package=pdfposter&project=devel%3Alanguages%3Apython
pkgname=pdfposter
pkgver=0.6.0dev
pkgrel=1
pkgdesc="Print large posters on multiple sheets."
arch=('any')
url="http://pypi.python.org/pypi/pdftools.pdfposter"
license=('GPL3')
depends=('python-pypdf')
makedepends=('python2-distribute')
options=(!emptydirs)
source=(
  "https://api.opensuse.org/public/source/devel:languages:python/pdfposter/pdftools.pdfposter-0.6.0dev.tar.bz2?rev=1a02fd580a064630ad9db68e3eb25903"
  'xy_offset.patch'
  'overlap_option.patch'
  'notrim_option.patch'
)
md5sums=(
  '40e71dd50978fa094b171c669166bfcf'
  '872c746b3030e69e11acf6b851a431dc'
  '5206f04b901ea5fd66f6dd775694731d'
  '81c5d55247f07cf6dab60790c79b89e3'
)

build() {
  cd "${srcdir}/pdftools.pdfposter-${pkgver}"
  msg "Patching files with notrim_option.patch ..."
  patch -p1 < "${srcdir}/notrim_option.patch"
  msg "Patching files with overlap_option.patch ..."
  patch -p1 < "${srcdir}/overlap_option.patch"
  msg "Patching files with xy_offset.patch ..."
  patch -p0 < "${srcdir}/xy_offset.patch"
}

package() {
  cd "${srcdir}/pdftools.pdfposter-${pkgver}"
  python2 setup.py install --root=${pkgdir}/ --optimize=1
}

# vim:set ts=2 sw=2 et:
