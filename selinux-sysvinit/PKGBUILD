# Maintainer: Nicky726 (Nicky726 <at> gmail <dot> com)
# Contributor: Sergej Pupykin (pupykin <dot> s+arch <at> gmail <dot> com)
# Contributor: Eric Belanger (eric <at> archlinux <dot> org)

pkgname=selinux-sysvinit
_origname=sysvinit
pkgver=2.88
pkgrel=2
pkgdesc="SELinux aware Linux System V Init"
arch=('i686' 'x86_64')
url="http://savannah.nongnu.org/projects/sysvinit"
license=('GPL')
groups=('selinux' 'selinux-system-utilities')
depends=('selinux-shadow' 'selinux-util-linux-ng' 'selinux-coreutils' 'glibc' 'awk')
conflicts=('sysvinit')
provides=('sysvinit=2.88')
install=${_origname}.install
source=(http://download.savannah.gnu.org/releases/${_origname}/${_origname}-${pkgver}dsf.tar.bz2
	${_origname}-${pkgver}-selinux.patch)
md5sums=('6eda8a97b86e0a6f59dabbf25202aa6f'
	 'e9838331d4d4f2722fd3a2f26e0bfbc6')

build() {
  cd "${srcdir}/${_origname}-${pkgver}dsf"
  patch -Np1 -i "${srcdir}/${_origname}-2.88-selinux.patch"
  make WITH_SELINUX=yes
}

package(){
  cd "${srcdir}/${_origname}-${pkgver}dsf"
  make ROOT="${pkgdir}" install
}
