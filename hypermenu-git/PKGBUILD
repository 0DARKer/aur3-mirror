# Maintainer: James Polanco <jpolcol@gmail.com>
pkgname=hypermenu-git
pkgver=r7.a622d31
pkgrel=1
pkgdesc="a dmenu-based TODO list manager, note manager, calculator, and more"
arch=(any)
url="https://bitbucket.org/jpolcol/hypermenu"
license=('GPL3')
makedepends=('git')
depends=('bash' 'gawk' 'dmenu' 'dzen2')
optdepends=('calc: calculator support'
    'gtk-theme-switch2: gtk2 theme switching support'
    'archlinux-xdg-menu: XDG menu support')
source=("$pkgname::git+https://jpolcol@bitbucket.org/jpolcol/${pkgname%-git}.git")
md5sums=('SKIP')

pkgver() {
    cd "${srcdir}/${pkgname}"
    printf "r%s.%s" "$(git rev-list --count HEAD)" "$(git rev-parse --short HEAD)"
}

package() {
    cd "${srcdir}/${pkgname}"
    make destdir="$pkgdir" prefix=/usr install
}
