--- wine-1.3.24/dlls/kernel32/volume.c.orig	2011-07-08 11:37:06.000000000 -0700
+++ wine-1.3.24/dlls/kernel32/volume.c	2011-08-08 10:25:42.498781825 -0700
@@ -621,10 +621,11 @@ BOOL WINAPI GetVolumeInformationW( LPCWS
         CloseHandle( handle );
         TRACE( "%s: found fs type %d\n", debugstr_w(nt_name.Buffer), type );
         if (type == FS_ERROR) goto done;
-
-        if (label && label_len) VOLUME_GetSuperblockLabel( &nt_name, type, superblock, label, label_len );
-        if (serial) *serial = VOLUME_GetSuperblockSerial( &nt_name, type, superblock );
-        goto fill_fs_info;
+        else if (type != FS_UNKNOWN) {
+            if (label && label_len) VOLUME_GetSuperblockLabel( &nt_name, type, superblock, label, label_len );
+            if (serial) *serial = VOLUME_GetSuperblockSerial( &nt_name, type, superblock );
+            goto fill_fs_info;
+        }
     }
     else TRACE( "cannot open device %s: %x\n", debugstr_w(nt_name.Buffer), status );
 
