# Maintainer: archtux <antonio dot arias99999 at gmail dot com>

pkgname=xix-music-player
pkgver=0.30nt
pkgrel=1
pkgdesc="Multi-platform music player."
arch=('i686' 'x86_64')
url="http://xixmusicplayer.org/"
license=('CCPL:cc-by-nc-nd-3.0')

if [ "${CARCH}" = 'x86_64' ]; then
depends=('lib32-gtk2' 'lib32-libpulse')
elif  [ "${CARCH}" = 'i686' ]; then
depends=('gtk2' 'libpulse')
fi

optdepends=('fbcmd: Facebook integration in XiX Music Player'
            'lame: encode CD-Tracks to MP3'
            'flac: encode CD-Tracks to FLAC'
            'mplayer: to rip DVD-Tracks')
source=(http://www.zittergie.be/download/XiXMusicPlayer-test5.zip
        $pkgname
        XiX-Music-Player.desktop
        XiX-Music-Player.ico)
md5sums=('2b3637f30b9039e656bf7fb0c5470e56'
         '2f1dfcc9992f3fcec6d9a4ee0b87b5e8'
         'e6855b7d4b2efaecadef8038ca3b4831'
         '6e4ec1161919499307b244c5e7dee693')
        
package() {
  cd $srcdir/XiXMusicPlayer

    # Install libbass libraries from XiX Music Player
  if [ "${CARCH}" = 'x86_64' ]; then
  install -d $pkgdir/usr/lib32
  cp lib/* $pkgdir/usr/lib32 
elif  [ "${CARCH}" = 'i686' ]; then
  install -d $pkgdir/usr/lib
  cp lib/* $pkgdir/usr/lib 
fi

  # Program files
  install -dm755 $pkgdir/usr/share/XiX-Music-Player/{Archive,Local,Radio}
  cp Archive/* $pkgdir/usr/share/XiX-Music-Player/Archive
  cp Local/* $pkgdir/usr/share/XiX-Music-Player/Local
  cp Radio/* $pkgdir/usr/share/XiX-Music-Player/Radio
  
  # Binary
  install -Dm755 XiXMusicPlayer $pkgdir/usr/share/XiX-Music-Player/XiXMusicPlayer

  # Start file
  cd ..
  install -Dm755 $pkgname $pkgdir/usr/bin/$pkgname
  
  # Desktop icon
  install -Dm644 XiX-Music-Player.desktop $pkgdir/usr/share/applications/XiX-Music-Player.desktop
  install -Dm644 XiX-Music-Player.ico $pkgdir/usr/share/pixmaps/XiX-Music-Player.ico
}