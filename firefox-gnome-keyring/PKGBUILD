# Maintainer: lepokle <devel@leo.von-klenze.de>
pkgname='firefox-gnome-keyring'
pkgver=22.0
pkgrel=1
pkgdesc="Gnome-keyring integration for Firefox"
arch=('i686' 'x86_64')
url='http://github.com/lepokle/firefox-gnome-keyring'
license=('GPL')
depends=('firefox>=22.0' 'gnome-keyring')
makedepends=('zip' 'unzip' 'xulrunner>=22.0' 'libgnome-keyring')
provides=('firefox-gnome-keyring')
source=("${pkgname}-v${pkgver}-$pkgrel.tar.gz::$url/tarball/v$pkgver-$pkgrel")

md5sums=('add0f34146a419dbaa55b0c7ac3ed138')


_subdir="lepokle-firefox-gnome-keyring-002fe3c"

build()
{
	cd ${srcdir}/${_subdir}
	msg "Building extension..."
	make
}

package()
{
	cd ${srcdir}

	mkdir -p ${pkgdir}/usr/lib/firefox/browser/extensions
	unzip ${srcdir}/${_subdir}/mozilla-gnome-keyring-*.xpi -d ${pkgdir}/usr/lib/firefox/browser/extensions/{6f9d85e0-794d-11dd-ad8b-0800200c9a66}
}

