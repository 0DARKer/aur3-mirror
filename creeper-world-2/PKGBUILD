# Maintainer:  Jesse Jaara      <jesse.jaara@gmail.com>

pkgname=creeper-world-2
pkgver=0212
pkgrel=1
pkgdesc="The creeps are coming! You'll need to get off this planet, but you'll have to fight your way out."
arch=('i686' 'x86_64')
url="http://knucklecracker.com/creeperworld2/cw2.php"
license=('custom')
depends=('adobe-air-sdk')
makedepends=('unzip')
source=(CreeperWorld2-$pkgver.exe creeper.desktop)


package() {
  cd "${srcdir}"

  mkdir -p "${pkgdir}/usr/share/applications"
  mkdir -p "${pkgdir}/usr/bin"

  unzip CreeperWorld2-${pkgver}.air -d cw2
  cp -r cw2 "${pkgdir}/usr/share/"

  cp -p creeper.desktop "${pkgdir}/usr/share/applications/"
  cat <<EOF >> "${pkgdir}/usr/bin/cw2"
#!/bin/sh
/opt/adobe-air-sdk/bin/adl -nodebug /usr/share/cw2/META-INF/AIR/application.xml /usr/share/cw2 &
EOF

  chmod +x "${pkgdir}/usr/bin/cw2"
}

md5sums=('4387a4ec87137628e5c037a8f7a42099'
         '331d38e2c450b3e213727c659c4e88e5')
