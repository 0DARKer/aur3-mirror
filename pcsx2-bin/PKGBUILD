#PCSX2-bin maintainer: Matthew Bauer <mjbauer95 at gmail dot com>
#Contributor: kronuz <kro dot onuz at gmail dot com>
#Contributer: josephgbr

_pkgname=pcsx2
pkgname=$_pkgname-bin
pkgver=0.9.7
svn_co=3881
pkgrel=4
pkgdesc="A PlayStation 2 emulator (binary files)."
arch=('i686' 'x86_64')
url="http://www.pcsx2.net"
license=('GPL')

if [ $CARCH == "x86_64" ]; then
	depends=('lib32-bzip2' 'lib32-gtk2' 'lib32-alsa-lib' 'lib32-sdl' 'lib32-libjpeg6' 'lib32-wxgtk' 'lib32-libxxf86vm' 'lib32-glew' 'lib32-nvidia-cg-toolkit' 'lib32-gstreamer0.10-base' 'lib32-liboil' 'lib32-portaudio')
else
	depends=('bzip2' 'gtk2' 'alsa-lib' 'sdl' 'libjpeg6' 'wxgtk' 'libxxf86vm' 'glew' 'nvidia-cg-toolkit' 'gstreamer0.10-base' 'liboil' 'portaudio')
fi

install="pcsx2.install"
source=( "http://pcsx2.googlecode.com/files/$_pkgname-$pkgver-r$svn_co-linux.tar.gz" "pcsx2.sh" )

md5sums=('92ec4c51424af836b5d35d89efe0cd8f'
	'7e05a5d90e17f4c65892a9f7b5d9f5ab')

build() {
	cd $srcdir

	mkdir -p ${pkgdir}/opt/
	cp -r ${srcdir}/pcsx2-$pkgver-r$svn_co/ ${pkgdir}/opt/pcsx2/ || return 1

	install -m0755 -D ${srcdir}/pcsx2.sh ${pkgdir}/usr/bin/pcsx2 || return 1
	# Stops memory card from being overwritten
	#rm ${pkgdir}/opt/pcsx2/memcards/*

}
