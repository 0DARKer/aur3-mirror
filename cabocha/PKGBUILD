# Maintainer: nosada <nosada271@gmail.com>

pkgname=cabocha
pkgver=0.66
pkgrel=1
pkgdesc="Yet Another Japanese Dependency Structure Analyzer"
url="https://code.google.com/p/cabocha/"
arch=('x86_64' 'i686')
license=('LGPL' 'BSD')
depends=('crfpp' 'mecab')
optdepends=()
makedepends=()
conflicts=()
replaces=()
backup=()
source=("https://cabocha.googlecode.com/files/${pkgname}-${pkgver}.tar.bz2"
        "NewBSD"                                                      # New BSD License
        "utils.patch")                                                # patch for cabocha-<pkgver>/src/utils.cpp
md5sums=('61e15daba7b6d72ea57e057a25c2c1f5'
         '31647eee70e2788db41caf100da377df'
         'c5e10dfdb9633de61e43130d81241cbd')

build() {
  cd "${srcdir}/${pkgname}-${pkgver}"
  patch -p0 < ../utils.patch
  ./configure --with-charset=UTF8		# '--with-charset=UTF8' is optional. you can remove it
  make
  make check
}

package() {
  cd "${srcdir}/${pkgname}-${pkgver}"
  make DESTDIR="${pkgdir}" install
  install -Dm644 ../NewBSD "${pkgdir}/usr/share/licenses/${pkgname}/NewBSDLicense"
  install -Dm644 man/cabocha.1 "${pkgdir}/usr/share/man/man1/cabocha.1"
}

# vim:set ts=2 sw=2 et:
