# Maintainer: Karol "Kenji Takahashi" Woźniak <kenji.sx>
# Contributor: Mariusz Szczepańczyk <mszczepanczyk@gmail.com>
# Contributor: Daniel Funke <mr.daniel.funke@gmail.com>

pkgname=libejdb
pkgver=1.2.7
pkgrel=1
pkgdesc="Embedded JSON Database engine"
arch=('i686' 'x86_64')
url="http://ejdb.org"
license=('LGPL')
depends=('zlib')
provides=('libejdb', 'libtcejdb')
source=("https://github.com/Softmotions/ejdb/archive/v${pkgver}.tar.gz")
md5sums=('4d045eee084cbf42308fa2816a19957b')

build() {
    cd "${srcdir}/ejdb-${pkgver}"

    mkdir -p build
    cd build
    cmake \
        -DCMAKE_BUILD_TYPE=Release \
        -DCMAKE_INSTALL_PREFIX=/usr \
        -DBUILD_SAMPLES=OFF \
        -DPACKAGE_TGZ=OFF \
        ../

    make
}

package() {
    cd "${srcdir}/ejdb-${pkgver}/build"

    make DESTDIR="${pkgdir}" install

    mv "${pkgdir}/usr/lib64" "${pkgdir}/usr/lib"
}

# vim:set ts=4 sw=4 et:
