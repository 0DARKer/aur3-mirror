# Maintainer: Jan Oliver Oelerich <janoliver@oelerich.org> 
pkgname=i3pystatus-git
pkgver=20130306
pkgrel=1
pkgdesc="i3status replacement written in python for the i3 window manager"
arch=('i686' 'x86_64')
url="https://github.com/enkore/i3pystatus.git"
license=('mit')
depends=('python')
optdepends=('python-dbus: thunderbird plugin'
'python-gobject2: thunderbird plugin')
conflicts=('')
makedepends=('git' 'python-distribute')

_gitroot="https://github.com/enkore/i3pystatus.git"
_gitname="i3pystatus"

build() {
  cd "$srcdir"
  msg "Connecting to GIT server...."

  if [ -d $_gitname ] ; then
    cd $_gitname && git pull origin
    msg "The local files are updated."
  else
    git clone $_gitroot 
    cd $_gitname
  fi

  msg "GIT checkout done or server timeout"
}

package() {
  cd "$srcdir/$_gitname"
  python setup.py install --prefix=/usr --root="$pkgdir"
} 
