# Maintainer: Lauri Niskanen <ape@ape3000.com>

pkgname=samsungctl-git
pkgver=0.1.0.r2.g7dc8f78
pkgrel=1
pkgdesc="Remote control Samsung televisions via TCP/IP connection"
arch=('any')
url="https://github.com/Ape/samsungctl"
license=('MIT')
depends=('python-setuptools')
makedepends=('git')
provides=('samsungctl')
conflicts=('samsungctl')
source=("${pkgname%}::git+https://github.com/Ape/samsungctl.git")
sha256sums=('SKIP')

pkgver() {
	cd "${srcdir}"/${pkgname}
	git describe --long | sed -r 's/^v//;s/([^-]*-g)/r\1/;s/-/./g' 
}

package() { 
	cd "$srcdir/$pkgname"
	mkdir -pm755 $pkgdir/usr/share/licenses/$pkgname
	cp LICENSE $pkgdir/usr/share/licenses/$pkgname/
	python setup.py install --root="$pkgdir/" --optimize=1
}
