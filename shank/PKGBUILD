# Maintainer: N30N <archlinux@alunamation.com>

pkgname="shank"
pkgver=120720110
pkgrel=1
pkgdesc="A 2D side-scrolling beat 'em up."
url="http://www.shankgame.com/"
license=("custom")
arch=("i686" "x86_64")
if [ "${CARCH}" == "x86_64" ]; then
	depends=("lib32-sdl")
else
	depends=("sdl")
fi
source=("shank-linux-${pkgver}-1-bin::/dev/null" "shank.sh" "shank.desktop")
md5sums=("f42fb76ad67316c3d7fa5378ad9c5f57" \
	"dd6523a1d46bab31a07178da66357e9d" \
	"159eddeeba8a32d5c8932c8d802ad1af")

build() {
	unzip -n shank-linux-120720110-1-bin || true
}

package() {
	install -Dm755 shank.sh "${pkgdir}/usr/bin/shank"
	install -Dm644 shank.desktop "${pkgdir}/usr/share/applications/shank.desktop"

	cd data
	install -Dm644 bin/.DS_Store "${pkgdir}/opt/shank/bin/.DS_Store"
	install -m755 bin/{libfmodevent-4.30.02.so,libfmodex-4.30.02.so,Shank} \
		"${pkgdir}/opt/shank/bin"
	find {data,data-pc,reslists} -type f \
		-exec install -Dm644 "{}" "${pkgdir}/opt/shank/{}" \;
}

# vim: set noet ff=unix:
