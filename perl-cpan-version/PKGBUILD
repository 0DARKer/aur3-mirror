pkgname=perl-cpan-version
pkgver=1.83_62
pkgrel=1
pkgdesc='utility functions to compare CPAN versions'
url="http://search.cpan.org/~andk/CPAN-$pkgver/"
depends=('perl>=5.8.4-1')
source=(http://search.cpan.org/CPAN/authors/id/A/AN/ANDK/CPAN-$pkgver.tar.gz)

build() {
  cd $startdir/src/CPAN-$pkgver
  # Force module installation to "current" perl directories.
  /usr/bin/perl Makefile.PL \
      INSTALLARCHLIB=/usr/lib/perl5/current/${CARCH}-linux-thread-multi \
      INSTALLSITELIB=/usr/lib/perl5/site_perl/current \
      INSTALLSITEARCH=/usr/lib/perl5/site_perl/current/${CARCH}-linux-thread-multi
  /usr/bin/make || return 1
  /usr/bin/make install DESTDIR=$startdir/pkg

  # remove perllocal.pod, .packlist, and empty dirs.
  /bin/rm -rf $startdir/pkg/usr/lib/perl5/current
  /bin/rm -rf $startdir/pkg/usr/lib/perl5/site_perl/current/${CARCH}-linux-thread-multi
}
md5sums=('6794fd06b7952e55997c750e214b6752')
