# Maintained by: danielwallace <daniel.wallace12@gmail.com>

pkgname=gomstreamer-git
pkgver=20120229
pkgrel=9
pkgdesc="Watch or Save(or delayed) the GSL stream"
arch=('i686' 'x86_64')
url="http://github.com/danielwallace/GOMstreamer"
license=('GPL')
makedepends=('git')
depends=('python2' 'wget' 'vlc')
optdepends=('gomplay-git: this can be used to easily control gomstreamer')
provides=('gomstreamer.py')

_gitroot="https://github.com/sjp/GOMstreamer.git"
_gitname="GOMstreamer"

build() {
	#cd ${srcddir}
	msg "checking git..."
	if [ -d ${_gitname} ]; then
		cd ${_gitname} && git pull origin
	else
		git clone ${_gitroot}
	fi
	rm -rf ${srcdir}/${_gitname}-build 
	git clone ${srcdir}/${_gitname} ${srcdir}/${_gitname}-build
}
package(){
	cd ${srcdir}/${_gitname}-build
	msg "packaging...."
	install -D -m755 ${srcdir}/${_gitname}/gomstreamer.py ${pkgdir}/usr/bin/gomstreamer.py||return 1
}
