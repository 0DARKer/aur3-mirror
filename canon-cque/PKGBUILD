# Maintainer: danilo <gezuru *at* gmail *dot* com>
pkgname=canon-cque
pkgver=2.0.5
pkgrel=1
pkgdesc='Canon CQue printing driver (PPDs and sicgsfilter only!)'
arch=(i686 x86_64)
url='http://software.canon-europe.com/products/0010871.asp'
license=('custom')
depends=('cups' 'foomatic-filters')
optdepends=('samba: printing via windows/smb shares')
source=('http://files.canon-europe.com/files/soft44089/software/g136men_lintgz_32_64_0205.zip'
        'LICENSE')
sha256sums=('14e2710a60c93cfcc61dd7d7134e0b60bd39953947c54094664a319cea8f54ce'
            '343a624f559718d085b01605572fdf1cf33201931f06ef37567bbd497a29d333')

if [ "$CARCH" = "x86_64" ]; then
    depends+=('lib32-glibc')
fi

build() {
    cd $srcdir
    if [ $arch != 'i686' ]; then
        tar xfz cque-en-2.0-5.$arch.tar.gz
    else
        tar xfz cque-en-2.0-5.tar.gz
    fi
}

package() {
    mkdir -p $pkgdir/usr/share/ppd/canon/ $pkgdir/usr/bin
    cp $srcdir/cque-en-2.0-4/ppd/* $pkgdir/usr/share/ppd/canon/
    cp $srcdir/cque-en-2.0-4/sicgsfilter $pkgdir/usr/bin/
    install -D -m644 $startdir/LICENSE "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
}
