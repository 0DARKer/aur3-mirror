# Contributor: neuromante <lorenzo.nizzi.grifi[at]gmail.com>

pkgname=skrooge-svn
pkgver=1011743
pkgrel=4
pkgdesc="Skrooge is a personal finances manager for KDE4, aiming at being simple and intuitive - Development version"
arch=('i686' 'x86_64')
url="http://extragear.kde.org/apps/skrooge"
license=('GPL')
depends=('kdebase-runtime' 'qt' 'libofx' 'qca' 'gettext')
makedepends=('gcc' 'cmake' 'automoc4' 'kdesdk-scripts' 'subversion')
arch=('i686' 'x86_64')
provides=('skrooge=0.5.0')
 
_svntrunk=svn://anonsvn.kde.org/home/kde/trunk/extragear/office/skrooge
_svnmod=skrooge
 
build() {
 cd $startdir/src
 
 svn co $_svntrunk $_svnmod
 
 msg "SVN checkout done or server timeout"
 msg "Starting make..."
 
 cp -r $_svnmod $_svnmod-build
 cd $_svnmod-build
 
 cmake -DCMAKE_INSTALL_PREFIX=/usr -DCMAKE_BUILD_TYPE=RELEASE
 
 make || return 1
 make DESTDIR=$startdir/pkg install || return 1
 
 rm -rf $startdir/src/$_svnmod-build
}
