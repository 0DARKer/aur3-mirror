
# Put the desired install prefix HERE
_iprefix=/opt/compiz-09

pkgname=libcompizconfig-09
pkgver=0.9.2.1
pkgrel=1
pkgdesc="Compiz configuration system library"
arch=('i686' 'x86_64')
url="http://compiz.org"
license=('GPL')
depends=('compiz-core-09' 'libxml2')
makedepends=('intltool' 'pkgconfig' 'cmake')
options=('!emptydirs' '!libtool')
source=("http://releases.compiz.org/$pkgver/libcompizconfig-${pkgver}.tar.gz")
sha1sums=('6dde394677f7d444a5c44546011577eeb5ed9ec2')

# This is a developement version
OPTIONS=(!strip)

build()
{
	cd "libcompizconfig-$pkgver"
	[[ -d build ]] || mkdir build
	cd build
	env PKG_CONFIG_PATH="${_iprefix}/lib/pkgconfig:$PKG_CONFIG_PATH"        \
		cmake .. -DCOMPIZ_PLUGIN_INSTALL_TYPE="compiz"                                             \
		         -DCMAKE_INSTALL_PREFIX="${_iprefix}"                                              \
		         -DCMAKE_BUILD_TYPE=Debug                                                          \
		         -DCOMPIZ_DESTDIR="${pkgdir}"
	make
	make install
	make findcompizconfig_install
}
