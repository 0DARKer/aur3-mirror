# Maintainer: Alfredo Ramos <alfredo dot ramos at yandex dot com>
# Contributor: defendor <defendor at riseup dot net>

pkgname=xfce-theme-simplix
pkgver=836b90a
pkgrel=2
pkgdesc="A very bright, simple but daily useable theme for Xfce"
arch=("i686" "x86_64")
url="http://sixsixfive.deviantart.com/art/simpliX-346404452"
license=("GPL3")

depends=("gtk-engines" "gtk-engine-murrine")
optdepends=()
makedepends=("git")
provides=("${pkgname}=${pkgver}")
conflicts=("${pkgname}<=${pkgver}")
replaces=("${pkgname}<=${pkgver}")

if [[ "$CARCH" == "x86_64" ]]; then
	optdepends+=("lib32-gdk-pixbuf2: 32-bit support")
fi

source=("git+https://github.com/sixsixfive/themes.git")
md5sums=("SKIP")
sha512sums=("SKIP")

_themename=simpliX

pkgver() {
	cd ${srcdir}/themes
	git describe --always | sed "s/-/./g"
}

package() {
	# Create base directories
	install -Ddm755 ${pkgdir}/usr/share/themes
	install -Ddm755 ${pkgdir}/usr/share/backgrounds/xfce/
	
	# GTK 2.0 theme
	cd ${srcdir}/themes/${_themename}/GUI-themes/GTK-2.24.14
	cp -R ${_themename} ${pkgdir}/usr/share/themes
	
	# Window Manager
	cd ${srcdir}/themes/${_themename}/WM-themes/Xfwm-4.8
	cp -R ${_themename} ${pkgdir}/usr/share/themes
	
	# Notifications
	cd ${srcdir}/themes/${_themename}/App-themes/Xfce-notify-0.2.4
	cp -R ${_themename} ${pkgdir}/usr/share/themes
	
	# Fix. Rename "xfce4-notify-4.0" to "xfce-notify-4.0"
	mv ${pkgdir}/usr/share/themes/${_themename}/xfce4-notify-4.0 ${pkgdir}/usr/share/themes/${_themename}/xfce-notify-4.0
	
	# Wallpaper (pattern)
	cd ${srcdir}/themes/${_themename}/Y-Extra/Wallpapers/Patterns
	cp wallpaper1.png ${pkgdir}/usr/share/backgrounds/xfce/${_themename}.png
	
}

