# HG changeset patch
# Parent 9355a11750d1f7ce21104db0753257b0863fbe7f
# User Israel Herraiz <israel.herraiz@upm.es>
Minor improvement over previous patch

diff -r 9355a11750d1 -r c768df180512 gui/src/MainWindow.cpp
--- a/gui/src/MainWindow.cpp	Tue Apr 24 19:08:30 2012 -0700
+++ b/gui/src/MainWindow.cpp	Tue Apr 24 21:59:09 2012 -0700
@@ -236,7 +236,7 @@
 void 
 MainWindow::setCWDInOCtave (QString dirName)
 {
-  m_terminalView->sendText (QString("cd \'%1\'\n").arg (dirName));
+  octave_env::chdir(dirName.toStdString());
 }
 
 void
diff -r 9355a11750d1 -r c768df180512 gui/src/MainWindow.h
--- a/gui/src/MainWindow.h	Tue Apr 24 19:08:30 2012 -0700
+++ b/gui/src/MainWindow.h	Tue Apr 24 21:59:09 2012 -0700
@@ -37,6 +37,7 @@
 #include "lexer/lexeroctavegui.h"
 #include "QTerminal.h"
 #include "QIRCWidget.h"
+#include "octave/oct-env.h"
 
 class NonClosableMdiSubWindow : public QMdiSubWindow
 {
