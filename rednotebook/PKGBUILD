# Maintainer: Dmitry Korzhevin <dkorzhevin at gmail dot com>
# Contributor: 4javier <4javier4@gmail.com>
# Contributor: G_Syme <demichan(at)mail(dot)upb(dot)de>
# Contributor: cameel <cameel2/gmail/com>
pkgname=rednotebook
pkgver=1.2.0
pkgrel=2
pkgdesc="A simple desktop diary"
arch=('i686' 'x86_64')
url="http://rednotebook.sourceforge.net"
license=('GPL2')
depends=('pygtk' 'python2-yaml' 'pywebkitgtk')
optdepends=('pywebkitgtk:use webkit for preview and PDF export' 'python-chardet:better recognition of file encoding')
source=(http://downloads.sourceforge.net/project/$pkgname/$pkgname-$pkgver.tar.gz)
md5sums=('95396d0081558adcb7803e6c5c47bc6b')

build() {
  cd "$srcdir"/$pkgname-$pkgver
  python2 setup.py install --root="$pkgdir" --prefix=/usr || return 1

  for _res in 16 22 32 64 128; do
    install -D -m644 build/lib/rednotebook/images/rednotebook-icon/rn-$_res.png \
        "$pkgdir"/usr/share/icons/hicolor/${_res}x${_res}/apps/$pkgname.png
  done
}
