# Maintainer: Gour <gour@gour-nitai.com>
# Contributor: Florian Walch <florian.walch@gmx.at>
pkgname=trytond
pkgver=1.4.2
pkgrel=2
pkgdesc="A three-tiers high-level general purpose application platform (server application)"
arch=('any')
url="http://www.tryton.org/"
license=('GPL3')
depends=('python' 'python-lxml' 'python-egenix-mx-base'
'python-relatorio>=0.2.0' 'python-genshi')
optdepends=('python-psycopg2: support for PostgreSQL database' 'python-pywebdav: support for WebDAV feature'
  'pydot: support for displaying workflow graphs'
  'python-pytz: timezone support'
  'pyopenssl: support for SSL connection')
makedepends=('setuptools')
install="trytond.install"
source=("http://downloads.tryton.org/1.4/$pkgname-$pkgver.tar.gz" 'trytond.rc')
md5sums=('10063fe782adc089db9a3ba695e23733' '094b779162cfced2d2015b26908b3b98')

build() {
  cd $srcdir/$pkgname-$pkgver
  python setup.py install --root=$pkgdir
  install -D -m644 etc/trytond.conf $pkgdir/etc/trytond.conf
  install -D -m755 $startdir/trytond.rc $pkgdir/etc/rc.d/trytond
}

