# Contributor: Anton Bazhenov <anton.bazhenov at gmail>
# Maintainer: JD Steffen <jd at steffennet dot org>

pkgname=simutrans-pak64
_pkgname=simutrans
pkgver=102.2.2
pkgrel=1
pkgdesc="A low resolution base set for Simutrans"
arch=('any')
url="http://www.simutrans.com/"
license=('PerlArtistic')
conflicts=('simutrans-pak64-svn')
source=(http://downloads.sourceforge.net/project/$_pkgname/pak64/102-2-2/simupak64-102-2-2.zip
        http://downloads.sourceforge.net/project/$_pkgname/pak64/102-2-2/update_texts-pak64_23052010.zip)
md5sums=('e432a224499b41c294897501de33446e'
         '852a85069253420ab9c20efaaf36e7c6')

build() {
  cd "$srcdir"/$_pkgname

  # install data
  install -m755 -d "$pkgdir"/usr/share/$_pkgname
  cp -rf ./* "$pkgdir"/usr/share/$_pkgname/
  cp -rf "$pkgdir"/usr/share/$_pkgname/{pak/text/,}
  rm $pkgdir/usr/share/$_pkgname/text/*.tab  

  # set permissions
  find "$pkgdir"/usr/share/$_pkgname -type d -exec chmod 755 {} +
  find "$pkgdir"/usr/share/$_pkgname -type f -exec chmod 644 {} +
}
