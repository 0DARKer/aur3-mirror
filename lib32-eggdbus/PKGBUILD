_pkgbasename=eggdbus
pkgname=lib32-$_pkgbasename
pkgver=0.6
pkgrel=7
pkgdesc="GObject bindings for D-Bus (32 bit, library only)"
arch=('x86_64')
url="http://cgit.freedesktop.org/~david/eggdbus"
license=('LGPL')
depends=('lib32-dbus-glib' 'lib32-glibc')
makedepends=('gtk-doc' 'gcc-multilib')
source=("http://cgit.freedesktop.org/~david/${_pkgbasename}/snapshot/${_pkgbasename}-${pkgver}.tar.bz2")
md5sums=('0a111faa54dfba2cf432c2c8e8a76e06')

build() {
  cd "${srcdir}/${_pkgbasename}-${pkgver}"
  ./autogen.sh --libdir=/usr/lib32 CC='gcc -m32'
  make
}

package() {
  cd "${srcdir}/${_pkgbasename}-${pkgver}"
  make DESTDIR="${pkgdir}" install
  rm -rf ${pkgdir}/usr/local
  install -Dm644 COPYING ${pkgdir}/usr/share/licenses/$pkgname/COPYING
}
