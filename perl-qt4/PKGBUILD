# Maintainer: Ricky Thomson <punkrockunix at gmail dot com

pkgname=perl-qt4
_pkgname=Qt

pkgver=0.96.0
pkgrel=1
pkgdesc="Perl bindings for the Qt4 and KDE4 libraries."
arch=('any')
url="http://code.google.com/p/perlqt4/"
license=('GPL')
depends=('perl-list-moreutils' 'perl-alien-smoke-qt')
makedepends=('cmake')
options=('!emptydirs')

source=(http://perlqt4.googlecode.com/files/${_pkgname}-${pkgver}.tar.gz)
md5sums=('300aa694926f07e53a8ffd99350a247c')

build() {
        cd ${srcdir}/${_pkgname}-${pkgver}

        PERL_MM_USE_DEFAULT=1 perl Makefile.PL || return 1

        cmake   -DWITH_Phonon=OFF \
                -DWITH_QImageBlitz=OFF \
                -DWITH_QScintilla=OFF \
                -DWITH_Qwt5=OFF . || return 1

        make || return 1
        make DESTDIR="${pkgdir}" install || return 1

        find "${pkgdir}" \( -name '.packlist' -o -name 'perllocal.pod' \) -delete
}

