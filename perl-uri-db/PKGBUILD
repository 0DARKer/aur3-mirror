# Maintainer: Andy Weidenbaum <archbaum@gmail.com>

pkgname=perl-uri-db
_srcname=URI-db
pkgver=0.15
pkgrel=1
pkgdesc="Database URIs"
arch=('any')
url="https://metacpan.org/pod/URI::db"
license=('PerlArtistic')
depends=('perl' 'perl-uri-nested')
makedepends=('perl-module-build')
options=('!emptydirs')
source=(https://cpan.metacpan.org/authors/id/D/DW/DWHEELER/$_srcname-$pkgver.tar.gz)
sha256sums=('ac3dc3eeb8ca58dc4f7e1dfed6bca5bb8ebbc5dfacee63161490b09a4bfac982')

build() {
  cd "${srcdir}/${_srcname}-${pkgver}"

  msg 'Building...'
  perl Build.PL INSTALLDIRS=vendor
  ./Build installdeps
  ./Build
}

check() {
  cd "${srcdir}/${_srcname}-${pkgver}"

  msg 'Testing...'
  ./Build test
}

package() {
  cd "${srcdir}/${_srcname}-${pkgver}"

  msg 'Installing...'
  ./Build prefix="$pkgdir/usr" install
}
