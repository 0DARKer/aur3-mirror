# Contributor: Guilherme "nirev" Nogueira <guilherme@nirev.org>
# vim:set ts=2 sw=2 et:
_gemname=less
pkgname=ruby-${_gemname}
pkgver=1.2.21
pkgrel=1
pkgdesc="ruby gem; Leaner CSS."
arch=(any)
url="http://www.lesscss.org/"
license=('MIT')
depends=('ruby' 'ruby-mutter' 'ruby-treetop')
makedepends=('rubygems')
source=("http://rubygems.org/downloads/${_gemname}-${pkgver}.gem")
noextract=("${_gemname}-$pkgver.gem")

build() {
  cd $srcdir
  local _gemdir="$(ruby -rubygems -e'puts Gem.default_dir')"
  gem install --ignore-dependencies -i "$pkgdir$_gemdir" ${_gemname}-$pkgver.gem

  install -d "$pkgdir/usr/bin"
  mv "$pkgdir$_gemdir/bin/lessc" "$pkgdir/usr/bin/"
  rmdir "$pkgdir$_gemdir/bin"
}
md5sums=('de6924111ca1f4601f813d376d6f1746')
