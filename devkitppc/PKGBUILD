# Maintainer: Tiago Camargo <tcamargo@gmail.com>
# Maintainer: Aaron Lindsay <aaron@aaronlindsay.com>
pkgname=devkitppc
pkgver=r25
pkgrel=1
pkgdesc='A PowerPC toolchain for Nintendo Gamecube and Wii development.'
arch=('i686' 'x86_64')
url="http://www.devkitpro.org/"
license=('GPL')
options=(!strip libtool)
depends=('gcc-libs' 'zlib' 'sh' 'expat')
install='devkitppc.install'
source=("http://downloads.sourceforge.net/sourceforge/devkitpro/devkitPPC_${pkgver}-1-${CARCH}-linux.tar.bz2"
        "devkitppc.sh")
md5sums=('48cff4f1bec8009746f9cefb2c475871')
[ "$CARCH" = "x86_64" ] && \
  md5sums=('d460d1a64f6fd1af53d0464c62c73352' ${md5sums[@]}) || \
  md5sums=('32c0429a9f4406dd597f5bf37a40d8b1' ${md5sums[@]})

build() {
	mkdir -p "${pkgdir}/opt/devkitpro"
	mv "${srcdir}/devkitPPC" "${pkgdir}/opt/devkitpro/"
	
	mkdir -p "${pkgdir}/etc/profile.d"
	cp "${srcdir}/devkitppc.sh" "${pkgdir}/etc/profile.d/"
	chmod 755 "${pkgdir}/etc/profile.d/devkitppc.sh"
}
