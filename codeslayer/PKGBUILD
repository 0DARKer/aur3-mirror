# Maintainer: Limao Luo <luolimao+AUR@gmail.com>

pkgname=codeslayer
pkgver=4.0.0
pkgrel=1
pkgdesc="A source code editor that boasts a clean interface but powerful features."
arch=(i686 x86_64)
url=http://code.google.com/p/$pkgname/
license=(GPL2)
depends=(desktop-file-utils gtksourceview3 hicolor-icon-theme)
makedepends=(intltool)
install=$pkgname.install
source=(http://$pkgname.googlecode.com/files/$pkgname-$pkgver.tar.gz
    $pkgname.desktop)
options=(!buildflags !libtool)
sha256sums=('1f451efd603a64756010e43ae00110cdf9ae6145e262ea619e6290db283ae3f7'
    '5d8b46ba9a71492766bcb6c908a7030bbb22b73e2743f5c2412f0a9ba15e0348')
sha512sums=('201406f01b2a5e7f6c8faad7d0e11dc7ec4a9c139404e390f9f53d51721211a20f2283018fab4c154fa2557b85145d83df7c171fa444e8771d14b580d1d9d6c0'
    'bcc72aa995aa46a958590a0525ea54f88ede1aa71c93ea138b18119b790286cb84ee832a69f50a4f6fb7bc23d6ab659f69b3d5cf5e60635c4e8655bcadc09293')

build() {
    cd $pkgname-$pkgver/
    autoreconf -fi
    ./configure --prefix=/usr --mandir=/usr/share/man
    make
}

package() {
    cd $pkgname-$pkgver/
    make DESTDIR="$pkgdir" install
    desktop-file-install ../$pkgname.desktop --dir "$pkgdir"/usr/share/applications/
}
