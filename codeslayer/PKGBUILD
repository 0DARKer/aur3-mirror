# Maintainer: Limao Luo <luolimao+AUR@gmail.com>

pkgname=codeslayer
pkgver=3.0.0
pkgrel=1
pkgdesc="A source code editor that boasts a clean interface but powerful features."
arch=(i686 x86_64)
url=http://code.google.com/p/$pkgname/
license=(GPL2)
depends=(desktop-file-utils gtksourceview3 hicolor-icon-theme)
makedepends=(intltool)
install=$pkgname.install
source=(http://$pkgname.googlecode.com/files/$pkgname-$pkgver.tar.gz
    $pkgname.desktop)
options=(!buildflags !libtool)
sha256sums=('61bbecea5611668ffa0a8dd3fab63a70f390ea2378cad3368495197af505c868'
    '5d8b46ba9a71492766bcb6c908a7030bbb22b73e2743f5c2412f0a9ba15e0348')
sha512sums=('a1b7a0d7a5f9873e8db4a05fb48fd2ccc85aed35e220aafab9f37f6df6c2ff4903fc25dc33e6c2baa7ec700a20a26597eb8931805d6e4a16be14797204d1d6b1'
    'bcc72aa995aa46a958590a0525ea54f88ede1aa71c93ea138b18119b790286cb84ee832a69f50a4f6fb7bc23d6ab659f69b3d5cf5e60635c4e8655bcadc09293')

build() {
    cd "$srcdir"/$pkgname-$pkgver/
    ./configure --prefix=/usr --mandir=/usr/share/man
    make
}

package() {
    cd "$srcdir"/$pkgname-$pkgver/
    make DESTDIR="$pkgdir" install
    desktop-file-install ../$pkgname.desktop --dir "$pkgdir"/usr/share/applications/
}
