# Contributor: Jed Brown <jed@59A2.org>
pkgname=parmetis
_prefix=/usr
pkgver=4.0.3
_pkgver=4.0.3-p1
pkgrel=1
pkgdesc="A parallel graph partitioning library"
url="http://glaros.dtc.umn.edu/gkhome/metis/parmetis/overview"
arch=('i686' 'x86_64')
license="custom"
depends=(metis openmpi)
makedepends=(cmake)
source=(http://ftp.mcs.anl.gov/pub/petsc/externalpackages/parmetis-${_pkgver}.tar.gz)
md5sums=('19dd88554f83bf6fd848e3fb98efd626')

build() {
  cd "$srcdir/parmetis-${_pkgver}"
  make config cc=mpicc shared=1 prefix=/usr
  make
}

package () {
  cd "$srcdir/parmetis-${_pkgver}"
  make install "DESTDIR=$pkgdir"
}
