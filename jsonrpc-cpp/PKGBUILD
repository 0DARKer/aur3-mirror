# Maintainer: Daniel Sage <daniel@ceri.co>
# Author: Jonahtan Schaeffer <joschaeffer@gmail.com>

pkgname=jsonrpc-cpp
pkgver=0.4
pkgrel=1
pkgdesc="A C++ implementation of JSONRPC v2 protocol"
url="http://jsonrpc-cpp.sourceforge.net/"
license="LGPL3"
arch=("i686" "x86_64")
depends=("jsoncpp")
makedepends=("scons" "gcc")
source=("http://downloads.sourceforge.net/project/jsonrpc-cpp/jsonrpc-cpp/${pkgname}-${pkgver}.tar.bz2" "fix.patch")
md5sums=("b01e0a9c54d5e511e33d4d5ba28bf958" "321eaf6578c4cc353277a041b657ddc8")

build() {
  cd ${srcdir}/${pkgname}-${pkgver}
  patch -p0 < ${startdir}/fix.patch
  scons
}

package() {
  cd ${srcdir}/${pkgname}-${pkgver}
  scons install -Q prefix=${pkgdir}/usr
}

