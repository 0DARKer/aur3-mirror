# Maintainer: Daniel Bomar <dbdaniel42@gmail.com>
# Contributor: Daniel Sage <daniel@ceri.co>
# Author: Jonahtan Schaeffer <joschaeffer@gmail.com>

pkgname=jsonrpc-cpp
pkgver=0.5
pkgrel=1
pkgdesc="A C++ implementation of JSONRPC v2 protocol"
url="http://jsonrpc-cpp.sourceforge.net/"
license=("LGPL3")
arch=("i686" "x86_64")
depends=("jsoncpp" "curl")
makedepends=("gcc")
source=("http://downloads.sourceforge.net/project/jsonrpc-cpp/jsonrpc-cpp/${pkgname}-${pkgver}.tar.bz2" "fix.patch")
sha256sums=('772f7ff63adafba7a5fd9f947ad0d1df9f692f017cb2b1ffc629377314aa7b6b'
            '9521c909ce639d46e81b2cba1b1f28579bb73e5319accfd43554555605068ce4')

prepare() {
  cd ${srcdir}/${pkgname}-${pkgver}
  patch -Np0 -i ../fix.patch
}

build() {
  cd ${srcdir}/${pkgname}-${pkgver}
  ./autogen.sh
  ./configure --prefix /usr
  make
}

package() {
  cd ${srcdir}/${pkgname}-${pkgver}
  make DESTDIR="$pkgdir/" install
}
