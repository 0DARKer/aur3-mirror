# Contributor: Václav Kramář <vaclav.kramar@tiscali.cz>
# Contributor: Eric Herrera <eric.gnome@gmail.com>

pkgname=xfce4-theme-pack-nimbus
pkgver=20091111
pkgrel=1
pkgdesc="Nimbus GTK engine and themes and xfwm4 theme"
arch=('686' 'x86_64')
url="http://www.sun.com/software/javadesktopsystem/"
license=('GPL')
depends=('libx11' 'gtk2' 'intltool' 'icon-naming-utils')
conflicts=('nimbus')
source=(http://dlc.sun.com/osol/jds/downloads/extras/nimbus/nimbus-0.1.4.tar.bz2 \
        http://www.xfce-look.org/CONTENT/content-files/113884-nimbus_plain_graphite-0.1.4-1.tar.gz \
        http://www.xfce-look.org/CONTENT/content-files/77327-Nimbus-Vistalooks-1.10.zip  \
        http://www.xfce-look.org/CONTENT/content-files/54830-Nimbus-Glossy-Menus.tar.bz2 \
        http://www.xfce-look.org/CONTENT/content-files/101276-XFWM4-Nimbus-0.03.tar.gz)


build() {
  # original gtk engine with basic gtk themes and icon theme
  cd ${srcdir}/nimbus-0.1.4
  ./autogen.sh --prefix=/usr
  make || return 1
  make prefix=${pkgdir}/usr install
  rm -rf ${pkgdir}/usr/share/themes/dark-nimbus/metacity-1 || return 1
  rm -rf ${pkgdir}/usr/share/themes/light-nimbus/metacity-1 || return 1
  rm -rf ${pkgdir}/usr/share/themes/nimbus/metacity-1 || return 1

  # get back to srcdir
  cd ${srcdir}

  # nimbus-plain gtk themes
  cp -r nimbus_plain ${pkgdir}/usr/share/themes || return 1
  cp -r nimbus_plain_graphite ${pkgdir}/usr/share/themes || return 1
  cp -r nimbus_plain_small ${pkgdir}/usr/share/themes || return 1
  cp -r nimbus_plain_small_graphite ${pkgdir}/usr/share/themes || return 1

  # nimbus-vistalooks gtk theme
  cp -r Nimbus-Vistalooks ${pkgdir}/usr/share/themes || return 1

  # nimbus-glossy-menus gtk theme
  cp -r Nimbus-Glossy-Menus ${pkgdir}/usr/share/themes || return 1
  cp -r Nimbus-Glossy-Menus-Deep ${pkgdir}/usr/share/themes || return 1

  # nimbus+ xfwm4 theme
  mv Nimbus Nimbus-plus
  cp -r Nimbus-plus  ${pkgdir}/usr/share/themes || return 1
}
md5sums=('329e6937577d54e64fab546b8ec7b2e6'
         'b8c33be6ad1dc08ac790a880bebdafed'
         '24679ad4c5308001ed937713e1d7f5e0'
         '967f18556fda7170ced7313c35af5504'
         '929d67bf157e4c7867608fba4564c423')
