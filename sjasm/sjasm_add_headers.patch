diff -upr sjasmsrc42c.orig/datastructures.h sjasmsrc42c/datastructures.h
--- sjasmsrc42c.orig/datastructures.h	2011-09-17 16:37:34.000000000 +0200
+++ sjasmsrc42c/datastructures.h	2013-12-21 18:50:26.187016764 +0100
@@ -1,3 +1,4 @@
+#include <string.h>
 /*
 
   Sjasm Z80 Assembler version 0.42
diff -upr sjasmsrc42c.orig/errors.cpp sjasmsrc42c/errors.cpp
--- sjasmsrc42c.orig/errors.cpp	2011-10-01 10:54:48.000000000 +0200
+++ sjasmsrc42c/errors.cpp	2013-12-21 18:54:39.878003286 +0100
@@ -1,3 +1,5 @@
+#include <stdlib.h>
+
 /*
 
   Sjasm Z80 Assembler version 0.42
diff -upr sjasmsrc42c.orig/fileio.cpp sjasmsrc42c/fileio.cpp
--- sjasmsrc42c.orig/fileio.cpp	2011-09-17 16:37:34.000000000 +0200
+++ sjasmsrc42c/fileio.cpp	2013-12-21 18:57:48.740367860 +0100
@@ -1,3 +1,4 @@
+#include <stdio.h>
 /*
 
   Sjasm Z80 Assembler version 0.42
diff -upr sjasmsrc42c.orig/rawsource.cpp sjasmsrc42c/rawsource.cpp
--- sjasmsrc42c.orig/rawsource.cpp	2011-09-17 16:37:34.000000000 +0200
+++ sjasmsrc42c/rawsource.cpp	2013-12-21 19:08:02.982232306 +0100
@@ -1,3 +1,4 @@
+#include <stdlib.h>
 /*
 
   Sjasm Z80 Assembler version 0.42
diff -upr sjasmsrc42c.orig/reader.cpp sjasmsrc42c/reader.cpp
--- sjasmsrc42c.orig/reader.cpp	2011-09-17 16:37:34.000000000 +0200
+++ sjasmsrc42c/reader.cpp	2013-12-21 23:02:45.707094642 +0100
@@ -1,3 +1,4 @@
+#include <stdlib.h>
 /*
 
   Sjasm Z80 Assembler version 0.42
@@ -76,7 +77,7 @@ string tolower(string b) {
   return bp;
 }
 
-inline void skipblanks(string &p) {
+void skipblanks(string &p) {
   int pos=(int)p.find_first_not_of(' ');
   if (pos==string::npos) p.clear();
   else p=p.substr(pos);
Only in sjasmsrc42c: sjasm
diff -upr sjasmsrc42c.orig/sjasm.cpp sjasmsrc42c/sjasm.cpp
--- sjasmsrc42c.orig/sjasm.cpp	2011-10-01 11:09:40.000000000 +0200
+++ sjasmsrc42c/sjasm.cpp	2013-12-21 19:10:10.259405191 +0100
@@ -1,3 +1,4 @@
+#include <stdlib.h>
 /*
 
   Sjasm Z80 Assembler version 0.42