##Contributor: T.Cunly

pkgname=cfortran
pkgver=4.4_13
pkgrel=2
pkgdesc="Header file allowing to call Fortran routines from C and C++ " 
license=(GPL)
arch=('i686' 'x86_64')
url="http://www-zeus.desy.de/~burow/cfortran/"
install=(cfortran.install)
depends=(gcc) 
md5sums=('d6a335899e838231bad3f222cff184c7'
         'a7a14e15070e13571eafb894d2931c9c')

NETADDRESS=http://ftp.heanet.ie/debian/pool/main/c/cfortran/
ORIGINFILE=cfortran_4.4.orig.tar.gz
PATCHFILE=cfortran_4.4-13.diff.gz

source=("${NETADDRESS}/${ORIGINFILE}" "${NETADDRESS}/${PATCHFILE}") 


build() {
    cd $startdir/src
    patch -p0 <cfortran_4.4-13.diff
    
    INCLUDEDIR=$startdir/pkg/usr/include/cfortran
    DOCDIR=$startdir/pkg/usr/share/doc/cfortran
    EXAMPLEDIR=$DOCDIR/examples
    
    [  -d $INCLUDEDIR ] || mkdir -p $INCLUDEDIR
    [  -d $EXAMPLEDIR  ] || mkdir -p $EXAMPLEDIR
    [  -d $DOCDIR ]  || mkdir -p $DOCDIR
        
    cd $startdir/src/cfortran-4.4
    cp cfortran.h $INCLUDEDIR/
       
    cp cfortran.doc cfortran.html index.htm cfortest.c cfortex.f $DOCDIR/
    
    tar xfz cfortran.examples.tar.gz
    cp -r eg/* $EXAMPLEDIR/
}
 
