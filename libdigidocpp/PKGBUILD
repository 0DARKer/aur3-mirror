# Maintainer: kevku <kevku@gmx.com>
pkgname=libdigidocpp
pkgver=3.7.0.933
pkgrel=1
pkgdesc="Library for creating DigiDoc signature files (Official version by AS Sertifitseerimiskeskus)"
arch=('x86_64' 'i686')
url="http://www.id.ee/"
license=('LGPL')
depends=('xml-security-c')
makedepends=('cmake' 'xsd' 'libdigidoc' 'pcsclite' 'opensc')
conflicts=('libdigidocpp-svn' 'sk-libdigidocpp-svn')
source=("http://ftp.id.eesti.ee/pub/id/signed_repository/sources/$pkgname-$pkgver.tar.gz"
	"http://ftp.id.eesti.ee/pub/id/signed_repository/sources/$pkgname-$pkgver.tar.gz.asc")
sha256sums=('2880a2210f8ed9f2678bf0ad0b2df2119a2cff1b6738b98bad639478afc24d31'
            '7c7ea528fc49c4801658fae85044e213bd7e07b46875f456b3dbca1558291536')

build() {
  cd "$srcdir/$pkgname-$pkgver"
  cmake . -DCMAKE_INSTALL_PREFIX=/usr -DCMAKE_INSTALL_LIBDIR="lib" -DCMAKE_INSTALL_SYSCONFDIR="/etc" -DCERTS_LOCATION="/usr/share/esteid/certs"
  make 
}

package() {
  cd "$srcdir/$pkgname-$pkgver"
  make DESTDIR="$pkgdir/" install
}

