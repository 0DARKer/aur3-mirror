# Maintainer: archtux <antonio.arias99999 at gmail.com>

pkgname=critter-chess-engine
pkgver=1.2
pkgrel=1
pkgdesc="Very strong multiprocessor UCI chess engine"
arch=('i686' 'x86_64')
url="http://www.vlasak.biz/critter/"
license='free'
source=(http://www.vlasak.biz/critter/countl.php)
md5sums='193d82170db2b697898559095a6c292c'


build() {
    cd $srcdir

    # Detection of processor
    if [ ${CARCH} = 'i686' ]; then
    install -Dm755 critter-12-32bit $pkgdir/usr/bin/critter-12-32bit
    elif  [ ${CARCH} = 'x86_64' ]; then 
    if grep -q sse4_1 /proc/cpuinfo ; then
    install -Dm755 critter-12-64bit-sse4 $pkgdir/usr/bin/critter-12-64bit-sse4
    else
    install -Dm755 critter-12-64bit $pkgdir/usr/bin/critter-12-64bit     
    fi
    fi

    # Opening Book
    install -Dm644 book.cbk $pkgdir/usr/share/critter/book.cbk
}