# Contributors:
#	Florian Pritz <f-p@gmx.at> (Original)
#	Xyne <xyne at archlinux dot us>
#	thiagoc
#	Chris <chris at christopherjones dot us>
#	henning mueller <henning@orgizm.net>
#	Fabiano Furtado <fusca14 at gmail dot com>

pkgname=fwknop
pkgver=2.0
pkgrel=2
pkgdesc='FireWall KNock OPerator: Single Packet Authorization and Port Knocking'
arch=(i686 x86_64)
url=http://www.cipherdyne.org/fwknop/
license=(GPL)
depends=(gpgme iptables libpcap)
options=(!libtool)
backup=(
	etc/fwknop/access.conf
	etc/fwknop/fwknopd.conf
)
source=(
	http://www.cipherdyne.org/fwknop/download/$pkgname-$pkgver.tar.bz2
	fwknopd.rc
)
md5sums=(
	96de4c5a4ae75a8618ef80269c6a70ad
	bca844c17f527907b3448ebdb639dc2c
)

build() {
	cd $srcdir/$pkgname-$pkgver
	./configure --prefix=/usr --sysconfdir=/etc
	make
}

package() {
	cd $srcdir/$pkgname-$pkgver
	make DESTDIR=$pkgdir install
	install -D -m 755 $srcdir/fwknopd.rc $pkgdir/etc/rc.d/fwknopd
}
