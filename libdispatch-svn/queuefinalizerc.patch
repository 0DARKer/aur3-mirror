25c25
< #include <unistd.h>
---
> #include "../../include/unistd.h"

35,62d34
< /*
<  * Based on ISC BIND lib/isc/random.c
<  */
< #ifndef HAVE_ARC4RANDOM
< static uint32_t
< arc4random(void)
< {
<   unsigned int pid;
<   static int arc4random_init;
< 
<   /*
<    * The low bits of pid generally change faster.
<    * Xor them with the high bits of time which change slowly.
<    */
<   if (!arc4random_init) {
<     pid = getpid();
<     pid = ((pid << 16) & 0xffff0000) | ((pid >> 16) & 0xffff);
<     srand(time(NULL) ^ pid);
<     arc4random_init = 1;
<   }
< 
<   /*
<    * rand()'s lower bits are not random.
<    * rand()'s upper bit is zero.
<    */
<   return ((rand() >> 4) & 0xffff) | ((rand() << 12) & 0xffff0000);
< }
< #endif /* ! HAVE_ARC4RANDOM */
