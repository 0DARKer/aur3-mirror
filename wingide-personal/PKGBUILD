# Contributor: Andreas Sch√∂nfelder <passtschu at freenet dot de>

pkgname=wingide-personal
pkgver=4.0.0
_pkgrel=1
pkgrel=1
pkgdesc="Wing IDE is the most advanced Python IDE available today. (low-cost edition - 30 days trial)"
url="http://www.wingware.com"
license=("custom")
arch=(i686 x86_64)
[ "$CARCH" == "i686" ] && _pkgarch=i386 || _pkgarch=$(arch)
source=("http://wingware.com/pub/$pkgname/$pkgver/$pkgname-$pkgver-$_pkgrel-$_pkgarch-linux.tar.gz"
	"$pkgname.desktop")
options=(!strip)
md5sums=('c821534662479db2ef9db2eb966573b6'
         'b8e29bd47baf5c036b8cc462605ea1b8')
[ "$CARCH" == "i686" ] && md5sums=('9531f5565c73d7672e558153567edcbf'
                                   'b8e29bd47baf5c036b8cc462605ea1b8')

build() 
{
  cd $srcdir/$pkgname-$pkgver-$_pkgrel-$_pkgarch-linux
  install -d $pkgdir/opt/$pkgname $pkgdir/usr/bin \
             $pkgdir/usr/share/applications $pkgdir/usr/share/pixmaps
  tar -xC $pkgdir/opt/$pkgname -f binary-package-$pkgver-$pkgrel.tar
  sed -e "s/^DIR=.*$/DIR=\/opt\/$pkgname/g" -i $pkgdir/opt/$pkgname/wing-personal
  install -m644 $srcdir/$pkgname.desktop $pkgdir/usr/share/applications/
  ln -s /opt/$pkgname/wing-personal $pkgdir/usr/bin/$pkgname
  ln -s /opt/$pkgname/resources/wing128.png $pkgdir/usr/share/pixmaps/$pkgname.png
}

# vim:syntax=sh
