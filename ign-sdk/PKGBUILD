##Author##
#Eka Tresna Irawan/Ibnu Yahya (anak10thn@gmail.com)
#PKGBUILD
#Boy Sandy Gladies A. (reno.esper@gmail.com)

pkgname=ign-sdk
pkgver=1.1.2
pkgrel=131129
pkgdesc="IGN Software Development Kit"
url="https://github.com/anak10thn/ignsdk-qt"
arch=('x86_64' 'i686')
license=('BSD')
depends=('qt5-base' 'qtwebkit' 'qjson' 'mariadb')
options=('!strip' '!emptydirs')
#source=('ign-sdk::git://github.com/anak10thn/ignsdk-qt.git')
source=("https://github.com/anak10thn/ignsdk-qt/archive/v${pkgver}.tar.gz")
md5sums=('a5ac90b9d7d90dc4147966f95f3b0470')
  
build() {
	cd ignsdk-qt-${pkgver}
	qmake
	make
}

package() {
  cd ignsdk-qt-${pkgver}
  mkdir -p $pkgdir/etc/
  mkdir -p $pkgdir/usr/bin/
  mkdir -p $pkgdir/usr/share/ign-sdk/bin/
  mkdir -p $pkgdir/usr/share/man/man1/
  mkdir -p $pkgdir/usr/share/licenses/ign-sdk/
  
  cp -rf css $pkgdir/usr/share/ign-sdk/
  cp -rf dist $pkgdir/etc/dist/
  cp -rf js $pkgdir/usr/share/ign-sdk/
  cp -rf template $pkgdir/usr/share/ign-sdk/
  cp -rf test $pkgdir/usr/share/ign-sdk/
  echo "arch" > $pkgdir/etc/ignsdk-dist
  
  install -Dm 755 ignsdk $pkgdir/usr/bin/
  install -Dm 644 LICENSE.BSD $pkgdir/usr/share/licenses/ign-sdk/
  install -Dm 755 bin/ignsdk-app-builder $pkgdir/usr/bin/
  install -Dm 755 bin/ignsdk-app-creator $pkgdir/usr/bin/
  
  install -Dm 755 bin/ignsdk-arch-builder $pkgdir/usr/share/ign-sdk/bin/
  install -Dm 755 bin/ignsdk-arch-creator $pkgdir/usr/share/ign-sdk/bin/
  install -Dm644 doc/ignsdk.man.1.gz $pkgdir/usr/share/man/man1/
  
  rm -rf *.o
}
