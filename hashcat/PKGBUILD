# Maintainer: Your Name <bleubit@gmail.com>
pkgname=hashcat
_pkgname=hashcat
pkgver=0.37
pkgrel=1
pkgdesc="Multithreaded cross platform hash cracker"
arch=('i686' 'x86_64' )
url="http://hashcat.net/hashcat/"
license=('proprietary: run with --eula for details')
depends=()
makedepends=('p7zip')
source=(${_pkgname}-${pkgver}.7z)

build() {
  cd ${srcdir}

  7z x ${_pkgname}-${pkgver}.7z
}

package() {
  cd ${srcdir}

  rm ${_pkgname}-${pkgver}/*.exe
 
  if [[ `uname -m` = 'x86_64' ]]
  then
  	rm ${_pkgname}-${pkgver}/hashcat-cli32.bin
  else	
  	rm ${_pkgname}-${pkgver}/hashcat-cli64.bin
  fi
 
  install -m755 -d ${pkgdir}/usr/local/bin/
  install -m755 -d ${pkgdir}/usr/local/share/doc/${_pkgname}
  install -m755 -d ${pkgdir}/usr/local/share/doc/${_pkgname}/examples/
  install -m755 -d ${pkgdir}/usr/local/etc/${_pkgname}/rules/
  install -m755 -d ${pkgdir}/usr/local/etc/${_pkgname}/salts/
  install -m755 -d ${pkgdir}/usr/local/etc/${_pkgname}/tables/

  cd ${_pkgname}-${pkgver}
  
  cp *.bin ${pkgdir}/usr/local/bin/${_pkgname}
  cp docs/* ${pkgdir}/usr/local/share/doc/${_pkgname}/
  cp -r examples ${pkgdir}/usr/local/share/doc/${_pkgname}/
  cp -r rules ${pkgdir}/usr/local/etc/${_pkgname}/
  cp -r salts ${pkgdir}/usr/local/etc/${_pkgname}/
  cp -r tables ${pkgdir}/usr/local/etc/${_pkgname}/
  
  chmod 755 ${pkgdir}/usr/local/bin/${_pkgname}

}

# vim:set ts=2 sw=2 et:
sha256sums=('f9f82dea8d97252a0036846211c3f0f502dd395ffd9fe4a8073d4a36330e96a1')
