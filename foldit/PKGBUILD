# Maintainer: Jesse Jaara <gmail.com: jesse.jaara>

pkgname=foldit
pkgver=beta.20130118
pkgrel=1
pkgdesc="A game enabling you to contribute to important scientific research."
arch=('x86_64')
url="http://fold.it/"
license=('custom: free to use')
install=foldit.install
depends=('freeglut' 'glu')
optdepends=('xclip: to enable copy-paste')
source=('http://fold.it/portal/files/app/Foldit-linux_x64.tar.gz' 'foldit.desktop' 'foldit.png' 'foldit.sh')

package() {
  cd "${srcdir}/Foldit"

  mkdir -p "${pkgdir}/usr/share/applications"
  mkdir -p "${pkgdir}/usr/bin"
  mkdir -p "${pkgdir}/usr/share/pixmaps"
  mkdir -p "${pkgdir}/usr/share/games/foldit"

  ##Don't move the old verions.
  cp -r cmp-binary-$(cat version-binary.txt) "${pkgdir}/usr/share/games/foldit/"
  cp -r cmp-database-$(cat version-database.txt) "${pkgdir}/usr/share/games/foldit/"
  cp -r cmp-resources-$(cat version-resources.txt) "${pkgdir}/usr/share/games/foldit/"

  #Move rest of the stuff
  cp -r Foldit README *.txt "${pkgdir}/usr/share/games/foldit/"

  cp "${srcdir}/foldit.sh"	"${pkgdir}/usr/bin/foldit"
  cp "${srcdir}/foldit.desktop"	"${pkgdir}/usr/share/applications/"
  cp "${srcdir}/foldit.png"	"${pkgdir}/usr/share/pixmaps/"

  chown -R root:games	"${pkgdir}/usr/share/games/foldit"
  chmod -R g+w "${pkgdir}/usr/share/games/foldit"
  chmod    a+x "${pkgdir}/usr/bin/foldit"
}

md5sums=('cb8032d51385f846735fddf035d62913'
         '3bf30a00e76d0b94f56210db1f54d1f8'
         '8423004878fce17189954e7f067a1462'
         '1ecb7cc8598dfab994919e06a03745b6')
