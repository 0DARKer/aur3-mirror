# Maintainer: Nicolo' Barbon <smilzoboboz@gmail.com>
pkgname=camsensor
pkgver=0.0.3
pkgrel=1
pkgdesc="calculates ambient brightness and suggests (or sets) screen's correct backlight level using a webcam"
arch=(any)
url="http://sourceforge.net/projects/camsensor/"
license=('GPLv3')
groups=()
depends=('python-pygame' 'python-imaging' 'python2-numpy')
makedepends=('python-distutils-extra' 'intltool')
optdepends=('python2-pyqt: screen balance feature, useless on a non graphical enviroment but almost needed elsewhere')
provides=('camsensor')
conflicts=()
replaces=()
backup=()
options=()
install=
changelog=
source=(http://sourceforge.net/projects/$pkgname/files/$pkgname-beta/$pkgver/$pkgname-$pkgver.tar.gz)
noextract=()
md5sums=('4f1a9360c227fa06fead6e9bf1d911ef') #generate with 'makepkg -g'

build() {
  cd "$srcdir/$pkgname"
  ./setup.py build
}

package() {
  cd "$srcdir/$pkgname"
  if [ ! -e /sys/class/backlight/*/brightness ]; then echo "Your configuration is currently not supported."; return 1; fi
  ./setup.py install --prefix="$pkgdir/usr/"
}