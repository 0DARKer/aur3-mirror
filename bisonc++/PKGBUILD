# Maintainer: Anton Jongsma <anton@felrood.nl>
pkgname=bisonc++
pkgver=4.08.00
pkgrel=1
pkgdesc="C++ parser generator"
arch=('i686' 'x86_64')
url="http://bisoncpp.sourceforge.net"
license=('GPL')
depends=('libbobcat')
makedepends=('icmake')
optdepends=()
source=("http://downloads.sourceforge.net/project/bisoncpp/bisonc++/${pkgver}/bisonc++_${pkgver}.orig.tar.gz")

build() {
  cd "$srcdir/bisonc++-${pkgver}"
  CXXFLAGS="--std=c++11"
  ./build program
}

package() {
  cd "$srcdir/bisonc++-${pkgver}"
  ./build install program "${pkgdir}/usr/bin/"

  # this seems to be a bug in icmake/bisonc++
  mv "${pkgdir}/usr/bin/binary" "${pkgdir}/usr/bin/bisonc++"
}

md5sums=('09e772a531865e42c800af1916ea95c9')
