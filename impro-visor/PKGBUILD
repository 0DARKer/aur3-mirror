# Contributor: Eric Le Bras <eric.lebras@gmail.com>

pkgname=impro-visor
pkgver=4.11
pkgrel=1
pkgdesc="Jazz Improvisation Advisor for the Improviser"
arch=('i686' 'x86_64')
url="http://impro-visor.com/"
license=('GPL')
depends=('java-runtime')
makedepends=('unzip')
source=(http://downloads.sourceforge.net/impro-visor/improvisor411.zip
	Impro-Visor.sh
	impro-visor.desktop)
md5sums=('9c4ed5a747bcb43307b5d4012b19d470'
         '86909089d7efb9de95a610243c270dd7'
         '61c866bd317f5e8bb6d1ed422672d0cd')

build() {
  cd "$srcdir"

  find . -type f -name "*.jar" | while read f; do
    install -Dm644 "$f" "$pkgdir/usr/share/java/$pkgname/${f:2}"
  done
  find . -type f ! -name "*.jar" | while read f; do
    install -Dm644 "$f" "$pkgdir/usr/share/$pkgname/${f:2}"
  done
  rm "$pkgdir/usr/share/$pkgname/README.txt"

  install -Dm755 "$srcdir/Impro-Visor.sh" "$pkgdir/usr/bin/Impro-Visor.sh"
  install -Dm644 "$srcdir/$pkgname.desktop" "$pkgdir/usr/share/applications/$pkgname.desktop"
}
