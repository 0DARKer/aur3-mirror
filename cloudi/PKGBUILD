# Maintainer: Tevin Zhang <mail2tevin {at} gmail {dot} com>

pkgname=cloudi
pkgver=20120604
pkgrel=1
pkgdesc="Convenient online dictionary for command line users"
arch=('i686' 'x86_64')
url="https://github.com/Tevino/Cloudi"
license=('MIT')
makedepends=('git' 'sudo')
depends=('bash' 'xsel' 'python2>=2.6')

_gitroot="git://github.com/Tevino/Cloudi.git"
_gitname="Cloudi"

build() {
    cd ${srcdir}
    
    msg "Connecting to GIT server..."
    if [[ -d ${_gitname} ]]; then
        (cd ${_gitname} && git pull origin)
    else
        git clone ${_gitroot} ${_gitname}
    fi
    msg "GIT checkout done or server timeout"
    msg "Starting installation..."
    
    sudo cp -r ${_gitname} /usr
}

package() {
    /usr/${_gitname}/install.sh
}
