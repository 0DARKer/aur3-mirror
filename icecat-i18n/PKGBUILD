# Maintainer: Figue <ffigue@gmail.com>
# Based on firefox-i18n package

pkgname=icecat-i18n
pkgver=3.6.15
pkgrel=1
pkgdesc="Language packs for IceCat"
arch=('any')
license=('MPL')
url="http://www.gnu.org/software/gnuzilla/"
depends=("icecat>=${pkgver}g1")
#_url=http://gnuzilla.gnu.org/download/langpacks/${pkgver}/GNU_IceCat-${pkgver}
_url=http://mirror.linuzeros.org/icecat/langpacks/${pkgver}/
source=(${_url}{af,ar,as,be,bg,bn-BD,bn-IN,ca,cs,cy,da,de,el,en-GB,eo,es-AR,es-CL,es-ES,es-MX,et,eu,fa,fi,fr,fy-NL,ga-IE,gl,gu-IN,he,hi-IN,hr,hu,id,is,it,ja,ka,kk,kn,ko,ku,lt,lv,mk,ml,mr,nb-NO,nl,nn-NO,oc,or,pa-IN,pl,pt-BR,pt-PT,rm,ro,ru,si,sk,sl,sq,sr,sv-SE,ta-LK,ta,te,th,tr,uk,vi,zh-CN,zh-TW}.xpi)

build() {
  cd "${srcdir}"
  for langfile in *.xpi; do
    lang=${langfile/.xpi/}
    msg "Building ${langfile}"
    bsdtar xf ${langfile} || return 1
    sed -i "s|jar:chrome/${lang}.jar|jar:${lang}.jar|" chrome.manifest || return 1
    install -D -m 644 chrome/${lang}.jar "${pkgdir}/usr/lib/icecat/chrome/${lang}.jar" || return 1
    install -D -m 644 chrome.manifest "${pkgdir}/usr/lib/icecat/chrome/${lang}.manifest" || return 1
  done
}

md5sums=('fd88b1d03a4fda9828497a0369aa01c3'
         'da14d8c92559c0bc3694dd1b6dc3910b'
         'b837d1f97a180f064367eb7dba2c325a'
         '7fa29f684b2dd57e546a1067f6534644'
         'b2fc4f2d18f05704c95fddff242233cb'
         'bb2bb3831c38f0e2efd6f14bb5c69156'
         '59f5749ff07e4f39657b5948cb841e81'
         '001e2942ee63efc844093f8ba6500509'
         'b7aff2cd055805086dd103d4e4feb37b'
         'a8924943f212995e9ab0e84f1587dfe7'
         '48f2e33d747c96384fbefd052343c57b'
         'af88af2bf49f38dcf3454cc97cfbbc3c'
         '06b470f3ea705f6eaca2de8723d1bbe3'
         '283d533870e83ef3d25fab8e073de5e3'
         '64757d39d54374ac007865f1d7d19b52'
         '578ed6dd5cc5dcf1b97b64928b0c589a'
         'df8cc259d2c483165ccd655a66de57c0'
         '3dd134506f501061fe1ae73b255dad2b'
         '882a0e7ce30f57df744ad0f36e2abead'
         '25e6add50b66a97e74ba71c1c3a3dff5'
         'e2c1fe74e75bed46e82197bd13748bef'
         '1e63123054232b928647e7c0cbadfc3d'
         '7ce57faf19d1442fafc807689649db52'
         '64a625fac85441e4846fb53b5e5fb837'
         'f598ecddc6cd6f60c79783e9d88345a3'
         '637241a9f1042709b9cfae24416ec694'
         'f0ca72d9d0ba89432c00dcb9a4d30e11'
         '2e53385331d6098314cfe5983fe5fc48'
         '8e077ff89f2e20a21d076643b46aa7d2'
         '638debd1170060294a91adbfc698d6af'
         'c67e423381ca2f1d2ce766c2e3dfa2e1'
         '55603fdd9e70d4a52fdabcc9aea9e036'
         '0121b5f0bee5d99f4e154b3db793b7f9'
         'd107176ea430171770c626b00de18f32'
         'dc7a3a75d3eeb3f3af9986641c7820af'
         '37d52d7d6b879cf98e689bdfba40671f'
         '77a5160236abe34ce32fb00d6ec9f82e'
         '21008dca697bae3bc5b94c8c366813d4'
         'd711ab96880500af690ca94e61818090'
         '81016f277811948be9fd0a48774db89c'
         '2ddafea0a24d1ceeb1ca376238b64bac'
         'fb3e5cf965d48a9aa92da52e1e74e713'
         '98c9d6680d53b78c02cb4a1ac2e3b575'
         'cf738b0a5e27e6f6ca96dcc1860bcd71'
         'c56cc268f72514f49b38389d9364e647'
         'd4ef658a5a1c34af86ffad50fb57f12d'
         '74e5ce98eb5585637f8e9ddb2559afde'
         'e41cd0130cc93d4663c88535f3198967'
         '8909b6011ba0a8abbb61767f4b9c5d1c'
         '82d858ba79496f7680dc4f024bc89498'
         '1ab8a8a998d2caa0d819005b91ed1c76'
         '2822297ce94ca094801aa62e2c32bb53'
         '71fb4edc73da5308abc4d6e7e0ea48f7'
         'ed29bda22f34b8744c01070ec08652d9'
         'cf9e78b7345b7a34d33b9c076fd875cc'
         '6130b8776cb0a3cb7c04914e8fd267e8'
         'f08033b99ede73554a3809428a552335'
         'c9226b10b302a17c23f17dc0de5d4d07'
         'c376fd27cf2f03bcd3d9258689f78a96'
         '3f547e849047c0da1dbe3feaff063dbd'
         '8d443b0c81293682157ac9bdf844dd7c'
         'e5fc329c771a148b801ac24d49ab1c5b'
         'b29da984d40e3907233fbab1a75b8e23'
         '8f18dee8a8a0230a8948f4a6aa569d7c'
         '12e4f69b333652ae7b49ff30ba898dce'
         '1d5dddc845ef97c331141c0852010ddd'
         '9044411bc8c0de2940ed90f5f4308b74'
         '046e74c03c629cd10ed1e9822feb890f'
         '431dfa6f9042dfd0e63c1ca8b16c25c9'
         'b064b99c728ef48c2bbbb2c292636aa8'
         'daa8b04598c587d7bba8134ce7b64c34'
         'd35ce759a1485148f6eb70319dfc921a'
         '725acfc1d8fb9fee86817bfa9b8d59ba')
