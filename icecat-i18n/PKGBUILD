# Maintainer: Figue <ffigue@gmail.com>
# Based on firefox-i18n package

pkgname=icecat-i18n
pkgver=3.6.13
pkgrel=1
pkgdesc="Language packs for IceCat"
arch=('any')
license=('MPL')
url="http://www.gnu.org/software/gnuzilla/"
depends=("icecat>=${pkgver}g1")
#_url=http://gnuzilla.gnu.org/download/langpacks/${pkgver}/GNU_IceCat-${pkgver}
_url=http://mirror.linuzeros.org/icecat/langpacks/${pkgver}/
source=(${_url}{af,ar,as,be,bg,bn-BD,bn-IN,ca,cs,cy,da,de,el,en-GB,eo,es-AR,es-CL,es-ES,es-MX,et,eu,fa,fi,fr,fy-NL,ga-IE,gl,gu-IN,he,hi-IN,hr,hu,id,is,it,ja,ka,kk,kn,ko,ku,lt,lv,mk,ml,mr,nb-NO,nl,nn-NO,oc,or,pa-IN,pl,pt-BR,pt-PT,rm,ro,ru,si,sk,sl,sq,sr,sv-SE,ta-LK,ta,te,th,tr,uk,vi,zh-CN,zh-TW}.xpi)

build() {
  cd "${srcdir}"
  for langfile in *.xpi; do
    lang=${langfile/.xpi/}
    msg "Building ${langfile}"
    bsdtar xf ${langfile} || return 1
    sed -i "s|jar:chrome/${lang}.jar|jar:${lang}.jar|" chrome.manifest || return 1
    install -D -m 644 chrome/${lang}.jar "${pkgdir}/usr/lib/icecat/chrome/${lang}.jar" || return 1
    install -D -m 644 chrome.manifest "${pkgdir}/usr/lib/icecat/chrome/${lang}.manifest" || return 1
  done
}

md5sums=('a5ce0f3e2e39dbdd1485e22a3206e0c5'
         '03060b53616b6e802544e18c02c4d2e0'
         '8de4c0d77548bc1387ca67dcb5fb2fe1'
         '78488c0c73166510054098bbf4f99811'
         'fc99d17f47c7c62750ea3caa4355bf8f'
         'f9fdc2819a6b783c38b01b9962fdc97d'
         '7d924ca5146f393c62db02b9cb397141'
         'de82f88eac9cf1bf2dc44598ed8d5ed9'
         'f1b7590c49a975b6ee78b9394506ab28'
         '13eb2138550029aa56b3a4c098e30e09'
         'fc1a0b66f07e8341ac18775ba10f0e14'
         '8fb83b0b840093c170483a62d17f8088'
         'bf3e6c7c9f61464a816234034054e2a3'
         'd5a2e9ea25083fafb3dadecade68d076'
         'b073659f43a52cb8c06cce27ae7091a2'
         'a7c0f519949b31f700b52261ce6b0e4d'
         '7c4ef40c0c98adf5d2f277ae5b5791eb'
         'f3f4db1310041067e435263f0459b9f7'
         '487aa6db03fe30109f24a446a06d88c8'
         '04f00a5f8e65be6aa20a7fdbaf2acd6b'
         'd128d728c4578ce8685161f1590b0f8f'
         '33473fe4546c051048c64cf09b210435'
         '700a27d7030a418a61a4b7ac5eda8813'
         '06c515d141935061cc14b1c7d13a1c14'
         'd23e42f8da83058c44d968cb32363b05'
         '01ba9fba60995d67d12546d271b1305c'
         'f6b5486f3558840b3be163ab48a247aa'
         'ca1ba2e3ef84daf96149616f57b37683'
         '65aef65d85e7593282d7bdd94be58c33'
         '4a808c48b2d34b6bc8b8f87331be26ef'
         'dcfc8e37c319a06268337eea799b2eb7'
         '4b21a06115cd09f7e31099ab6c9055f9'
         '3710df0bf3e0a10b62622acdd821d7b2'
         '51e369ada2236cb97ae9b0b48a2fcf0d'
         '1251d24ec7d5d3ecf3b1ed40b3bcb979'
         'e488b126397dce6ba9946070937a3630'
         '00cb4cf77c10d937d7b342be034af95a'
         '4338723439f8376b574947b2016f1855'
         '51f2bbb696d2edead75856d999014dc6'
         '89cdf5a9813d9a0823a680cb13a405ae'
         '846d76e95e1632f87d40654e75a70a2f'
         'cf9b1e9d1325e2b233e270cc1478135d'
         '245ee1f1fd9804c10866d3a997a4b682'
         '829e61ece499d0aeb86f62d5894138ca'
         '4a61ef0a973554bedf72644eeb61c65c'
         '5105dfdccfc307c5142ed096e0640f1d'
         'f7025b2ef666337d9430c55a729a39c4'
         '61df5934b8e06c0a21fd72830ded8408'
         '9df09cf289a1f88a8ac5c36377fb4bf0'
         '1df9b8506512384fc5cabec655206d3a'
         '3b2ac562b9bdb68c937665d7679e304c'
         '2c94eb90659ae7485ba734494b965b6e'
         '0f891d7c110cc2e29aacf040295c39c8'
         'ce4b5d6278191794a4b04754bbfb3a9d'
         '3dcf46418a45a463458472c1a8809a3c'
         '575e6e314612d515e88c26763b85cab6'
         '7e02cb77f2d2e6daf09fa61e0cc03366'
         '7ed5175b4f4879fb55def78c4b12c7b3'
         '6d848f81dadf0b202905e1b8c688f56f'
         '43fbd8310abec2b6897d20338e76937e'
         'b78f0b70b731ab585cf3c50b9cea76b0'
         'acd79ab4b217a86872501efd91f50920'
         '274c64823b83e98cee7d85afb8845c48'
         'a0358e7a1fe649a7bd0a199c3e50edf9'
         'e17043be93bab1d7e1772eb3e7b55ba4'
         '692c6ad30331934cbc9bea7228e282c6'
         'b021e2cfc296932f783e583a68c4a7f2'
         'd215e21734a5b38ebbd4b18a21ce73f0'
         '3f51b227a9661685cbec3001de0b9077'
         '985fdb291b49564256e3b4b6aed700e8'
         'ebfb48740fd182399d050ae7f5b00b55'
         '05f033997a8f5de1158e1771776a4df7'
         'ef784d772671ba073bcb0cdd96fd048b')
