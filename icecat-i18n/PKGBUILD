# Maintainer: Figue <ffigue@gmail.com>
# Based on firefox-i18n package

pkgname=icecat-i18n
pkgver=3.6.14
pkgrel=1
pkgdesc="Language packs for IceCat"
arch=('any')
license=('MPL')
url="http://www.gnu.org/software/gnuzilla/"
depends=("icecat>=${pkgver}g1")
#_url=http://gnuzilla.gnu.org/download/langpacks/${pkgver}/GNU_IceCat-${pkgver}
_url=http://mirror.linuzeros.org/icecat/langpacks/${pkgver}/
source=(${_url}{af,ar,as,be,bg,bn-BD,bn-IN,ca,cs,cy,da,de,el,en-GB,eo,es-AR,es-CL,es-ES,es-MX,et,eu,fa,fi,fr,fy-NL,ga-IE,gl,gu-IN,he,hi-IN,hr,hu,id,is,it,ja,ka,kk,kn,ko,ku,lt,lv,mk,ml,mr,nb-NO,nl,nn-NO,oc,or,pa-IN,pl,pt-BR,pt-PT,rm,ro,ru,si,sk,sl,sq,sr,sv-SE,ta-LK,ta,te,th,tr,uk,vi,zh-CN,zh-TW}.xpi)

build() {
  cd "${srcdir}"
  for langfile in *.xpi; do
    lang=${langfile/.xpi/}
    msg "Building ${langfile}"
    bsdtar xf ${langfile} || return 1
    sed -i "s|jar:chrome/${lang}.jar|jar:${lang}.jar|" chrome.manifest || return 1
    install -D -m 644 chrome/${lang}.jar "${pkgdir}/usr/lib/icecat/chrome/${lang}.jar" || return 1
    install -D -m 644 chrome.manifest "${pkgdir}/usr/lib/icecat/chrome/${lang}.manifest" || return 1
  done
}

md5sums=('2a2d3234b6f6fd46c8254eb16aed915f'
         'a3f2d5efe9be529d3d685121cf05c90b'
         'abeafcd8723686dcf74a7a4cc0ffbd04'
         'ff42aeff85b675cc0677a4ad3ba1ce0e'
         'c0724644001650c18fad201daf7abdf1'
         'd3ca60d7ad41472b92379ed23e003d74'
         '4338ad6829fe0db0dac56b13eb335a09'
         '322c24017294d110eebd8b44bfac5b57'
         '9e6d27edf38057741453b3577e7b47bd'
         'ef2aea8971aa1182589ed9a8f6a550d7'
         'a374b9a5d05c9b4198580a3eae1a16e6'
         'addeafb3737575d6686c0cef9f5371dc'
         'd94a15c783c4cebf372f783809fafd66'
         'b31100e34351c07cbfa6fb7070aa0474'
         '8ca158ac8097c0c6e4947a8d102c0e79'
         'a807a149eb54294ae77985fc37bfeb15'
         '49954b89815df7f0c8cd65d115ae6bb7'
         '80ee06dcb509ad2d42c5f0be55855a05'
         '1edce187836f4d6095f02a88fa14934d'
         '3e781d0ee31c93ffdd8cffcd71b90a77'
         '3af486b2b4b3da51cd1e704d7cffba3f'
         '0becafa161c79aed1e00a8e365829eac'
         'fe1e5e2e7d315360811cf15d4bd33a95'
         '32c05878acfa61ec4274f3fdbee4095b'
         '433a41524a8c36aef069375a5e6db6be'
         'a8b9671cefaee80d03bdefdb490d69f4'
         'b8102e04ba3e1c4e18993ebd692cd35a'
         '7cb1ec70fba643d274102506cf4ea22c'
         'fb5aa16f4a38cea061e80b70b1d0bbc6'
         'd7b022a5cb8c45acd242c7eb0e9bb85c'
         '75dfe42197b558246686e6c96ba8214c'
         '1564ac3407f540ab1e42ff29b23d8cf0'
         '8e384ec2427f22daa50b5894f207101c'
         '0475551ed7cd44c4ac1c0a676d55b888'
         'd1ffe62482833b8498939530a950ded3'
         '8c984af7aa2dbbe4d1b2c1137498ce42'
         'c41dca1fbb6a0ab741613b2ab92d63a2'
         '05e12ada04a53d66495f425d42c0e577'
         '22e92eb8ac7a59ab8ca43005af209595'
         'e8c6fa84d62ba37df916d71de23a1f5e'
         'd60c7852b3b035b9d30c3154e0952fc5'
         'f473c12e8c4118fd69dca425012c4254'
         '1f6ab31accfa16e5eda281d3b4a3882b'
         '2599b2c0d83ca74f9467f77db3143c37'
         '6613557f37eee8e33e0ea5658938744d'
         '5d9bf35e6b9c1cd99f138070ca8728f1'
         '8d7fad966d40484dd9a4ddfc7405c3c6'
         '7a9af9c2fbadef3db56d0f9d57901f25'
         '12d01377f8ebe4716fb357e30cc77b6e'
         '9782b8a55f8479592387a851df3d74f6'
         '838bda0221833170b23415a0dbc624b7'
         '3353e878177f43cd2bcc750fea8eb9b2'
         '28a49721ab4b37b008a92e2bc1ab3ae3'
         '845c4effb086d271b0495df0aa0f47e8'
         '336752442b290b6b8fe01a2d0d61f2aa'
         '47c193bc8b9ef1c8a4b2f2aa6d659d50'
         '1ff20bdc28849898332ff1a32b8bb75b'
         'b0193b44b80a140f0e51e374104b182a'
         '39f61be3353e77948fdc2be122710b11'
         '0367ecc3aef9cb90e09c948704faf745'
         'f4a8ac3d42a331a8e0ab884896c362a5'
         '1e9271cba73d3f01587c26666a350b96'
         '3b7e1f6298222f91bec4f663f45043da'
         'f4c51dfa4f0d210d7b5164e82c7c546c'
         '4643b7d39b381cb379d92a9eb8f056dc'
         '5f2356b6a909ef6545d55066b09ba0f3'
         'bf62409f4871f6e9eb9af4db122a07b7'
         '57ec8c0714cdbfb81799e8d67dfd4a5d'
         '577db92f70c605b1e4f6c7d7736d895c'
         '6a01b48579c0ed2c339f14ceb5756090'
         '0f9e1d9951f795d867d8a4ff47198874'
         '56c2b0845bfc83c3607897da76f0d208'
         'cd7b14a9244b3ef3b868726adf90ee2c')
