# $Id: PKGBUILD,v 1.13 2009/03/30 15:50:37 zhayl Exp $
# Maintainer: Daniel Illgen <daniel.illgen@googlemail.com>
# Original PKGBUILD: Sergej Pupykin <sergej@aur.archlinux.org>

pkgname=fpc-crossw32
pkgver=2.4.0
pkgrel=1
pkgdesc="fpc/win32 cross compiler and units"
arch=('i686' 'x86_64')
url="http://www.freepascal.org/"
license=('GPL' 'LGPL' 'custom')
depends=('fpc=2.4.0')
source=(ftp://ftp.freepascal.org/pub/fpc/dist/$pkgver/source/fpcbuild-$pkgver.tar.gz)
md5sums=('af49e9a8bb632f361395add30ece8934')

build() {
  cd ${srcdir}/fpcbuild-$pkgver
  make NOGDB=1 build OS_TARGET=win32 CPU_TARGET=i386 || return 1
  make NOGDB=1 PREFIX=${pkgdir}/usr crossinstall OS_TARGET=win32 CPU_TARGET=i386 || return 1
  rmdir ${pkgdir}/usr/bin
}
