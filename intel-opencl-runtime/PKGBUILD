# Contributor: Wei-Ning Huang <aitjcize@gmail.com>
# Maintainer: Wei-Ning Huang <aitjcize@gmail.com>

pkgname='intel-opencl-runtime'
pkgver=2014_R1
pkgrel=1
pkgdesc="Intelâ€™s implementation of the OpenCL standard optimized for Intel processors."
arch=('x86_64')
url="http://software.intel.com/en-us/vcsource/tools/opencl"
license=('intel')
depends=('opencl-headers' 'libcl' 'llvm' 'intel-tbb' 'numactl' 'intel-opencl-sdk')
makedepends=('rpmextract')
provides=('opencl')
install='intel-opencl-sdk.install'
source=('http://registrationcenter.intel.com/irc_nas/4181/opencl_runtime_14.1_x64_4.4.0.117.tgz')
sha256sums=('39707efae91bcacef443a3177f88e2069efedbeec6e82b47bdd84da92d602c34')
_ipath="/opt/intel/opencl-sdk"

package() {
  #Unpack RMP
  cd "${srcdir}"/opencl_runtime_*/
  for i in *.rpm; do  rpmextract.sh "$i"; done

  #Install files
  mkdir -p "${pkgdir}/${_ipath}"
  cp -r opt/intel/opencl-*/* "${pkgdir}/${_ipath}"
}
