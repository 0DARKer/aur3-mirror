# Contributor: Yejun Yang (yejunx AT gmail DOT com)

pkgname=ec2-api-tools
pkgver=1.3
_pkbuild=62308
pkgrel=2
pkgdesc="The API tools serve as the client interface to the Amazon EC2 web service. Use these tools to register and launch instances, manipulate security groups, and more."
arch=('any')
url="http://developer.amazonwebservices.com/"
source=(http://ec2-downloads.s3.amazonaws.com/$pkgname-$pkgver-$_pkbuild.zip)
depends=(java-runtime)
license=('custom')

build() {
  cd $srcdir/$pkgname-$pkgver-$_pkbuild
  mkdir -p $pkgdir/usr
  cp -r lib $pkgdir/usr
  find $pkgdir -type f | xargs chmod 644
  sed -i 's#^EC2_HOME=.*$#EC2_HOME=/usr#' bin/*
  sed -i 's#^JAVA_HOME=.*$#JAVA_HOME=/usr#' bin/ec2-cmd
  cp -r bin $pkgdir/usr
  rm $pkgdir/usr/bin/*.cmd
  mkdir -p $pkgdir/usr/share/licenses/$pkgname/
  install -m 644 license.txt $pkgdir/usr/share/licenses/$pkgname/
  install -m 644 THIRDPARTYLICENSE.TXT $pkgdir/usr/share/licenses/$pkgname/
}

md5sums=('cd0de5244f01a3d402ec2461d05f06aa')
