# Maintainer: Jakob Gahde <j5lx@fmail.co.uk>
# Contributor: Your Name <youremail@domain.com>

pkgname=ocp-build
pkgver=1.99.8_beta
pkgrel=1
pkgdesc="a build system for OCaml applications"
arch=('i686' 'x86_64')
url="http://www.typerex.org/${pkgname}.html"
license=('GPL3')
depends=('ocaml')
source=("http://www.typerex.org/pub/${pkgname}/${pkgname}.${pkgver/_/-}.tar.gz" "destdir.patch")
md5sums=('e476608ad528dd60550cda17434c53ea'
         '5adb0435ad529302e250e0f1edd9ce8a')

prepare() {
  cd "${srcdir}/${pkgname}.${pkgver/_/-}"

  patch -N < "$srcdir/destdir.patch"
}

build() {
  cd "${srcdir}/${pkgname}.${pkgver/_/-}"

  ./configure --prefix=/usr

  make
}

package() {
  cd "${srcdir}/${pkgname}.${pkgver/_/-}"

  make DESTDIR="$pkgdir/" install
}
