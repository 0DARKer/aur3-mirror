# Maintener: Nic0 <nicolas.caen@gmail.com>

pkgname=tyrs
pkgver=0.1.0
pkgrel=1
pkgdesc="A lightweight console Twitter Client using ncurse and Python."
arch=('any')
url="https://github.com/Nic0/tyrs"
license=('GPL')
depends=('python-twitter')
source=('http://src.nicosphere.net/tyrs/tyrs-0.1.0.tar.gz')
md5sums=('f64279c55f5908fd1e29c801964a6e12')

build() {
  cd "$srcdir"

  tar xvf $pkgname-$pkgver.tar.gz && cd $pkgname

  # Python2 fixes
  sed \
        -e "s_\(env python\).*_\12_" \
        -e "s_\(bin/python\).*_\12_" \
        -i `grep -rlE "(env python|bin/python)" .`

  python2 setup.py build
}

package() {
  cd "$srcdir/$pkgname"

  python2 setup.py install --prefix=/usr --root="pkgdir"
}