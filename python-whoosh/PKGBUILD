# Maintainer: Steven Allen <steven@stebalien.com>
# Contributor: Piotr Husiaty≈Ñski <phusiatynski@gmail.com>

pkgname=python-whoosh
pkgver=1.8.4
pkgrel=1
pkgdesc="Fast, pure-Python full text indexing, search, and spell checking library"
license=("BSD")
url="http://bitbucket.org/mchaput/whoosh/wiki/Home"
depends=('python2')
makedepends=('python2-distribute' 'python2-nose')
source=(http://pypi.python.org/packages/source/W/Whoosh/Whoosh-$pkgver.tar.gz)
arch=('any')
md5sums=('2131867bb1489d91c83af7aa0a3d7a4e')

check() {
  cd ${srcdir}/Whoosh-$pkgver
  python2 setup.py test
}

package() {
  cd ${srcdir}/Whoosh-$pkgver
  python2 setup.py install --root=${pkgdir} --optimize=1

  chmod 644 ${pkgdir}/usr/lib/python*/site-packages/Whoosh-${pkgver}-py*.egg-info/*
  install -D -m644 LICENSE.txt "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"
}
