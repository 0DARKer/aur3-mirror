# Maintainer: Steven Allen <steven@stebalien.com>
# Contributor: Piotr Husiaty≈Ñski <phusiatynski@gmail.com>

pkgname=python-whoosh
pkgver=2.2.2
pkgrel=1
pkgdesc="Fast, pure-Python full text indexing, search, and spell checking library"
license=("BSD")
url="http://bitbucket.org/mchaput/whoosh/wiki/Home"
depends=('python2')
makedepends=('python2-distribute' 'python2-nose')
source=("http://pypi.python.org/packages/source/W/Whoosh/Whoosh-$pkgver.tar.gz")
arch=('any')
md5sums=('1407373e632fb80478c84006946e54e2')

check() {
  cd "${srcdir}/Whoosh-$pkgver"
  python2 setup.py test
}

package() {
  cd "${srcdir}/Whoosh-$pkgver"
  python2 setup.py install --root="${pkgdir}" --optimize=1

  install -D -m644 LICENSE.txt "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"
}
