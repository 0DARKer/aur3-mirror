# Maintainer: b4283

pkgname=hime
pkgver=0.9
pkgrel=2
pkgdesc="HIME is a better input method forked from gcin."
arch=(i686 x86_64)
url="http://hime.luna.com.tw"
license=('LGPL 2.1')
depends=(gtk2 libxtst)
makedepends=()
options=()
install=install
source=("http://hime.luna.com.tw/${pkgname}-${pkgver}.tar.xz")
md5sums=("3c70fb0138b61402b7f2215dc14a6d9d")

build() {
  cd "$srcdir/$pkgname-$pkgver"

  # not using qt3 for arch's qt3 is put in /opt/qt, which needs some change
  # in the configure script.
  #

  ./configure --prefix=/usr --use_qt3=N

  sed -i '18s|.*|\t/usr/bin/moc $< -o moc_hime-qt.cpp|' qt4-im/Makefile

  # unused qt3 string replacement
  # sed -i '15s|.*|\t/opt/qt/bin/moc $< -o $<_moc.cpp|' qt-im/Makefile

  make
}

package() {
  cd "$srcdir/$pkgname-$pkgver"
  make DESTDIR="$pkgdir/" install
}

# vim:set ts=2 sw=2 et:
