# Contributor: Jonas Heinrich <onny@project-insanity.org>
# Maintainer: Jonas Heinrich <onny@project-insanity.org>

pkgname=double-conversion
pkgver=1.1.5
pkgrel=1
pkgdesc="Binary-decimal and decimal-binary routines for IEEE doubles"
arch=('i686' 'x86_64')
url="https://code.google.com/p/double-conversion/"
license=('BSD3')
makedepends=('scons')
sha512sums=('4790a126f7354f512b360de30aff7664e66655f1f0ac6b7e6018c91c88f2fa8276c2e46e185defa9f838115dd8bb0f0dd95ed0e13fbccceededf221990acfe1d')
source=("https://double-conversion.googlecode.com/files/${pkgname}-${pkgver}.tar.gz")
build() {
    cd "${srcdir}"
    make
}
package () {
    cd "${srcdir}"
    mkdir -p "${pkgdir}/usr/lib"
    install -m644 libdouble-conversion.a "${pkgdir}/usr/lib/" 
    install -m644 libdouble-conversion_pic.a "${pkgdir}/usr/lib/" 
    install -m644 libdouble-conversion.so.0.0.0* "${pkgdir}/usr/lib/"
    ln -s /usr/lib/libdouble-conversion.so.0.0.0 "${pkgdir}/usr/lib/libdouble-conversion.so.0"
    ln -s /usr/lib/libdouble-conversion.so.0 "${pkgdir}/usr/lib/libdouble-conversion.so"
    mkdir -p "${pkgdir}/usr/include/double-conversion"
    cp src/*.h "${pkgdir}/usr/include/double-conversion"
    install -D "COPYING" "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"
}

# vim:set ts=4 sw=4 et:
