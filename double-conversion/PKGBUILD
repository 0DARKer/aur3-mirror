# Contributor: Jonas Heinrich <onny@project-insanity.org>
# Maintainer: Jonas Heinrich <onny@project-insanity.org>

pkgname=double-conversion
pkgver=1.1.1
pkgrel=1
pkgdesc="Binary-decimal and decimal-binary routines for IEEE doubles"
arch=('i686' 'x86_64')
url="https://code.google.com/p/double-conversion/"
license=('BSD3')
makedepends=('scons')
sha512sums=('e116196eb60077565050995b060049747a3c72e743eea21c6c9fb68414adc533d456d19e1ca241f08895cca97a38511477bdc7d2e0cae38d149c83cb9d6896ad'
            'c1f372c5101105cff50b74fd5262252cf1da9a92f9df62da1547a2b8e7ade14c1b0df11b27505d60d3b35b6b29fd86363ac7f4f825d04c24aa5c8af0ad8970a1')
source=("https://double-conversion.googlecode.com/files/${pkgname}-${pkgver}.tar.gz"
        "https://raw.github.com/facebook/folly/master/folly/SConstruct.double-conversion")
build() {
    cd "${srcdir}/${pkgname}"
    scons -f ../SConstruct.double-conversion
    scons
}
package () {
    cd "${srcdir}/${pkgname}"
    mkdir -p "${pkgdir}/usr/lib/double-conversion"
    install -m644 libdouble_conversion.a "${pkgdir}/usr/lib/" 
    install -m644 libdouble_conversion_pic.a "${pkgdir}/usr/lib/" 
    mkdir -p "${pkgdir}/usr/include/double-conversion"
    cp src/*.h "${pkgdir}/usr/include/double-conversion"
}

# vim:set ts=4 sw=4 et:
