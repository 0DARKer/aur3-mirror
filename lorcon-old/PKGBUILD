# Contributor: fnord0 [fnord0 <AT> riseup <DOT> net]
pkgname=lorcon-old
pkgrel=1
makedepends=('subversion')
pkgver=197
pkgdesc="Loss Of Radio CONnectivity: A generic library for injecting 802.11 frames, capable of injection via multiple driver frameworks, without forcing modification of the application code."
url="http://802.11ninja.net"
license="GPL"
source=()
md5sums=()
arch=('i686' 'x86_64')

_svntrunk=http://802.11ninja.net/svn/lorcon/branch/lorcon-old/
_svnmod=lorcon-old

build() {
	cd ${startdir}/src

	if [ -d ${_svnmod}/.svn ]; then
	msg "Updating lorcon-old SVN..."
		cd ${_svnmod} && svn up
	else
	msg "Checking out lorcon-old SVN..."
		svn co ${_svntrunk} -r 224 ${_svnmod}
	fi

        msg "SVN checkout done or server timeout"
	msg "Starting make..."
        cd ${startdir}/src/${_svnmod}

	./configure --prefix=/usr || return 1
	make || return 1
	make DESTDIR="${startdir}/pkg/" install || return 1
}
