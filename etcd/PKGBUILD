# Maintainer: xeross <contact@xeross.me>
pkgname=etcd
pkgver=0.3.0
pkgrel=1
pkgdesc="A highly-available key value store for shared configuration and service discovery"
arch=('x86_64' 'i686')
url="http://coreos.com/docs/etcd/"
license=('Apache License 2.0')
depends=()
makedepends=('git' 'go')
source=(
   "${pkgname}::git://github.com/coreos/etcd.git#tag=v${pkgver}"
   "${pkgname}ctl::git://github.com/coreos/etcdctl.git#tag=v${pkgver}"
)
sha256sums=(
  'SKIP'
  'SKIP'
)

package() {
  cd "$srcdir/$pkgname/"
  ./build
  cd "$srcdir/etcdctl/"
  ./build

  # install binaries
  install -D -m 755 "${srcdir}/etcd/bin/etcd" "$pkgdir/usr/bin/etcd"
  install -D -m 755 "${srcdir}/etcdctl/bin/etcdctl" "$pkgdir/usr/bin/etcdctl"
}

# vim:set ts=2 sw=2 et:
