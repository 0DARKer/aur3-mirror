# Maintainer: Alfredo Ramos <alfredo dot ramos at yandex dot com>

pkgname=ultra-flat-icons
pkgver=1.1
pkgrel=4
pkgdesc="A simple flat icon theme, derived from Flattr icon theme."
arch=(
	"$CARCH"
)
url="http://gnome-look.org/content/show.php/Ultra-Flat-Icons?content=167477"
license=(
	"CCPL:cc-by-sa-3.0"
)

depends=()
optdepends=()
makedepends=()
provides=(
	"${pkgname}=${pkgver}"
)
conflicts=(
	"${pkgname}<=${pkgver}"
)
replaces=(
	"${pkgname}<=${pkgver}"
)

install=${pkgname}.install

# Original source <https://www.dropbox.com/s/dktl70lh4lnhp0a/ultra-flat-icons.tar.gz>
source=(
	"https://www.dropbox.com/s/uiaoxwdjxjddyjl/${pkgname}-${pkgver}-${pkgrel}.tar.gz"
	"${pkgname}.install"
)
md5sums=(
	"17e031a1d467f2aadf4c8d165b160b48"
	"6ea1bd61d0e9ca6542277bdbc4b1e924"
)
sha512sums=(
	"4f54873eabdbad9e7b7b9100677fe0e910d91a7736284fbbed6b52b31f2a9f6e054c8a15c225fb4a69990c12d0ccbe9e771434aca5865548e23b3f3bf557b1a0"
	"8027469ed1abd10a0bb014af6eb97b063184442a240dcd4d70c3326285b339d10117842b7e01408555e14ab1e74e8fea80834444090465ac5f2b41d7d62e078c"
)

_iconset=UltraFlatIcons

package() {
	# Create base directories
	install -dm755 ${pkgdir}/usr/share/icons
	
	# Copy icon set
	install -dm755 ${pkgdir}/usr/share/icons/${_iconset}
	cp -R ${srcdir}/${pkgname}/* ${pkgdir}/usr/share/icons/${_iconset}
	
	# Change current working directory
	cd ${pkgdir}/usr/share/icons/${_iconset}
	
	# Education category fix
	ln -fsr ./apps/scalable/scholar.svg ./categories/scalable/applications-science.svg
	
	# Multimedia category fix
	rm -f apps/scalable/applications-multimedia.svg
	ln -fsr apps/scalable/openshot.svg categories/scalable/applications-multimedia.svg
	
	# Office category fix
	ln -fsr apps/scalable/libreoffice34-startcenter.svg categories/scalable/applications-office.svg
	
	# Wicd icon fix
	install -dm755 ${pkgdir}/usr/share/icons/${_iconset}/extras/pixmaps/wicd
	ln -fsr apps/scalable/wicd-gtk.svg extras/pixmaps/wicd/wicd-gtk.svg
	ln -fsr apps/scalable/wicd-qt.svg extras/pixmaps/wicd/wicd-qt.svg
}