# Maintainer: Alexander Ovsyannikov <ovsinc@ya.ru>
# Contributor: Alexander Ovsyannikov <ovsinc@ya.ru>

pkgname=openarch_dmenu_scripts
pkgver=0.4
pkgrel=1
pkgdesc="Mount/umount scripts using dmenu"
arch=('any')
groups=('openarch_scripts')
url="http://ovsinc.narod.ru/"
license=('GPL')
depends=('dmenu' 'udisks' 'dbus-python' 'python-notify')
source=('openarch_dmenu.tar.gz' 'setup.py' 'dmenu_udisks.tar.gz')

build() {
	cd "${srcdir}"
	install -d -m755 "${pkgdir}"/usr/share/dmenu_udisks
	install -d -m755 "${pkgdir}"/usr/bin
	install -m644 "${srcdir}"/icons/* "${pkgdir}"/usr/share/dmenu_udisks

	# wrapper scripts
	install -m755 "${srcdir}"/scripts/*.sh "${pkgdir}"/usr/bin/
	ln -sf mount.sh "${pkgdir}"/usr/bin/umount.sh
	
	# python script
	python2 "${srcdir}"/setup.py build
	python2 "${srcdir}"/setup.py install --root="${pkgdir}/"
}
md5sums=('46dd0de5faeed1785a4e363d2a77ca32'
         '7a48867937c696fd4e7b74273c5a551e'
         'b2187fb8de324e5e0abb2906068719f1')
