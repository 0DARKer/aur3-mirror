# Contributer: Gustavo Alvarez <sl1pkn07 [at] gmail [dot] com>
pkgname=hlextract
pkgver=2.4.0
pkgrel=1
pkgdesc="Extract Tool and Lib for open BSP, GCF, NCF, PAK, VPK, WAD, XZP (Half-Life and other games)"
arch=('any')
url="http://nemesis.thewavelength.net/index.php?c=108"
license=('GPL' 'LGPL')
makedepends=('patch' 'hd2u')
provides=('hlextract' 'hllib')
md5sums=('eb42ff64004b0b772c45256f04180ac1' '7fbf900d33b0b32df58bc8384b76a6c7' '049d11777005392e17674b193a5722da')

source=(http://nemesis.thewavelength.net/files/files/hllib240.zip
hllib220-abuild.patch
hllib230-makefile.patch)

build() {
     cat hllib220-abuild.patch | patch -p1
     cat hllib230-makefile.patch | patch -p1
     make -C HLLib PREFIX=/usr
     make -C HLLib -f Makefile install PREFIX="$pkgdir"/usr
     gcc HLExtract/Main.c -o HLExtract/hlextract -lhl
     dos2unix Readme.txt
     install -Dm755 $srcdir/HLExtract/hlextract $pkgdir/usr/bin/hlextract
     install -Dm755 $srcdir/Readme.txt $pkgdir/usr/share/doc/$pkgname/Readme.txt
     install -Dm755 $srcdir/GPL.txt $pkgdir/usr/share/licenses/$pkgname/GPL.txt
     install -Dm755 $srcdir/LGPL.txt $pkgdir/usr/share/licenses/$pkgname/LGPL.txt
}

# vim:set ts=4 sw=4 et: