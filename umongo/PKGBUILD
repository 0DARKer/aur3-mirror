
# Maintainer: Guy de Pourtalès <guy at gadp dot ch>
# Contributor: Guy de Pourtalès <guy at gadp dot ch>

pkgname=umongo
pkgver=1.4.1
pkgrel=1
pkgdesc="This package provides a GUI app that can browse and administer a MongoDB cluster"
arch=('any')
url="http://www.edgytech.com/umongo/"
license=('GPL')
depends=('java-runtime' 'bash')
provides=('umongo')
source=(https://s3.amazonaws.com/edgytech/umongo-linux-all_1-4-1.zip $pkgname.sh $pkgname.png $pkgname.desktop)
md5sums=('e8382de19da164f633cac245934b9ccc'
         '9a060f5049875f2c7d174f6490185927'
         '4f2e531c9f804dcd389fc356d11d2687'
         '0c4db4a65e2455e7a73cc143b342e317')


package() {
  cd $srcdir
  install -d -m755 $pkgdir/usr/{bin,share/{$pkgname,pixmaps,applications}}
  cp -R $srcdir/umongo-linux-all_1-4-1/* $pkgdir/usr/share/$pkgname/
  install -m755 $srcdir/$pkgname.sh $pkgdir/usr/bin/$pkgname.sh

  mkdir $pkgdir/usr/share/$pkgname/conf
  chmod 777 $pkgdir/usr/share/$pkgname/conf
  mkdir $pkgdir/usr/share/$pkgname/xml
  chmod 777 $pkgdir/usr/share/$pkgname/xml

  install -m644 ../$pkgname.png $pkgdir/usr/share/pixmaps/$pkgname.png
  install -m644 ../$pkgname.desktop $pkgdir/usr/share/applications/$pkgname.desktop

  rm -f $pkgdir/usr/share/$pkgname/{*.zip,*.png,*.desktop}

}
