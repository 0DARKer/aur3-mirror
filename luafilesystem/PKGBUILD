# Contributor: Andreas Baumann <abaumann at yahoo dot com>

pkgname=luafilesystem
pkgver=1.5.0
pkgrel=1
pkgdesc="LuaFileSystem offers a portable way to access the underlying directory structure and file attributes."
arch=('i686' 'x86_64')
url='http://keplerproject.github.com/luafilesystem/'
license=('custom')
makedepends=('lua>=5.1')
source=(https://github.com/downloads/keplerproject/${pkgname}/${pkgname}-${pkgver}.tar.gz
        luafilesystem-arch.patch)
md5sums=('3cf4882bbce956e7a0b010f148f194a3'
         'a2141973599ccc7e47d9bd9520f8456e')

build() {
  cd ${srcdir}/${pkgname}-${pkgver}

  patch -p1 < ${srcdir}/luafilesystem-arch.patch

  make || return 1
  make DESTDIR=${pkgdir} install || return 1

  install -D -m0644 ${srcdir}/${pkgname}-${pkgver}/doc/us/license.html ${pkgdir}/usr/share/licenses/$pkgname/license.html || return 1
}
