# Maintainer: IgnorantGuru http://igurublog.wordpress.com/contact-ignorantguru/
# Thanks to ridikulus_rat for PKGBUILD improvements
pkgname="spacefm"
pkgver=0.5.4
pkgrel=1
pkgdesc="A multi-panel tabbed file manager"
arch=('i686' 'x86_64')
url=("http://spacefm.sourceforge.net/")
license=('GPL2')

makedepends=('intltool' 'gettext')
depends=('gtk2' 'shared-mime-info' 'desktop-file-utils' 'startup-notification')
optdepends=('ktsuss: perform as root functionality' 'gksu: perform as root functionality' 'gnome-icon-theme' 'wget' 'lsof' 'udisks: automount and device manager' 'eject')

options=('!strip')
install="spacefm.install"

source=("http://downloads.sourceforge.net/project/spacefm/spacefm-${pkgver}.tar.xz")
md5sums=('93041d05af5e10c4cadc6cc991c9859a')
sha256sums=('fc3e0775d0d7d44d81b898bbba5a2d9b89d5c33b266f59695ee6107d31978278')

build() {
    cd "${srcdir}/${pkgname}-${pkgver}"
    echo
    
    # NOTE: To enable hal support add --enable-hal to
    # configure line below. See README for details.
    # NOTE: To disable inotify and use fam or gamin instead, add:
    # --disable-inotify to configure line below.
    # NOTE: To add a custom su program (mysu in this example), add:
    # --with-preferable-sudo="mysu"  to configure line below.
    
    CFLAGS+="-g" ./configure --prefix="/usr"
    echo
    CFLAGS+="-g" make
    echo
}

package() {
    cd "${srcdir}/${pkgname}-${pkgver}"
    echo
    make DESTDIR="${pkgdir}/" install
    echo
}

