# Maintainer: Det <nimetonmaili at gmail a-dot com>
# Based on [testing]'s gdk-pixbuf2

_pkgbase=gdk-pixbuf
pkgname=gdk-pixbuf-dev
pkgver=2.23.1
pkgrel=1
pkgdesc="An image loading library for gtk2 - Bleeding edge version"
arch=('i686' 'x86_64')
url="http://www.gtk.org/"
license=('GPL2')
depends=('glib2>=2.28.1' 'libpng>=1.4.3' 'libtiff>=3.9.4' 'libjpeg>=8.0.2' 'libx11')
makedepends=('gtk-doc' 'gobject-introspection')
conflicts=('gdk-pixbuf2')
provides=("gdk-pixbuf2=${pkgver}")
options=('!libtool')
install=gdk-pixbuf-dev.install
source=(http://ftp.gnome.org/pub/GNOME/sources/${_pkgbase}/2.23/${_pkgbase}-${pkgver}.tar.bz2)
sha256sums=(`wget ${source/.t*}.sha256sum -qO - | grep tar.bz2 | cut -d " " -f1`)

build() {
  cd ${_pkgbase}-${pkgver}

  ./configure --prefix=/usr \
    --without-libjasper \
    --with-included-loaders=png
  make
}

package() {
  cd ${_pkgbase}-${pkgver}

  make DESTDIR="${pkgdir}" install
}