# $Id:$
# Contributor: (sirocco AT ngs.ru)
# Maintainer: (sirocco AT ngs.ru)


pkgname=doublecmd-qt-ppa
_pkgname=${pkgname%-ppa}
pkgver=0.5.2
_pkgver=4191
pkgrel=1
_pkgsuf=M~natty
pkgdesc="Double Commander is a cross platform open source file manager with two panels side by side. It is inspired by Total Commander and features some new ideas."
arch=('i686' 'x86_64')
url='http://doublecmd.sourceforge.net'
# https://launchpad.net/~alexx2000/+archive/doublecmd
depends=('qt' 'qt4pas')
optdepends=('lua: scripting' 'p7zip: support for 7zip archives' 'libunrar: support for rar archives')
provides=('doublecmd' 'doublecmd-ppa')
conflicts=('doublecmd-svn' 'doublecmd-gtk-ppa')
replaces=('doublecmd' 'doublecmd-svn' 'doublecmd-gtk-ppa')
license=('GPL2')
options=('!strip')
install=doublecmd-qt-ppa.install

case ${CARCH} in
  i686)
    _bldarch='i386'
    md5sums=('af46b7e50cba0419403df300de2433ba')
    ;;
  x86_64)
    _bldarch='amd64'
    md5sums=('d8c7cfa194c661d288b112408b55d0fc')
    ;;
esac

_url=https://launchpad.net/~alexx2000/+archive/doublecmd/+files
source=(${_url}/${_pkgname}_${pkgver}-${_pkgver}${_pkgsuf}_${_bldarch}.deb)


build() {
    msg2 "Extracting files..."
    cd "$srcdir"
    ar x ${_pkgname}_${pkgver}-${_pkgver}${_pkgsuf}_${_bldarch}.deb
    tar xf data.tar.gz --exclude lintian -C $pkgdir
}
