# Maintainer: Angel Velasquez <angvp@archlinux.org>  
# Contributor: Vsevolod Balashov <vsevolod@balashov.name>, Kevin Zuber <uKev@knet.eu>
pkgname=uwsgi
pkgver=0.9.9.2
pkgrel=1
pkgdesc="a fast (pure C), self-healing, developer-friendly WSGI server"
arch=(i686 x86_64)
url="http://projects.unbit.it/$pkgname"
license=(GPL2)
depends=("$python" libxml2)
conflicts=(python-$pkgname)
makedepends=(gcc python2)
source=(http://projects.unbit.it/downloads/$pkgname-$pkgver.tar.gz)
md5sums=('fafecf7dc86a36f003d2fadaa44483f1')

build() {
  cd $srcdir/$pkgname-$pkgver
  CFLAGS='' make -f Makefile.Py27
}

package() {
  cd $srcdir/$pkgname-$pkgver
  mkdir -p $pkgdir/usr/bin
  install -Dm755 uwsgi $pkgdir/usr/bin/uwsgi
}
