# Maintainer: Lukas Jirkovsky <l.jirkovsky@gmail.com>
pkgname=ocropus-models
pkgver=0.5.2
pkgrel=1
pkgdesc="State-of-the-art document analysis and OCR system"
arch=('any')
url="http://code.google.com/p/ocropus/"
license=('APACHE')
makedepends=('curl')

build() {
  cd "$srcdir"
  msg "Connecting to $pkgname Mercurial server......."
  if [ -d $pkgname ]; then
    cd "$srcdir"/$pkgname
    hg pull -u -r ocropus-$pkgver
    cd "$srcdir"
  else
    hg clone https://ocropus.googlecode.com/hg/ $pkgname -r ocropus-$pkgver
  fi
  msg "Mercurial checkout done or server timeout"
  msg "Starting make..."
}

package() {
  cd "$srcdir/$pkgname"

  # download and install models
  sed "s|^datadir=.*|datadir=$pkgdir/usr/share/ocropus|" -i ocroinst
  sh ocroinst dl
}

# vim:set ts=2 sw=2 et:
