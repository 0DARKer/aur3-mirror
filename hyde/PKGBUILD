# Contributor:  <clu>
# Maintainer: Axilleas P <axilleas archlinux info>

pkgname=hyde
pkgver=0.8.6
pkgrel=1
pkgdesc="A static website generator written in python."
url="http://hyde.github.com"
arch=('any')
license=('MIT')
depends=('python2-yaml' 'python2-jinja' 'python2-markdown' 'python2-pygments' 'python2-commando' 'python2-fswrap' 'typogrify')
makedepends=('python2' 'python2-distribute')
conflicts=(hyde-git)
source=(http://pypi.python.org/packages/source/h/hyde/hyde-$pkgver.tar.gz)

prepare() {
  cd ${srcdir}/$pkgname-$pkgver
  sed -i 's|#!python|#!/usr/bin/env python2|' distribute_setup.py
  cd ${srcdir}/$pkgname-$pkgver/hyde/
  sed -i 's|#!/usr/bin/env python|#!/usr/bin/env python2|' main.py
}

package() {
  cd ${srcdir}/$pkgname-$pkgver
  curl --output LICENSE https://raw.github.com/hyde/hyde/master/LICENSE
  install -Dm644 LICENSE "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
  python2 setup.py install --root="${pkgdir}" -O1
}

md5sums=('b3e6c5dd753b5a4bbee701ec737f2a20')
