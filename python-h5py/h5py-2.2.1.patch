diff -aur h5py-2.2.1.pristine/h5py/ipy_completer.py h5py-2.2.1/h5py/ipy_completer.py
--- h5py-2.2.1.pristine/h5py/ipy_completer.py	2013-12-09 23:27:47.000000000 +0100
+++ h5py-2.2.1/h5py/ipy_completer.py	2014-03-03 10:06:03.453003490 +0100
@@ -41,7 +41,8 @@
 try:
     from IPython.utils import generics
     from IPython.core.error import TryNext
-    from IPython.core.ipapi import get as ipget
+    #from IPython.core.ipapi import get as ipget
+    from IPython import get_ipython as ipget
 except ImportError:
     # support <ipython-0.11
     from IPython import generics
