# $Id: pkgbuild-mode.el,v 1.23 2007/10/20 16:02:14 juergen Exp $
# Maintainer: Sebastien Binet <binet@lblbox>
pkgname=python-h5py
pkgver=1.3.0
pkgrel=6
pkgdesc="General-purpose Python bindings for the HDF5 library"
url="http://h5py.googlecode.com"
arch=('i686' 'x86_64')
license=('BSD')
depends=( 'hdf5' 'python2-numpy')
makedepends=('cython')
conflicts=()
replaces=()
backup=()
install=
source=(http://h5py.googlecode.com/files/h5py-$pkgver.tar.gz
        001-fix-distutils-import-error.patch)
md5sums=('e1ea1c1e4c5b899c44b6fe4cb1eac464'
         '859c23ffcabecc1a03e903d8c6f43302')

build() {
  cd $startdir/src/h5py-$pkgver
  patch -p0 --input ../001-fix-distutils-import-error.patch
  python2 setup.py build || return 1
  python2 setup.py install --prefix=/usr --root=$startdir/pkg

  /bin/chmod 644 ${pkgdir}/usr/lib/python*/site-packages/h5py-$pkgver-py*.egg-info/*
}
