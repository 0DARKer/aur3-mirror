# Maintainer: Limao Luo <luolimao+AUR@gmail.com>
# Contributor: Tom Wadley <tomwadley@fastmail.fm>

pkgname=manicdigger
pkgver=2013.02.06
_srcname=ManicDigger${pkgver//./-}Binary
pkgrel=1
pkgdesc="A public domain 3d block-building game similar to Minecraft"
arch=(any)
url=http://manicdigger.sourceforge.net
license=('custom:public domain')
depends=(mono openal)
source=(http://downloads.sourceforge.net/project/manicdigger/$_srcname.zip
    manicdigger
    manicdigger-server
    manicdigger-monstereditor)
sha256sums=('9e1e234df3c783e615a8b4d0a7de93b3da9192277f2591042d27cab5e63aa592'
    '8079f7e1918084a72dcf98138485bad8a67b92955c700c6155ba378b568b8787'
    '26f66b2c075acf696b7ff95358b576fd5d9fa6a6d35eba233f39ff5829bf7da8'
    '77da8239ac13dfe01724dbff8ac1186e5c025b8b46b3fb027621f5deba79489b')
sha512sums=('6c375940fadc694101df9aaf7ac389240d2f887038f873e6046c7d64938aca9d2ac654a73b46cca933d750bf7a153a49e04706b9bc7d8ae394763af78a3075a5'
    'fa9a38d65439173633dc4f5602031a62a42de99716721eb3454c370dc4f702eefee8554cfbc1083e177704ceaf7759b13f6d584c16c57846ee511bc752d6191f'
    '8b0ae9f4c8c327a84140a21d5dfe67b7611ae5a6e90a0ca5adf64161e7dff1e4f9a5f7434856350796e0565277963cbdf8dd60f3c84e85a950e3ed9112fd5737'
    'dd3f451fd810542e46bba84b31321399290fe03db8e95d875ad294bd212d730e0a6baea9bc47f8f04ceb0842dd4f699c0b77510a5b29c8b87f74ce5e355d637d')

package() {
    install -d "$pkgdir"/opt/$pkgname/
    cp -r $_srcname/* "$pkgdir"/opt/$pkgname/

    for i in $pkgname{,-server,-monstereditor}; do
        install -Dm755 $i "$pkgdir"/usr/bin/$i
    done

    install -d "$pkgdir"/usr/share/licenses/$pkgname/
    mv "$pkgdir"/opt/$pkgname/credits.txt "$pkgdir"/usr/share/licenses/$pkgname/credits.txt
}
