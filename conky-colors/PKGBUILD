# Maintainer:  Android_808 <android underscore 808 at hotmail dot com>
# Contributor: Pauline123 <321eniluap at gmail dot com>
# Contributor: Shanto <shanto at hotmail>
# Contributor: Piotr Rogo≈ºa <rogoza dot piotr at gmail dot com>
pkgname=conky-colors
_pkgname=conky_colors
pkgver=8.0.5
pkgrel=1
pkgdesc="An easier way to configure Conky"
arch=('i686' 'x86_64')
url="http://gnome-look.org/content/show.php/CONKY-colors?content=92328"
license=('GPL')
depends=('pystatgrab' 'ttf-liberation' 'hddtemp' 'curl' 'lm_sensors' 'conky' 'ttf-droid' 'ttf-ubuntu-font-family')
makedepends=('perl' 'git')
optdepends=('conky-lua')
conflicts=('ttf-openlogos' 'ttf-weather')
options="!strip"
install=$pkgname.install
# Needed to avoid syntax errors
source=()


build() {
	cd "$srcdir"
	#msg "Connecting to GIT server...."

	if [ -d conky_colors ] ; then
	cd conky_colors && git pull origin master
	msg "The local files are updated."
	else
	git clone git://github.com/helmuthdu/conky_colors.git $conky_colors
	msg "Checkout revision..."
	cd conky_colors && git checkout d15eef7207cb0d065d142cc6f91ec83733b353fd
	fi

	msg "GIT checkout done or server timeout"
	msg "Starting make..."

	rm -rf "$srcdir/conky_colors-build"
	git clone "$srcdir/conky_colors" "$srcdir/conky_colors-build"
	cd "$srcdir/conky_colors-build"

  	make
}

package() {
	cd "$srcdir/conky_colors-build"
	make DESTDIR="$pkgdir/" install
}
