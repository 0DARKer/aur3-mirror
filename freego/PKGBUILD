# Contributor: graigue <gregori.couzard@gmail.com>

pkgname=freego
pkgver=4.0
pkgrel=1
pkgdesc="FreeGo makes it easier to access your personal data on the french ISP Free."
arch=(i686)
url="http://www.freego.fr/"
license=('GPL')
noextract=('FreeGo4-src.zip')
depends=('vlc')
makedepends=('qt>=4.4.0' 'unzip')
source=(http://www.freego.fr/logiciel/linux/sources/FreeGo4-src.zip freego-4-prefix.patch freego-4-desktopfile.patch)

md5sums=('199c83e9836c3f80b8077d32b5254f9f'
         '94a1dbd0fe5e61f7d1b335af8a26185a'
         'd07b9f8c499a5ffc4ce15c0a167494ec')

build() {
  cd $srcdir/
  unzip  FreeGo4-src.zip
  cd "$srcdir/FreeGo4"
  patch -Np0 -i ${startdir}/freego-4-prefix.patch
  patch -Np0 -i ${startdir}/freego-4-desktopfile.patch
  qmake
  make || return 1
  install -p -m 755 -D FreeGo "${pkgdir}/usr/bin/FreeGo"
  install -p -m 644 -D setups/unix_settings/FreeGo.desktop  "${pkgdir}/usr/share/applications/FreeGo.desktop"
  install -p -m 644 -D setups/unix_settings/FreeGo.png      "${pkgdir}/usr/share/pixmaps/FreeGo.png"
}


# vim:set ts=2 sw=2 et:
