# Maintainer: kfgz <kfgz at interia pl>

pkgname=n-queens-svn
pkgver=99
pkgrel=2
pkgdesc="Program that solves n-queens problem"
url="http://code.100allora.it/metslib/wiki/QueensProblem"
arch=('i686' 'x86_64')
license=('GPLv3')
depends=('metslib')
makedepends=('subversion')

_svntrunk=http://code.100allora.it/svn/metslib/trunk
_svnmod=metslib-trunk

build() {
  cd ${srcdir}

  if [ -d ${_svnmod}/.svn ]; then
    (cd ${_svnmod} && svn up -r ${pkgver})
  else
    svn co ${_svntrunk} --config-dir ./ -r ${pkgver} ${_svnmod}
  fi
  
  msg "SVN checkout done or server timeout"
  msg "Starting make..."
  
  cd metslib-trunk/samples/n-queens
  ./autogen.sh --prefix=/usr
  make
  make DESTDIR=${pkgdir} install
}
