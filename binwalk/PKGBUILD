# Maintainer: Emmanuel Gras <gras.emmanuel@gmail.com>
pkgname=binwalk
pkgver=0.3.3
pkgrel=1
pkgdesc="A tool for searching a given binary image for embedded files"
arch=('i686' 'x86_64')
url="http://code.google.com/p/binwalk/"
license=('MIT')
depends=()
provides=('binwalk')
source=(http://binwalk.googlecode.com/files/$pkgname-$pkgver.tar.gz
        binwalk.license)
md5sums=('885359d5c486bb17f31af569ef95928d'
         '544998fb9b84e6dd6b3808965f9c8866')

build() {
  cd "$srcdir/$pkgname-$pkgver/src"
  ./configure --prefix=/usr
  make
}

package() {
  cd "$srcdir/$pkgname-$pkgver"
  install -m 755 -D bin/$pkgname $pkgdir/usr/bin/$pkgname
  install -m 644 -D src/magic.binwalk $pkgdir/etc/$pkgname/magic.binwalk
  install -m 644 -D src/magic.bincast $pkgdir/etc/$pkgname/magic.bincast
  install -m 644 -D ../binwalk.license $pkgdir/usr/share/licenses/$pkgname/LICENSE
}

# vim:set ts=2 sw=2 et:
