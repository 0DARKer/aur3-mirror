# Maintainer: Your Name <youremail@domain.com>
pkgname=gnome15-gnome-plugins
pkgver=0.0.1
pkgrel=1
pkgdesc="Gnome related plugins for gnome15"
arch=(any)
url="http://www.gnome15.org/"
license=('GPL')
groups=()
depends=(python2 gnome15 python-evolution python-vobject python-gnomekeyring)
makedepends=()
optdepends=('pyxdg: for "Indicator Me" plugin'
            'indicator-me: for "Indicator Me" plugin'
            'indicator-messages: for "Indicator Messages" plugin')
provides=()
conflicts=()
replaces=()
backup=()
options=()
install=
changelog=
source=(http://www.gnome15.org/downloads/Gnome15/Optional/$pkgname-$pkgver.tar.gz)
noextract=()
md5sums=('e06f70fbb75b14dccc9d4788fae0e6ff')

build() {
  cd "$srcdir/$pkgname-$pkgver"

  # python2 fix
  for file in $(find . -type f -name '*' -print); do
    sed -i 's_^#!.*/usr/bin/python_#!/usr/bin/python2_' $file
    sed -i 's_^#!.*/usr/bin/env.*python_#!/usr/bin/env python2_' $file
  done

  export PYTHON_VERSION=2
  export PYTHON=python2
  ./configure --prefix=/usr
  make
}

package() {
  cd "$srcdir/$pkgname-$pkgver"

  make DESTDIR="$pkgdir/" install
}

# vim:set ts=2 sw=2 et:
