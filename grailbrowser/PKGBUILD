# Maintainer:Martin C. Doege <mdoege at compuserve dot com>

pkgname=grailbrowser
pkgver=20130128
pkgrel=1
pkgdesc="A late-1990s web browser in pure Python"
arch=('any')
url="https://github.com/mdoege/grailbrowser"
license=('CNRI')
depends=('python2' 'tk' 'libjpeg' 'netpbm')
makedepends=('git')
optdepends=('python2-imaging: additional image loading support'
            'inetutils: telnet binary for telnet URLs'
            'xterm: for telnet URLs')
md5sums=()

_gitroot="git://github.com/mdoege/grailbrowser.git"
_gitname="grailbrowser"

build() {
cd ${srcdir}
msg "Connecting to GIT server...."

if [ -d ${_gitname} ] ; then
cd ${_gitname} && git pull origin
msg "The local files are updated."
else
git clone ${_gitroot}
fi

cd ${srcdir}/${_gitname}
mkdir -p $pkgdir/usr/share/grail
cp -r * $pkgdir/usr/share/grail
mkdir -p $pkgdir/usr/share/icons
cp grail_logo.png $pkgdir/usr/share/icons
mkdir -p $pkgdir/usr/share/applications
cp grail.desktop $pkgdir/usr/share/applications
}
