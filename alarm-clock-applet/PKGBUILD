# Maintainer: Alessandro Nakamuta <alessandro dot ufms at gmail dot com>

pkgname=alarm-clock-applet
pkgver=0.3.1
pkgrel=2
pkgdesc="A fully-featured alarm clock for GNOME panel"
url="http://alarm-clock.pseudoberries.com"
arch=('i686' 'x86_64')
license=('GPL')
source=(http://launchpad.net/alarm-clock/trunk/$pkgver/+download/$pkgname-$pkgver.tar.gz
        "01_libnotify_0_7.patch")
install=$pkgname.install
depends=('glib2>=2.16.0' 'gtk2>=2.12.0' 'gconf>=2.0' 'gnome-icon-theme' 'gstreamer0.10>=0.10.2' 'libnotify>=0.4.1' 'libxml2>=2.0' 'libunique>=1.0' 'hicolor-icon-theme')
makedepends=('pkgconfig' 'intltool')
md5sums=('4a9b15ebc75bbde2a5e15a821d581df1'
         'd25ba4f10d47900366f00eddc22f31e7')

build() {
    cd "${srcdir}/${pkgname}-${pkgver}"
    
    patch -Np1 -i ${srcdir}/01_libnotify_0_7.patch
    
    ./configure --prefix=/usr --with-gconf-schema-file-dir=/usr/share/gconf/schemas --libexecdir=/usr/libexec
    make
}

package() {
  cd "${srcdir}/${pkgname}-${pkgver}"

  make DESTDIR="${pkgdir}" install
}
