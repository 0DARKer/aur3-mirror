# Maintainer: Tom Kwok <contact@tomkwok.com>
pkgname=kkedit
pkgver=0.0.30
pkgrel=1
pkgdesc="Source code text editor."
arch=('i686' 'x86_64')
url="https://sites.google.com/site/keithhedgersyard/kkedit-help"
license=('GPL3')
depends=('ctags' 'gtksourceview2' 'libunique' 'xdg-utils' 'webkitgtk2' 'aspell')
optdepends=('xterm: for opening terminal within editor'
            'gtksu: for running a program with different privileges')
source=(https://dl.dropboxusercontent.com/s/byv84wnrlwfp9sr/KKEdit-$pkgver.tar.gz)
md5sums=('1f2d93444424311d4d7f8257c485a84a')

prepare() {
  cd $srcdir/KKEdit-$pkgver

  # 'webkitgtk2: for Gtk-Doc viewer'
  # 'aspell: for spell checking'
  #./autogen.sh --prefix=/usr --disable-docviewer
  #./autogen.sh --prefix=/usr --disable-docviewer --enable-aspell
  ./autogen.sh --prefix=/usr --enable-docviewer --enable-aspell
}

build() {
  cd $srcdir/KKEdit-$pkgver
  make
}

package() {
  cd $srcdir/KKEdit-$pkgver
  make DESTDIR=$pkgdir install
}