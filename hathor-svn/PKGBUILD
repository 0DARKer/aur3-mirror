# Joshua Netterfield <drmrshdw@gmail.com>
# Based on the PKGBUILD for pensil-svn

pkgname="hathor-svn"
pkgver=22
pkgrel=1
pkgdesc="A better music player built on last.fm and Rdio"
url="http://shdw.x10.mx/hathor"
license=("GPL2")
arch=("i686" "x86_64")
depends=("qt" "qoauth" "liblastfm" "flashplugin")
makedepends=("subversion")
source=()
md5sums=()

_svntrunk="http://hathor.googlecode.com/svn/trunk/"
_svnmod="hathor-svn-1"

build() {
	msg "Connecting to SVN server..."
	if [ -d ${_svnmod}/.svn ]; then
		(cd "${_svnmod}" && svn cleanup && svn update -r ${pkgver})
	else
		svn co ${_svntrunk} ${_svnmod} -r ${pkgver} --config-dir ./
	fi

	cd ${_svnmod}
	qmake
	make clean
	make -j2

	install -D -m755 "Hathor" "${pkgdir}/usr/bin/hathor"
}

# vim: set noet ff=unix:
