# Maintainer: Alexej Magura <agm2819*gmail*>
# 
# 
pkgname=swaag
pkgver=1.2
pkgrel=1
pkgdesc="six wheels and a gun: a tank game"
arch=('x86_64')
url="http://www.lgdb.org/game/six-wheels-and-a-gun"
license=('unknown')
depends=('sdl2' 'gcc-libs' 'mesa')
source=("http://stolk.org/Buggy/$pkgname-$pkgver-linux64.tar.gz"
        "swaag.sh")
md5sums=('1f1c410d77629ba201b08413d34f0988'
         'e3e450571d0cfa0d254c7cb646acb484')

prepare () {
  cd "$srcdir"
  sed -ri "s/^(pkgname=)<>/\1\"$pkgname\"/" ${pkgname}.sh
  sed -ri 's:^(pkgdir=)<>:\1"/opt/$pkgname":' ${pkgname}.sh
}

package () {
  install -Dm 755 "$srcdir/${pkgname}.sh" "$pkgdir/usr/bin/$pkgname"
  install -d "$pkgdir/opt/$pkgname"
  for files in $(find "$srcdir" -name '*.so' -o -name "$pkgname"); do
    install -m 755 "$files" "$pkgdir/opt/$pkgname"
  done
}
