#Maintainer: Alex Brinister (alex_brinister@yahoo.com)
pkgname=vxworks-gcc-toolchain-bin
pkgver=1.0.4
pkgrel=1
pkgdesc="A GCC toolchain for VxWorks 6.3 C/C++ developement - binaries"
arch=('i686' 'x86_64')
url="http://firstforge.wpi.edu/sf/projects/c--11_toochain"
license=('GPL')
depends=(wput)
optdepends=('cmake: custom toolchain configuration file support')
options=('strip' 'libtool' '!zipman')
install=$pkgname.install
if test "$CARCH" == i686; then
	source=(https://www.dropbox.com/s/8llf7ty5av19kwr/$pkgname-$pkgver-i686.tar.xz)
	sha384sums=('b7caff95f3b6ede6d1fc5f3e82f13753de31a6d083dcf8086668cdb51646d41d11a9d768921d30774a08e0c14539329d')
else
	source=(https://www.dropbox.com/s/8vahor8hwfrby9z/$pkgname-$pkgver-x86_64.tar.xz)	
	sha384sums=('153089a1c410eb10d9f17f156c573260c9c579e8c01ce222f17e08d75c22edc9abb711480f0dab8532a7790648e66aff')
fi

build() {
  cd "$srcdir/$pkgname-$pkgver"
  cp -R ./usr $pkgdir/

  # WPILib permissions are screwed up... fix them
  chmod -R 755 $pkgdir/usr/powerpc-wrs-vxworks/include/WPILib
}
