#Maintainer: Alex Brinister (alex_brinister@yahoo.com)
pkgname=vxworks-gcc-toolchain-bin
pkgver=1.0.3
pkgrel=5
pkgdesc="A GCC toolchain for VxWorks 6.3 C/C++ developement - binaries"
arch=('i686' 'x86_64')
url="http://firstforge.wpi.edu/sf/projects/c--11_toochain"
license=('GPL')
depends=(wput)
optdepends=('cmake: custom toolchain configuration file support')
options=('strip' 'libtool' '!zipman')
install=$pkgname.install
if test "$CARCH" == i686; then
	source=(https://www.dropbox.com/s/8llf7ty5av19kwr/$pkgname-$pkgver-i686.tar.xz)
	sha384sums=('b7caff95f3b6ede6d1fc5f3e82f13753de31a6d083dcf8086668cdb51646d41d11a9d768921d30774a08e0c14539329d')
else
	source=(https://www.dropbox.com/s/nk3s8byc22uzqfj/$pkgname-$pkgver-x86_64.tar.xz)	
	sha384sums=('a70a2084b4d986a26b97aafca578b11d01829847aacd4e1a99c555f6ed5c99f03e612c3c78ab9c0ebe73f96ae89bbb1c')
fi

build() {
  cd "$srcdir/$pkgname-$pkgver"
  cp -rv ./usr $pkgdir/

  # WPILib permissions are screwed up... fix them
  chmod -R a+wrx $pkgdir/usr/powerpc-wrs-vxworks/include/WPILib
}
