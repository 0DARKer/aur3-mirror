# Maintainer: Bartosz Chmura <chmurli@gmail.com>

pkgname=avr8-burn-o-mat
pkgver=2.1.2
pkgrel=5
pkgdesc="A GUI for avrdude"
arch=('any')
url="http://www.brischalle.de/avr8_burn-o-mat_avrdude_gui/avr8_burn_o_mat_avrdude_gui_en.html"
license=('GPL v3.0')
depends=('java-environment>=7' 'avrdude')
install=$pkgname.install
source=('AVR8_Burn-O-Mat_2_1_2.zip::http://www.brischalle.de/avr8_burn-o-mat_avrdude_gui/AVR8_Burn-O-Mat_2_1_2.zip'
        'avr8-burn-o-mat.desktop')
sha256sums=('5a2728efe8459c0e4539f741e79293910b8c20527b60d65a5bf374dc071133ea'
            '624d44768647aa1194f2ddddc1ff28870f00e1033fdd133ef91fe91122279303')


package() {
  mkdir -p ${pkgdir}/opt/${pkgname}
  
  # copy selected files
  cd ${srcdir}/AVR8_Burn-O-Mat
  cp -R lib ${pkgdir}/opt/${pkgname} || return 1
  cp AVR8_Burn-O-Mat.png ${pkgdir}/opt/${pkgname} || return 1
  cp AVR8_Burn-O-Mat_Icon_16.png ${pkgdir}/opt/${pkgname} || return 1
  cp AVR8_Burn_O_Mat.jar ${pkgdir}/opt/${pkgname} || return 1
  cp AVR8_Burn_O_Mat_Config.xml ${pkgdir}/opt/${pkgname} || return 1

  # *.desktop
  install -d -m 755 ${pkgdir}/usr/share/applications || return 1
  install -m 644 ${srcdir}/avr8-burn-o-mat.desktop ${pkgdir}/usr/share/applications || return 1
}
