#Contributor: Yannick PÃ‰ROUX <nicknick63[at]free[dot]fr>

pkgname=go-oo-bin-fr
pkgver=3.0.0
_subver=3.0
_build=9358
pkgrel=1
pkgdesc="Go-OO French Language Pack and Help"
arch=('i686' 'x86_64')
url="http://go-oo.org/discover/"
license=('LGPL')
makedepends=('rpmextract')
depends=('go-oo-bin-base')
[ "$CARCH" = "x86_64" ] && _arch=x86_64
[ "$CARCH" = "i686" ] && _arch=i586

source=(
  http://go-oo.mirrorbrain.org/stable/linux-$_arch/$_subver/ooobasis$_subver-fr{,-base,-binfilter,-calc,-draw,-impress,-math,-res,-writer}-$pkgver-$_build.$_arch.rpm
  http://go-oo.mirrorbrain.org/stable/linux-$_arch/$_subver/openoffice.org3-fr-$pkgver-$_build.$_arch.rpm
)

build() {
	
    cd $startdir/src/
	
    for i in $(ls *.rpm); do
        rpmextract.sh $i
    done
    
    #"base" install
    cp $startdir/src/opt $startdir/pkg/ -r

    ## Step 1 
    cd ${pkgdir}/opt/openoffice.org || return 1
    cd basis3.0 || return 1
    ## Step 2
    cd ${pkgdir}/opt/ || return 1
    mv openoffice.org/basis3.0/ openoffice.org3/ || return 1
    cd openoffice.org3/ || return 1
    mv basis3.0 basis-link || return 1
    ## Step 3        
    cd ${pkgdir}/opt/ || return 1
    rmdir ${pkgdir}/opt/openoffice.org || return 1
    mv openoffice.org3 go-oo || return 1
    
}

md5sums=('c43f163f89f4a88eee48bdc5b3714f68'
         '6bbf54e591dda23c1177366c03ebfe2f'
         '51f4140a0af59f4a7a41d05b4e760110'
         'a158299d2bfbd7d6b2a884cbf738b8a3'
         'f38ec0ed8873b99b71f9d292dccacedb'
         '334ad45b7d4c95ca2232c9201f34b105'
         'e4b9577e6d06d0bb7c131d1f01c8c812'
         'b3f995f3de4b6666ca0c87c372e5e17b'
         '7fd7b178b972735417c61e3e737a284f'
         '721552c6151c75715c5ef1e4bea6fac1')

[ "$CARCH" = "x86_64" ] && md5sums=('131e9c019a92569cd27a21ac2b138d34'
         'cc2bdca41878992b3837c94851180f29'
         '2bc6b1a28af681e68b6a9c0eaae1e202'
         '2e0bbe3668de452679a3cfb825d24568'
         'afb8ff4854c3dfa1ce0a2ca470f51144'
         '4b13e32ff39b347464a8b165af6864cb'
         'eabdfe09ff088d78935dbeb30edca8ed'
         '772cdbbcd414ad54e1fed35c7e541b74'
         '3f5aa49d272e49391be5f8c67982155a'
         '85a3ab016ff1803ce5ee181ba2a68146')
