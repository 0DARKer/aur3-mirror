# Contributor: Vitaliy Berdinskikh ur6lad[at]archlinux.org.ua

pkgname=parboiled
pkgver=0.10.1
pkgrel=1
pkgdesc="A pure Java library providing for lightweight and easy-to-use, yet powerful and elegant parsing of arbitrary input text based on Parsing expression grammars (PEGs)"
arch=('any')
url="http://parboiled.org/"
depends=('java-runtime')
license=('APACHE')
source=(http://github.com/downloads/sirthias/$pkgname/${pkgname}-core-${pkgver}.jar
		http://github.com/downloads/sirthias/$pkgname/${pkgname}-java-${pkgver}.jar
		setClasspath.sh)

package() {
	cd $srcdir

	install -D -m644 setClasspath.sh $pkgdir/usr/share/java/$pkgname/setClasspath.sh
	for i in *.jar; do
		install -m644 ${i} $pkgdir/usr/share/java/$pkgname
	done

	cd $pkgdir/usr/share/java/$pkgname

	for i in *.jar; do
		_no_version_link=${i##*\/}
		ln -sf ${_no_version_link} ${_no_version_link/-[0-9]\.[0-9][0-9]\.[0-9]/}
	done
}

md5sums=('cbd6762731b9ae323030eb449cf98ec8'
         '0bc33b0f283e042ddcfed1484cab5fb0'
         '4dcf6bd1ecf4818633264dd304b0cee4')
sha256sums=('479455fdc58917334cc8aa7348afa5a38991145f0dbebc7464e674f8ea78fbe0'
            'b907dbf81ab6d05facbff9fe30e6faf81be025d586c66a6de1416977bf189882'
            'cb15137a6c7355bbdb85f42772f942d98e757963b10997e99da886df6b090f66')
