# Maintainer: AlexanderR <rvacheva at nxt dot ru>

pkgname=realistair
pkgver=1
pkgrel=1
pkgdesc="RE: Alistair++ is an English otome game (subtype of visual novel) that tells a story of a young girl fond of MMORPGs, her online and everyday life."
arch=('any')
url='http://sakevisual.com/${pkgname}/'
license=('CCPL:by-nc-nd')
depends=('python-renpy')
# there are no binaries and manpages
options=(!strip !zipman)

source=("http://dl.renai.us/games/${pkgname}-linux-x86.tar.bz2"
        "${pkgname}.sh"
	"${pkgname}.desktop"
	"${pkgname}.ico"
	'python2.patch')

build() {
  cd "$srcdir/realistair-linux-x86/"
  
  patch -p1 -i ../python2.patch ||return 1
}

package() {
  cd "$srcdir/realistair-linux-x86/"

  # copy main files
  install -dm755 "${pkgdir}/usr/share/${pkgname}"
  cp -r game/* "${pkgdir}/usr/share/${pkgname}"
  install -m644 "RE-alistair.py" "${pkgdir}/usr/share/${pkgname}"

  # copy game readme
  install -D -m644 'README.html' "${pkgdir}/usr/share/doc/${pkgname}/README.html"

  # copy bash script
  install -D -m755 "${srcdir}/${pkgname}.sh" "${pkgdir}/usr/bin/${pkgname}"

  # install desktop entry file
  install -D -m644 "${srcdir}/${pkgname}.desktop" "${pkgdir}/usr/share/applications/${pkgname}.desktop"
  install -D -m644 "${srcdir}/${pkgname}.ico" "${pkgdir}/usr/share/pixmaps/${pkgname}.ico"
}

md5sums=('830f6491f13e869857e997ca40165743'
         '91959980b3e64099fb2ce89c0bccaf7d'
         '52179b89f31f6a94a15efa20bac070d8'
         'e01979198b345e8106b303e733e59109'
	 '8689d164098ec4edcfa978269ca8950b')

# vim:set ts=2 sw=2 et:
