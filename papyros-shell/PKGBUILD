# Maintainer: Riley Trautman <asonix@tamu.edu>
# Contributer: s4ncho

pkgname=papyros-shell
_pkgname=papyros-shell
pkgver=git
pkgrel=1.1
pkgdesc="Papyros Shell is the desktop shell for Papyros, an operating system based upon Linux which conforms to Googleâ€™s Material Design guidelines. " 
url="http://papyros.io"
#depends=('qtwayland>=5.4' 'qt>=5.4')
depends=('qt5-base' 'qt5-declarative' 'qt5-wayland-dev-git' 'gsettings-qt-bzr' 'qml-material') 
#makedepends=('qmake' 'git' 'qt5-base-git' 'qt5-declarative-git' 'qt5-wayland-dev-git' 'gsettings-qt-bzr')
makedepends=('git')
conflicts=('')
arch=('i686' 'x86_64')
license='Papyros Shell is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 3 of the License, or (at your option) any later version.' 
_giturl='https://github.com/papyros/papyros-shell'


build() {
    git clone ${_giturl}
    cd $srcdir/$_pkgname
    msg "Updating qrc"
    ./qrc.py qml images > papyros-shell.qrc
    msg "Precompiling..."
    qmake
    msg "Compiling..."
    make
}

package() {
    msg "Packaging..."
    cd $_pkgname
    make INSTALL_ROOT="$pkgdir" install
}
