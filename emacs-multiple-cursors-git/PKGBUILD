# Maintainer:xgdgsc <xgdgsc@gmail.com>

pkgname=emacs-multiple-cursors-git
pkgver=20130316
pkgrel=1
pkgdesc="Multiple cursors for Emacs,dev version"
arch=('any')
url="https://github.com/magnars/multiple-cursors.el"
license=('GPL3')
install=$pkgname.install
maedepends=('git')
depends=()
optdepends=('emacs')
provides=('emacs-multiple-cursors')
conflicts=('emacs-multiple-cursors')
_gitroot=git://github.com/magnars/multiple-cursors.el.git
_gitname=multiple-cursors.el

package() {
cd "$srcdir"
  msg "Connecting to github.com"
  if [ -d "$startdir/src/$_gitname" ] ;then
	  cd "$_gitname" && git pull origin
	  msg "The local files are updated."
  else
	  git clone "$_gitroot"
  fi
  msg "GIT checkout done or server timeout"
  cd "$srcdir/$_gitname"
  git checkout master

  mkdir -p $pkgdir/usr/share/emacs/site-lisp/multiple-cursors
  cp -R $srcdir/$_gitname/* $pkgdir/usr/share/emacs/site-lisp/multiple-cursors
}

# vim:set ts=2 sw=2 et:
