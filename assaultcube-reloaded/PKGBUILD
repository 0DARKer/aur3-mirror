# Maintainer: M0Rf30

pkgname=assaultcube-reloaded
pkgver=2.6.0
pkgrel=1
pkgdesc='AssaultCube Reloaded'
arch=('i686' 'x86_64')
url='http://acr.victorz.ca'
license=('GPL3')
depends=('sdl' 'sdl_mixer' 'sdl_image' 'openal' 'zlib' 'gcc-libs' 'libgl' 'enet' 'libvorbis' 'libx11' 'glu')
makedepends=('git' )
_ver=02_06_00
_name=acr_${_ver}-src
_data=acr_${_ver}-l
source=("http://assaultcuber.googlecode.com/files/${_name}.zip"
        "http://assaultcuber.googlecode.com/files/${_data}.tar.gz"
	"git+https://github.com/actf/translations.git"
        'Makefile'
        'acreloaded'
        'acreloaded-server'
        'acreloaded.desktop'
        'acreloaded.svg')

build() {
  cd ${srcdir}/src
  cp ../Makefile .
  make
}

package() {
  cd ${srcdir}
  mkdir -p ${pkgdir}/usr/share/acreloaded/packages
  mkdir -p ${pkgdir}/usr/bin
  cp -rf bot config locale packages acr/packages ${pkgdir}/usr/share/acreloaded
  install -Dm644 ${srcdir}/acreloaded.svg ${pkgdir}/usr/share/pixmaps/acreloaded.svg
  install -Dm644 ${srcdir}/acreloaded.desktop ${pkgdir}/usr/share/applications/acreloaded.desktop
  install -Dm755 ${srcdir}/acreloaded ${pkgdir}/usr/bin/acreloaded
  install -Dm755 ${srcdir}/acreloaded-server ${pkgdir}/usr/bin/acreloaded-server
  cd src
  make DESTDIR=$pkgdir install
  
msg "Checkout Languages"
  cd ..
  rm -r translations/.git
  cp -r translations/* $pkgdir/usr/share/acreloaded/locale/
}

md5sums=('9a8c8f3ebe3a183e897b5dac20492918'
         '5a276178d18f664da44c15a517519af9'
         'SKIP'
         'f703f5f19b93ebd5e5b1fd16ee498455'
         'a3e892ede7cbb51dff0cf1644d69ff7b'
         'b6a76df0abe1b5ba93197788adf53ae3'
         '8e5ea851cb90e6144487a5724d26f8ab'
         '3b142417157d73da4a7981fd07bcb628')
