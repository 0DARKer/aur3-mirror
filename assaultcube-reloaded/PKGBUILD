# Maintainer: M0Rf30

pkgname=assaultcube-reloaded
pkgver=2.5.3
pkgrel=1
pkgdesc='AssaultCube Reloaded'
arch=('i686' 'x86_64')
url='http://acr.victorz.ca'
license=('GPL3')
depends=('sdl' 'sdl_mixer' 'sdl_image' 'openal' 'zlib' 'gcc-libs' 'libgl')
makedepends=('mesa')
name=acr_02_05_03
source=(#"http://assaultcuber.googlecode.com/files/$name-src.zip"
        "http://assaultcuber.googlecode.com/files/$name-l.tar.gz"
        'acreloaded'
        'acreloaded-server'
        'acreloaded.desktop'
        'acreloaded.png')

package() {
  cd ${srcdir}/

  mkdir -p ${pkgdir}/usr/share/acreloaded/packages
  mkdir -p ${pkgdir}/usr/bin

  if [[ $CARCH == "x86_64" ]]; then
    cp bin_linux/linux_64_client ${pkgdir}/usr/share/acreloaded/acreloaded_client
    cp bin_linux/linux_64_server ${pkgdir}/usr/share/acreloaded/acreloaded_server
  else
    cp bin_linux/linux_client ${pkgdir}/usr/share/acreloaded/acreloaded_client
    cp bin_linux/linux_server ${pkgdir}/usr/share/acreloaded/acreloaded_server
  fi
  cp -rf bot config docs locale packages ${pkgdir}/usr/share/acreloaded
  install -Dm644 ${srcdir}/acreloaded.png ${pkgdir}/usr/share/pixmaps/acreloaded.png
  install -Dm644 ${srcdir}/acreloaded.desktop ${pkgdir}/usr/share/applications/acreloaded.desktop
  install -Dm644 docs/package_copyrights.txt ${pkgdir}/usr/share/licenses/${pkgname}/LICENSE
  install -Dm755 ${srcdir}/acreloaded ${pkgdir}/usr/bin/acreloaded
  install -Dm755 ${srcdir}/acreloaded-server ${pkgdir}/usr/bin/acreloaded-server
}

md5sums=('b820e10ef9cef0af27427eeb6173a129'
         'a3e892ede7cbb51dff0cf1644d69ff7b'
         'b6a76df0abe1b5ba93197788adf53ae3'
         '24f729d2ffc496c5a5e57c9f33e72888'
         '55cf31753b204954f910087fe50fb4ca')
