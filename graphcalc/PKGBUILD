# Maintainer: DeedleFake <yisszev at beckforce dot com>

pkgname=graphcalc
pkgver=0.0.1
pkgrel=1
pkgdesc="An all-in-one solution to everything from everyday arithmetic to derivatives."
arch=(i686 x86_64)
url="http://www.graphcalc.com"
license=('GPL')
depends=(qt3 ginac)
source=(http://downloads.sourceforge.net/project/gcalc/gcalc-linux/$pkgver/$pkgname-$pkgver.tar.bz2
        graphcalc.patch)
sha1sums=('e9976db0d8e48e5464ca0ef28f695afea9360778'
          'e89ed32b7c5d038107b23d08f13a47689f2971a8')

build() {
  cd "$srcdir/$pkgname/linux"
  /opt/qt/bin/qmake
  patch -p2 < "$srcdir/graphcalc.patch"
  make QTDIR="/opt/qt" SUBLIBS="-lGL"
}

package() {
  cd "$srcdir/$pkgname/linux"

  install -m755 -D graphcalc "$pkgdir/usr/bin/graphcalc"

  cd "$srcdir/$pkgname"
  mkdir -p "$pkgdir/usr/share/doc/$pkgname"
  cp -a INSTALL FAQ "$pkgdir/usr/share/doc/$pkgname"
}

# vim:set ts=2 sw=2 et:
