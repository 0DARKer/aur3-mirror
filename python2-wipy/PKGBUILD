pkgname=python2-wipy
pkgver=0.2
pkgrel=1
pkgdesc="GUI Wired client using wxPython"
arch=(any)
url="http://sourceforge.net/projects/pywire"
license=("MIT")
source=("http://downloads.sourceforge.net/pywire/WiPy-$pkgver.tar.gz"
"http://zankasoftware.com/wired/icon.png"
"wipy")
depends=(python2-py-wire python2-distribute "wxpython>=2.5")
makedepends=(python2)
conflicts=(wipy)
provides=(wipy)
replaces=(wipy)
md5sums=('c1f6299e5a6dd61b21373f3bf48722c6'
         '2c81e02ba58b3019da32e72cafce2beb'
         '10c4d687aeb68e50ba5620aa7da364ab')

build() {
  cd "$srcdir/WiPy-$pkgver"
  python2 setup.py install --prefix=$pkgdir/usr
}

package() {
  cd "$srcdir/WiPy-$pkgver"
  install -Dm755 "$srcdir/wipy" "$pkgdir/usr/bin/wipy"
  install -Dm644 "$srcdir/icon.png" "$pkgdir/usr/share/icons/$pkgname.png"
  mkdir -p "$pkgdir/usr/share/applications"
  echo '[Desktop Entry]
Name=WiPy
GenericName=Wired Client
Comment=GUI frontend for py-wire
Version=1.0
Type=Application
Terminal=false
Icon=wipy
Exec=wipy
Categories=Network;' > "$pkgdir/usr/share/applications/$pkgname.desktop"
}
