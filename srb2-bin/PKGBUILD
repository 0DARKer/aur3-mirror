# Maintainer: DeedleFake <yisszev at beckforce dot com>

pkgname=srb2-bin
pkgver=2.0.6
pkgrel=3
pkgdesc="A 3-D Sonic game based off of Doom Legacy."
arch=('i686' 'x86_64')
license=('GPL')
url='http://www.srb2.org'
depends=('sdl_mixer' 'libpng12' 'srb2-data=2.0.6')
provides=("srb2")
conflicts=("bin32-srb2")
makedepends=('chrpath')
optdepends=()

if [[ "$CARCH" == "x86_64" ]]; then
	source=(http://alam.srb2.org/SRB2/$pkgver-Final/Linux64/Release/lsdlsrb2
			misc.tar.gz)
else
	source=(http://alam.srb2.org/SRB2/$pkgver-Final/Linux/Release/lsdlsrb2
			misc.tar.gz)
fi

noextract=()

if [[ "$CARCH" == "x86_64" ]]; then
	md5sums=('6c80bbb81e890c218e99eca18eace711'
			 'b5b9bba10bd983abca5c23edf87ed7cf')
else
	md5sums=('732b6f21e646345affc4d1b9c9cbea28'
			 'b5b9bba10bd983abca5c23edf87ed7cf')
fi

build() {
	:
}

package() {
  cd "$srcdir"

  install -D lsdlsrb2 "$pkgdir/usr/bin/srb2" || return 1

  install -D misc/SRB2.desktop "$pkgdir/usr/share/applications/SRB2.desktop" || return 1
  install -D misc/SRB2-OpenGL.desktop "$pkgdir/usr/share/applications/SRB2-OpenGL.desktop" || return 1
  install -D misc/srb2.png "$pkgdir/usr/share/pixmaps/srb2.png" || return 1
  install -D misc/srb2.bash_completion "$pkgdir/etc/bash_completion.d/srb2" || return 1

  chrpath -d "$pkgdir/usr/bin/srb2"
}
