# Maintainer: Sylvain Henry <hsyl20@gmail.com>
# Contributor: Sylvain Henry <hsyl20@gmail.com>
# Contributor: Marti Raudsepp <marti@juffo.org>
# Contributor: Dan McGee <dpmcgee@gmail.com>
# Contributor: LeCrayonVert <sunrider@laposte.net>
# Contributor: Lukas Fleischer <archlinux@cryptocrack.de>


pkgname=coccinelle
pkgver=0.2.5
_pkgver=0.2.5
pkgrel=1
pkgdesc="Provides spatch program used to apply semantic patches"
arch=('i686' 'x86_64')
url="http://coccinelle.lip6.fr"
license=('GPL2')
makedepends=('ocaml')
depends=('ocaml-findlib' 'python2')
options=(!strip)
source=(http://coccinelle.lip6.fr/distrib/${pkgname}-${_pkgver}.tgz)
sha256sums=('b80360d8106be90aff4801330f0400525c980409dadf3eb6a1079a7e43c5d017')

build() {
   cd "$srcdir/$pkgname-$_pkgver"

   ./configure --prefix=/usr 
   sed -i 's/shell python /shell python2 /' pycaml/Makefile
   make depend 
   make 
   make DESTDIR=$pkgdir MANDIR="/usr/share/man" install 
}

