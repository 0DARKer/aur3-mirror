# Maintainer: David Roheim <david.roheim@gmail.com>
# Contributer: Thomas Dziedzic < gostrc at gmail >

pkgname=rpmlint
pkgver=1.5
pkgrel=2
pkgdesc='A tool for checking common errors in rpm packages.'
arch=('any')
url=('http://rpmlint.sourceforge.net/')
license=('GPL')
depends=('python2' 'rpm-org' 'cpio' 'desktop-file-utils')
source=("rpmlint-${pkgver}.tar.xz::http://sourceforge.net/projects/rpmlint/files/rpmlint-${pkgver}.tar.xz/download")
sha256sums=('8268cede9397b263e51933a514db0f9a8426867274d495d1e87ef4c81b2c1e18')

build() {
  cd rpmlint-${pkgver}

  make PYTHON=python2
}

package() {
  cd rpmlint-${pkgver}

  make PYTHON=python2 DESTDIR=${pkgdir} install

  sed \
    -e 's_/usr/bin/python_&2_' \
    -i ${pkgdir}/usr/bin/rpmlint
}
