# Maintainer: Isaac C. Aronson <isaac at pingas dot org>

pkgname=minecraft-server-systemd
pkgver=1.0.1
pkgrel=2
epoch=
pkgdesc="Minecraft server unit files and script"
arch=(any)
url="http://minecraft.net/"
license=('custom')
depends=('java-runtime' 'systemd' 'screen' 'expect')
conflicts=('minecraft-server')
options=(emptydirs)
install=minecraft-server.install
changelog=
source=(http://www.minecraft.net/download/minecraft_server.jar
        minecraftd
        minecraftd.service)
noextract=('minecraft_server.jar')
md5sums=('934b6010999daa1f1b1ccdf4cb77e052'
         '058eb25c49c5a8f2e3166f5046fd1fad'
         '98df0cca61c6833ad032559f07b4acb1')

package() {
  install -Dm755 "$srcdir/minecraftd" "$pkgdir/usr/bin/minecraftd"
  install -Dm644 "$srcdir/minecraft_server.jar" "$pkgdir/srv/minecraft/minecraft_server.jar"
  install -Dm644 "$srcdir/minecraftd.service" "$pkgdir/lib/systemd/system/minecraftd.service"

  install -d "$pkgdir/srv/minecraft"
}
