# Maintainer: willemw <willemw12@gmail.com>

pkgname=stickynotes
pkgver=10.02.20
pkgrel=6
pkgdesc="Place colourful sticky reminders all over your desktop"
arch=('any')
url="https://github.com/xbot/stickynotes/"
license=('GPL')
depends=('pygtk' 'python2-wnck')
makedeps=('git')
source=($pkgname::git://github.com/xbot/stickynotes.git
        $pkgname.desktop 
        $pkgname.sh)
md5sums=('SKIP'
         'ccdad6a729fbda6bb116a25666703423'
         '1b6480d756c94a9e18d0473e394c9873')

prepare() {
  cd $pkgname
  git checkout --quiet 0e4e7bae8a
  sed -i 's_#! /usr/bin/python_#!/usr/bin/env python2_' $pkgname.py
}

package() {
  cd "$srcdir/$pkgname"
  install -Dm755 stickynotes.py "$pkgdir/usr/share/$pkgname/stickynotes.py"
  install -Dm644 stickynotes.ui "$pkgdir/usr/share/$pkgname/stickynotes.ui"

  cd "$srcdir/$pkgname/icons"
  install -Dm644 applet.png "$pkgdir/usr/share/$pkgname/icons/applet.png"
  install -Dm644 overlay.png "$pkgdir/usr/share/$pkgname/icons/overlay.png"
  install -Dm644 trans.png "$pkgdir/usr/share/$pkgname/icons/trans.png"

  cd "$srcdir"
  install -Dm644 stickynotes.desktop "$pkgdir/usr/share/applications/stickynotes.desktop"
  install -Dm755 stickynotes.sh "$pkgdir/usr/bin/stickynotes"
}
