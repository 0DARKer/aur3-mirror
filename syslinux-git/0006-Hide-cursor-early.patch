From aafca0cabf22c37de01cedd3a1c25869d2722d41 Mon Sep 17 00:00:00 2001
From: Lucas De Marchi <lucas.demarchi@profusion.mobi>
Date: Thu, 25 Nov 2010 16:59:33 -0200
Subject: [PATCH 6/6] Hide cursor early

Signed-off-by: Lucas De Marchi <lucas.demarchi@profusion.mobi>
---
 core/diskstart.inc |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

diff --git a/core/diskstart.inc b/core/diskstart.inc
index 29bc504..ef2b528 100644
--- a/core/diskstart.inc
+++ b/core/diskstart.inc
@@ -413,6 +413,13 @@ writestr_early:
 .return:	popad
 		ret
 
+; hide blinking text cursor:
+hidecursor_early:
+		mov ch, 32
+		mov ah, 1
+		int 10h
+		ret
+
 ;
 ; INT 13h wrapper function
 ;
@@ -539,6 +546,8 @@ print_bios:
 		mov [BIOSName],si
 %ifndef VERY_QUIET
 		call writestr_early
+%else
+		call hidecursor_early
 %endif
 
 		section .earlybss
-- 
1.7.3.2

