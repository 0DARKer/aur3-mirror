pkgname=perl-stat-lsmode
pkgver=0.50
pkgrel=2
pkgdesc='formats file modes like the ls -l command does'
url="http://search.cpan.org/~mjd/Stat-lsMode-$pkgver/"
depends=('perl>=5.8.4-1')
source=(http://search.cpan.org/CPAN/authors/id/M/MJ/MJD/Stat-lsMode-$pkgver.tar.gz)
md5sums=('bf7e558fd0d668dffb2dcd62d21ef635')

build() {
  cd $startdir/src/Stat-lsMode-$pkgver
  # Force module installation to "current" perl directories.
  /usr/bin/perl Makefile.PL \
      INSTALLARCHLIB=/usr/lib/perl5/current/${CARCH}-linux-thread-multi \
      INSTALLSITELIB=/usr/lib/perl5/site_perl/current \
      INSTALLSITEARCH=/usr/lib/perl5/site_perl/current/${CARCH}-linux-thread-multi
  /usr/bin/make || return 1
  /usr/bin/make install DESTDIR=$startdir/pkg

  # remove perllocal.pod, .packlist, and empty dirs.
  /bin/rm -rf $startdir/pkg/usr/lib/perl5/current
  /bin/rm -rf $startdir/pkg/usr/lib/perl5/site_perl/current/${CARCH}-linux-thread-multi
}
