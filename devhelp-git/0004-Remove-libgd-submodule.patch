From b605537e79da79103b9c6486ef93eaca790ef1b5 Mon Sep 17 00:00:00 2001
From: Yosef Or Boczko <yosefor3@walla.com>
Date: Tue, 11 Jun 2013 01:01:49 +0300
Subject: Remove libgd submodule

---
 .gitmodules     | 3 ---
 Makefile.am     | 2 +-
 autogen.sh      | 1 -
 configure.ac    | 5 -----
 src/Makefile.am | 2 --
 src/dh-window.c | 2 --
 6 files changed, 1 insertion(+), 14 deletions(-)
 delete mode 100644 .gitmodules

diff --git a/.gitmodules b/.gitmodules
deleted file mode 100644
index bfd964e..0000000
--- a/.gitmodules
+++ /dev/null
@@ -1,3 +0,0 @@
-[submodule "libgd"]
-	path = libgd
-	url = git://git.gnome.org/libgd
diff --git a/Makefile.am b/Makefile.am
index 54009b3..7807d9b 100644
--- a/Makefile.am
+++ b/Makefile.am
@@ -1,6 +1,6 @@
 ACLOCAL_AMFLAGS = -I m4 ${ACLOCAL_FLAGS}
 
-SUBDIRS = libgd po src data misc contrib
+SUBDIRS = po src data misc contrib
 
 EXTRA_DIST =			\
 	autogen.sh		\
diff --git a/autogen.sh b/autogen.sh
index a390e63..d017e2b 100755
--- a/autogen.sh
+++ b/autogen.sh
@@ -5,7 +5,6 @@ srcdir=`dirname $0`
 test -z "$srcdir" && srcdir=.
 
 PKG_NAME="Devhelp"
-ACLOCAL_FLAGS="-I libgd $ACLOCAL_FLAGS"
 
 (test -f $srcdir/src/dh-main.c) || {
     echo -n "**Error**: Directory "\`$srcdir\'" does not look like the"
diff --git a/configure.ac b/configure.ac
index b0ba90d..a27b89c 100644
--- a/configure.ac
+++ b/configure.ac
@@ -92,10 +92,6 @@ AC_PATH_PROG(GLIB_MKENUMS, glib-mkenums)
 
 AM_PATH_PYTHON([2.3],[],[no])
 
-LIBGD_INIT([
-  header-bar
-  static
-])
 
 AC_CONFIG_FILES([
 Makefile
@@ -106,7 +102,6 @@ data/libdevhelp-3.0.pc
 data/devhelp.desktop.in
 data/icons/Makefile
 data/dtd/Makefile
-libgd/Makefile
 misc/Makefile
 misc/gedit-plugin/Makefile
 contrib/Makefile
diff --git a/src/Makefile.am b/src/Makefile.am
index ecb65d6..b09aaa7 100644
--- a/src/Makefile.am
+++ b/src/Makefile.am
@@ -98,11 +98,9 @@ libdevhelp_3_la_CPPFLAGS =				\
 	$(ZLIB_CPPFLAGS)
 
 libdevhelp_3_la_CFLAGS =				\
-	-I$(top_srcdir)/libgd 				\
 	$(LIBDEVHELP_CFLAGS)
 
 libdevhelp_3_la_LIBADD =				\
-	$(top_builddir)/libgd/libgd.la 			\
 	$(LIBDEVHELP_LIBS)				\
 	$(ZLIB_LIBS)					\
 	$(LIBM)
diff --git a/src/dh-window.c b/src/dh-window.c
index 8029e88..4553cec 100644
--- a/src/dh-window.c
+++ b/src/dh-window.c
@@ -28,8 +28,6 @@
 #include <gtk/gtk.h>
 #include <webkit2/webkit2.h>
 
-#include <libgd/gd.h>
-
 #include "dh-book-manager.h"
 #include "dh-book.h"
 #include "dh-sidebar.h"
-- 
1.8.3

