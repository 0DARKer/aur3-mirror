From 46873a7914f576d210aa636cadd03dd05759a284 Mon Sep 17 00:00:00 2001
From: Yosef Or Boczko <yosefor3@walla.com>
Date: Mon, 10 Jun 2013 23:40:42 +0300
Subject: Port to GtkHeaderBar

---
 src/dh-window.c | 9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

diff --git a/src/dh-window.c b/src/dh-window.c
index ab67881..1373919 100644
--- a/src/dh-window.c
+++ b/src/dh-window.c
@@ -661,8 +661,7 @@ window_populate (DhWindow *window)
         priv = window->priv;
         book_manager = dh_app_peek_book_manager (DH_APP (gtk_window_get_application (GTK_WINDOW (window))));
 
-        // TODO: port to GtkHeaderBar in the future
-        priv->header_bar = gd_header_bar_new ();
+        priv->header_bar = gtk_header_bar_new ();
 
         back = gd_header_simple_button_new ();
         gd_header_button_set_label (GD_HEADER_BUTTON (back),
@@ -682,14 +681,14 @@ window_populate (DhWindow *window)
         gtk_style_context_add_class (gtk_widget_get_style_context (box), "linked");
         gtk_box_pack_start (GTK_BOX (box), back, FALSE, FALSE, 0);
         gtk_box_pack_start (GTK_BOX (box), forward, FALSE, FALSE, 0);
-        gd_header_bar_pack_start (GD_HEADER_BAR (priv->header_bar), box);
+        gtk_header_bar_pack_start (GTK_HEADER_BAR (priv->header_bar), box);
 
         menu_button = gd_header_menu_button_new ();
         gd_header_button_set_symbolic_icon_name (GD_HEADER_BUTTON (menu_button),
                                                  "emblem-system-symbolic");
         gtk_actionable_set_action_name (GTK_ACTIONABLE (menu_button), "win.gear-menu");
 
-        gd_header_bar_pack_end (GD_HEADER_BAR (priv->header_bar), menu_button);
+        gtk_header_bar_pack_end (GTK_HEADER_BAR (priv->header_bar), menu_button);
 
         menu = gtk_builder_get_object (priv->builder, "window-menu");
         gtk_menu_button_set_menu_model (GTK_MENU_BUTTON (menu_button), G_MENU_MODEL (menu));
@@ -1328,7 +1327,7 @@ window_update_title (DhWindow      *window,
                 web_view_title = NULL;
         }
 
-        gd_header_bar_set_title (GD_HEADER_BAR (priv->header_bar),
+        gtk_header_bar_set_title (GTK_HEADER_BAR (priv->header_bar),
                                  web_view_title);
 }
 
-- 
1.8.3

