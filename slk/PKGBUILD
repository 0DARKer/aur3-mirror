# Maintainer: FÃ©lix Saparelli <aur@passcod.name>
pkgname=slk
pkgver=1.0.0
pkgrel=1
pkgdesc="Slack chrome-less wrapper"
arch=("any")
url="https://github.com/passcod/slk"
license=("Public Domain")
depends=("node-webkit")
source=("https://github.com/passcod/slk/releases/download/v${pkgver}/slk-${pkgver}-all.nw")
noextract=("slk-${pkgver}-all.nw")
sha512sums=("7f47f0fee723e41f6cf965838e92e74213a5a2d8be93cec52d5a5bb0d8e59ca08073a748864d2ee02ffabb2936151758fb55abaef736d163fd1b6d63a2a9c5c7")

build() {
  cd $srcdir
  cp slk-${pkgver}-all.nw assets.zip
  unzip assets.zip
}

package() {
  cd $srcdir
  install -Dm644 slk-${pkgver}-all.nw $pkgdir/opt/slk/slk.nw
  install -Dm644 LICENSE $pkgdir/usr/share/licences/slk/LICENSE
  install -Dm644 icon.png $pkgdir/usr/share/pixmaps/slk.png
  install -Dm755 releng/arch/slk $pkgdir/usr/bin/slk
  install -Dm644 releng/arch/slk.desktop $pkgdir/usr/share/applications/slk.desktop
}
