From 3c148f31fba1b797322b84298eb802e479f2e809 Mon Sep 17 00:00:00 2001
From: Benoit Favre <benoit.favre@lif.univ-mrs.fr>
Date: Tue, 9 Sep 2014 11:08:56 +0200
Subject: [PATCH] FIX None macro from X11 colliding with Event::None and others

---
 src/she/alleg4/she_alleg4.cpp | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

diff --git a/src/she/alleg4/she_alleg4.cpp b/src/she/alleg4/she_alleg4.cpp
index bf3ed9b..7443aa4 100644
--- a/src/she/alleg4/she_alleg4.cpp
+++ b/src/she/alleg4/she_alleg4.cpp
@@ -37,6 +37,11 @@
   #endif
 #elif defined(ALLEGRO_UNIX)
   #include <xalleg.h>
+  #ifdef None
+  #undef None
+  #define X11_None 0L
+  #endif
+
 #endif
 
 #ifdef WIN32
@@ -628,7 +633,7 @@ public:
     XGrabPointer(_xwin.display, _xwin.window, False,
       PointerMotionMask | ButtonPressMask | ButtonReleaseMask,
       GrabModeAsync, GrabModeAsync,
-      None, None, CurrentTime);
+      X11_None, X11_None, CurrentTime);
 
 #endif
   }
-- 
2.1.0

