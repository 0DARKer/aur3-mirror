# Maintainer: Vinzenz Vietzke <vinz at vinzv dot de>
pkgname=cauldron
pkgver=0.10.4
pkgrel=1
pkgdesc="A cross-platform desktop client for App.net."
url="https://cauldron-app.herokuapp.com/"
arch=('x86_64' 'i686')
license=('custom')
conflicts=('libudev.so.0')
if test "$CARCH" == x86_64; then
	source=('https://files.app.net/1/75221/aS2wTXwJKuWx4bdifahXiXZOniV1tZHxd2EPSbrDfy4kKfc7fRNQ9SoY8Sxw62RDhEsb0A-6ePejzB4sEt00ZrbinQbSf4ipMmlXsCQjaYywfZqQuJK9eTEnVqyIj7YrNdU2DnR-I8yd4I2PY2Xj0d-jXbxOVEaoYybkVUQ7FPAwbAjpB5evfzlsKyFP1InHU' 'cauldron.png' 'cauldron.desktop')
	md5sums=('1b65d4922847fea98a9895aa221a2376' '0f0142efeaf7dc58753e0eb4821a73b4' '59d4fb3b411ed905b3282837d857dfc0')
else
	source=('https://files.app.net/1/75207/a0uE0wv8VzSZlc37QtOltfi_zQ4nF1wCUNHP04wfzS3DCTGTj9zfsxOrM9eUbprKpjeCxdmldddTLEmmSMahJmyswfWd0wGxIMNFdjtr_qsHwDkIBe_84mIraY2yy-_Hs468-xWvm54Wzkd6SXgfOHsGOPp1gkosNqqwhdmfNd5FoWQO39ro5YXMkwIifxuM3' 'cauldron.png' 'cauldron.desktop')
	md5sums=('699c5a0d04821abd60b8f9a2eb0bef5f' '0f0142efeaf7dc58753e0eb4821a73b4' '59d4fb3b411ed905b3282837d857dfc0')
fi

package() {
	cd $pkgdir
	mkdir -p $pkgdir/opt/$pkgname
	cp -r $srcdir/$pkgname/* opt/$pkgname/
	mkdir -p $pkgdir/usr/lib
	ln -s /usr/lib/libudev.so $pkgdir/usr/lib/libudev.so.0
	install -Dm644 $srcdir/$pkgname/LICENSE.txt $pkgdir/usr/share/licenses/$pkgname/LICENSE.txt
	install -Dm644 $srcdir/cauldron.desktop $pkgdir/usr/share/applications/$pkgname.desktop
	install -Dm644 $srcdir/cauldron.png $pkgdir/usr/share/icons/$pkgname.png
}


