# Maintainer: Alex Brinister <alex_brinister at yahoo dot com>
pkgname=frc-aliases-hg
pkgver=1.0
pkgrel=4
pkgdesc="Some aliases for the main VxWorks 6.3 GCC compiler"
arch=('any')
url="http://firstforge.wpi.edu/sf/wiki/do/viewPage/projects.c--11_toochain/wiki/HomePage"
license=('GPL')
makedepends=('mercurial')
provides=('frc-aliases')
conflicts=('frc-gcc-tools')
depends=('gcc-powerpc-wrs-vxworks' 'frc-wpilib')
_hgroot='https://bitbucket.org/frc-cpp11/'
_hgrepo='frc-aliases'
source=(hg+"$_hgroot""$_hgrepo")
sha512sums=('SKIP')

pkgver() {
  cd "$srcdir"/"$pkgname"
  hg identify -ni | awk 'BEGIN{OFS=".";} {print $2,$1}'
}

package() {
  cd "$srcdir/$_hgrepo"
  make DESTDIR="$pkgdir" install
  find "$pkgdir" -type d -name ".git" -exec rm -r '{}' +
}

# vim:set ts=2 sw=2 et:
