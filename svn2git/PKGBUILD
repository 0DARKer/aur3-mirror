# Contributor: Alfredo Palhares <masterkorp at masterkorp dot net>
pkgname=svn2git
pkgver=2.1.0
pkgrel=1
pkgdesc="Tool written in ruby to convert svn repos to git"
arch=(any)
url="https://github.com/nirvdrum/svn2git"
# This tool has nothing to do with svn2git-git in the AUR
# But yet they share the same name
conflicts=('svn2git-git')
license=('MIT')
depends=('ruby' 'git')

makedepends=(rubygems)
source=(https://github.com/nirvdrum/svn2git/tarball/v$pkgver)
md5sums=('832b99f8bfde77a3e81e351b466820eb')

build() {
  cd $srcdir/nirvdrum-svn2git-0fca5c1
  gem build svn2git.gemspec
}
package() {
  cd $srcdir/nirvdrum-svn2git-0fca5c1
  local _gemdir="$(ruby -rubygems -e'puts Gem.default_dir')"
  gem install --ignore-dependencies -i "$pkgdir$_gemdir" svn2git-$pkgver.gem
}
