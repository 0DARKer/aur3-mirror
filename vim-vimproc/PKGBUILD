pkgname=vim-vimproc
pkgver=7.0
_gitcommit=b03a821
pkgrel=1
pkgdesc="Interactive command execution in vim"
arch=('any')
url="https://github.com/Shougo/vimproc.vim"
license=('MIT')
depends=('vim>=7.0')
provides='vim-vimproc'
conflicts='vim-vimproc-git'
groups=('vim-plugins')
install=vimdoc.install
source=($pkgname-$pkgver.tar.gz::"https://github.com/Shougo/vimproc.vim/tarball/$_gitcommit")
sha1sums=('9e61d225fb3f9ac514e03df889b5042e599ceccd')

build() {
	cd "$srcdir/Shougo-vimproc.vim-$_gitcommit"

	make -f make_unix.mak
}

package() {
	cd "$srcdir/Shougo-vimproc.vim-$_gitcommit"

	installpath="${pkgdir}/usr/share/vim/vimfiles"

	install -d $installpath/autoload/vimproc
	install -Dm644 autoload/vimproc.vim $installpath/autoload/vimproc.vim
	install -Dm644 autoload/vimproc_unix.so $installpath/autoload/vimproc_unix.so
	install -Dm644 autoload/vimproc/*.vim $installpath/autoload/vimproc/
	install -Dm644 doc/vimproc.txt $installpath/doc/vimproc.txt
	install -Dm644 plugin/vimproc.vim $installpath/plugin/vimproc.vim
}
