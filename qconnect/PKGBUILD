# Maintainer: Mike Dacre <mike@dacre.me>
pkgname=qconnect
pkgver=1.5
pkgrel=2
pkgdesc="Allows the running of reconnectable programs via torque with tmux, xpra, and tigervnc"
arch=('any')
license=('MIT')
depends=('python' 'torque' 'tmux')
optdepends=('xpra-winswitch: GUI applications'
            'tigervnc: VNC connections')
url="https://github.com/MikeDacre/qconnect"
source=("https://github.com/MikeDacre/qconnect/raw/master/packages/${pkgname}_${pkgver}.tar.gz")
md5sums=('d55a3247901e29d80060fe50a06d7c65')

package() {
  install -dm0755 "$pkgdir/usr/bin"
  install -dm0755 "$pkgdir/usr/share/qconnect"
  install -dm0755 "$pkgdir/usr/share/man/man1"
  install -dm0755 "$pkgdir/usr/share/licenses/qconnect"
  install -m0555 "$srcdir/${pkgname}_${pkgver}/qconnect.py" "$pkgdir/usr/bin"
  install -m0444 "$srcdir/${pkgname}_${pkgver}/README.md" "$pkgdir/usr/share/qconnect"
  install -m0444 "$srcdir/${pkgname}_${pkgver}/LICENSE" "$pkgdir/usr/share/licenses/qconnect"
  install -m0444 "$srcdir/${pkgname}_${pkgver}/qconnect.1.gz" "$pkgdir/usr/share/man/man1/"
  cd "$pkgdir/usr/bin"
  ln -s qconnect.py qconnect
}
