# Maintainer: Michael Louis Thaler <michael.louis.thaler@gmail.com>
# Contributor: Mark Harviston infinull@gmail.com
# Contributor: BlackEagle < ike DOT devolder AT gmail DOT com >
pkgname=jslint
pkgver=0.1.0
pkgrel=2
pkgdesc="Command-line JSLint, installed through npm"
arch=(any)
url="https://github.com/reid/node-jslint"
license=('Custom BSD')
depends=(nodejs)
makedepends=(nodejs-npm)
source=("https://github.com/reid/node-jslint/tarball/$pkgver")
noextract=()
sha256sums=("a7123e42a050ff10f0f351a09af6680555953bdedc051fbc4c0df30427807133")

package() {
  _oldprefix=`npm config get prefix`
  npm config set prefix "$pkgdir$_oldprefix"

  npm install -g "$srcdir/reid-node-jslint-8ff383c"
  chown -R root "$pkgdir$_oldprefix/lib/node_modules"

  install -D -m644 "$srcdir/reid-node-jslint-8ff383c/LICENSE" "$pkgdir/usr/share/licenses/$pkgname/LICENSE"

  npm config set prefix "$_oldprefix"
}

# vim:set ts=2 sw=2 et:
