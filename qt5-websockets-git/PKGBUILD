# Maintainer: Nikita Skovoroda <chalkerx@gmail.com>

pkgname=qt5-websockets-git
pkgver=v0.9.0.209.g7d35f5c
pkgrel=1
pkgdesc="Qt add-on module from qtplayground, implementing WebSockets (both client and server)."
arch=('i686' 'x86_64')
url="https://qt.gitorious.org/qtplayground/websockets/"
license=('LGPL')
depends=('qt5-base')
makedepends=('git')
provides=('qt5-websockets')
conflicts=('qt5-websockets')
source=("git://gitorious.org/qtplayground/websockets.git#branch=master")
sha256sums=('SKIP')
_gitname='websockets'

pkgver() {
	cd "$srcdir/$_gitname"
	git describe --always | sed 's|-|.|g'
}

build() {
	cd "$srcdir/$_gitname"
	qmake
	make
}

package() {
	cd "$srcdir/$_gitname"
	make INSTALL_ROOT="$pkgdir" install
}
