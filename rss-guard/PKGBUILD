# Maintainer: Martin Rotter <rotter.martinos@gmail.com>
# Contributor: Petr Vanek <petr@scribus.info>

pkgname=rss-guard
pkgver=1.0.8
pkgrel=1
pkgdesc='A (very) tiny RSS & ATOM reader (stable version) developed using Qt framework.'
arch=('i686' 'x86_64')
url="http://code.google.com/p/rss-guard/"
license=('GPL3')
depends=(qt qtwebkit hicolor-icon-theme)
makedepends=(gcc)
conflicts=(rss-guard-git)
source=(http://rss-guard.googlecode.com/files/rssguard-$pkgver-src.tar.gz)
md5sums=('6acfddf0edbd8fb510e9156e660ef6f4')

build() {
  cd $srcdir/$pkgname

  if [ ! -d "build" ]; then
    mkdir "build"
  fi
  
  cd "build"

  msg "Preparing files with qmake..."
  cmake ../ -DCMAKE_INSTALL_PREFIX=/usr -DCMAKE_BUILD_TYPE=release

  msg "Compiling files..."
  make -j3 DESTDIR=${pkgdir} install || return 1
  msg "All files were successfully compiled..."
}
