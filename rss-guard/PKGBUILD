# Maintainer: Martin Rotter <rotter.martinos@gmail.com>
# Contributor: Petr Vanek <petr@scribus.info>

pkgname=rss-guard
pkgver=1.0.4
pkgrel=3
pkgdesc='A (very) tiny RSS & ATOM reader developed using Qt framework.'
arch=('i686' 'x86_64')
url="http://code.google.com/p/rss-guard/"
license=('GPL3')
depends=(qt qtwebkit hicolor-icon-theme)
makedepends=(gcc)
conflicts=(rss-guard-git)
source=(http://rss-guard.googlecode.com/files/rssg-$pkgver-src.tar.gz)
md5sums=('43c23c18b19c36b72723782b7c660bce')

build() {
  cd $srcdir/$pkgname

  msg "Preparing files with qmake..."
  qmake -makefile -Wall -recursive
  qmake *.pro

  msg "Compiling files..."
  make
  msg "All files were successfully compiled..."
}

package() {
  install -D -m755 $srcdir/$pkgname/bin/rssguard $pkgdir/usr/bin/rssguard
  install -D -m755 $srcdir/$pkgname/resources/graphics/rssguard.png $pkgdir/usr/share/icons/hicolor/128x128/apps/rssguard.png
  install -D -m755 $srcdir/$pkgname/resources/desktops/rssguard.desktop $pkgdir/usr/share/applications/rssguard.desktop
}
