# Maintainer: Thomas Dziedzic < gostrc at gmail >
# Contributor: Pierre-Paul Paquin <pierrepaulpaquin@gmail.com>

pkgname=perl-chart-gnuplot
pkgver=0.15
pkgrel=1
pkgdesc='Perl Module: Plot graph using Gnuplot on the fly.'
arch=('i686' 'x86_64')
license=('GPL2' 'PerlArtistic')
url='http://search.cpan.org/dist/Chart-Gnuplot/'
depends=('perl' 'gnuplot')
optdepends=('imagemagick: for image format other than PS, PDF and EPS')
options=(!emptydirs)
source=("http://search.cpan.org/CPAN/authors/id/K/KW/KWMAK/Chart/Gnuplot/Chart-Gnuplot-$pkgver.tar.gz")
md5sums=('e7ac1342c9900c2957072610f21b75b6')

build() {
  cd Chart-Gnuplot-${pkgver}

  # install module in vendor directories.
  perl Makefile.PL INSTALLDIRS=vendor || return 1

  make  || return 1

  make install DESTDIR="$pkgdir" || return 1

  # remove perllocal.pod and .packlist
  find "$pkgdir" -name 'perllocal.pod' -delete
  find "$pkgdir" -name '.packlist' -delete
}
