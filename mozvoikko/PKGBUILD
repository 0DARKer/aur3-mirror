# Contributor: Jussi Timperi <jussi.timperi at gmail dot com>

pkgname=mozvoikko
pkgver=1.10.0
pkgrel=1
pkgdesc="Finnish spell-checker extension for Firefox using Voikko"
arch=('i686' 'x86_64')
url="http://voikko.sourceforge.net"
license=('GPL2')
depends=('firefox' 'libvoikko')
makedepends=('xulrunner')
source=(http://downloads.sourceforge.net/voikko/$pkgname-$pkgver.tar.gz)

build() {
  cd "$srcdir/$pkgname-$pkgver"

  sed 's|libxul-unstable|libxul|'		-i src/Makefile.xulrunner
  sed 's|$(CC_LIBS)|$(CC_LIBS) -lmozalloc|'	-i src/Makefile.xulrunner


  make -f Makefile.xulrunner extension-files
}

package() {
  cd "$srcdir/$pkgname-$pkgver"

  make -f Makefile.xulrunner DESTDIR="$pkgdir/usr/lib/firefox-5.0/extensions" install-unpacked
}

# vim:set ts=2 sw=2 et:
md5sums=('990539400b501008879e2159fa33615f')
md5sums=('2b88a22a740635760aadbcee7dc3d6ef')
