# Maintainer: Yosef Or Boczko <yoseforb@gnome.org>

_pkgname=webkitgtk
pkgname=webkitgtk4
pkgver=2.5.2
pkgrel=1
pkgdesc="GTK+ Web content engine library"
arch=(i686 x86_64)
url="http://webkitgtk.org/"
license=(custom)
depends=(libxt libxslt sqlite libsoup enchant libgl geoclue gtk3 gst-plugins-base-libs
         libsecret libwebp harfbuzz-icu wayland)
makedepends=(gperf gobject-introspection python mesa ruby gtk-doc)
options=(!libtool !emptydirs)
source=(http://webkitgtk.org/releases/$_pkgname-${pkgver}.tar.xz)
sha256sums=('fe9ae532ad04617a478e8e0440ad52305a65577321263c724e8b4d24af047eca')

build() {
  cd $_pkgname-$pkgver
  cmake -DCMAKE_INSTALL_PREFIX=/usr -DCMAKE_INSTALL_LIBDIR=lib -DPORT=GTK -DCMAKE_BUILD_TYPE=Release .
  make
}

package() {
  cd $_pkgname-$pkgver
  make -j1 DESTDIR="$pkgdir" install
}
