# Maintainer: boenki <boenki at gmx dot de>
# Contributor: Mick Elliot <micke at sfu dot ca>

pkgname=mafft
pkgver=6.847
pkgrel=2
pkgdesc="Multiple alignment program for amino acid or nucleotide sequences"
arch=('i686' 'x86_64')
url="http://mafft.cbrc.jp/alignment/software"
license=('custom')
depends=('ruby')
source=($url/$pkgname-$pkgver-with-extensions-src.tgz)
md5sums=('ee68e4783c1fd42f29fdebc0bbac8ebf')

build() {
  cd $srcdir/$pkgname-$pkgver-with-extensions/core
  make -e PREFIX=/usr

  cd ../extensions
  make -e PREFIX=/usr
}

package() {
  cd $srcdir/$pkgname-$pkgver-with-extensions/core
  make PREFIX=$pkgdir/usr install

  cd ../extensions
  make PREFIX=$pkgdir/usr install

  cd ..
  install -Dm644 license $pkgdir/usr/share/licenses/mafft/license
  install -Dm644 license.extensions $pkgdir/usr/share/licenses/mafft/license.extensions

  rm $pkgdir/usr/lib/mafft/*.1
}