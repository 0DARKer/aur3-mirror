# Original Contributor: Nicolas Joseph <nicolas.joseph@valaide.org>
# Contributed by: Forrest Loomis <loomis.forrest@gmail.com>
pkgname=valide-svn
pkgver=462
pkgrel=1
pkgdesc="Val(a)IDE is an Integrated Development Environment for the Vala programming language."
arch=('i686' 'x86_64')
url="http://www.valaide.org/"
license=('GPL3')
depends=('gtksourceview2' 'vala' 'libunique' 'subversion' 'gdl')
options=(!emptydirs)

_svntrunk="http://valide.googlecode.com/svn/trunk"
_svnmod="valide"

build() {
cd $startdir/src

msg "Checking for previous build"
if [ -d $_svnmod/.svn ] ; then
	msg "Retrieving updates"
	cd $_svnmod
	svn up || return 1
else
	msg "Retrieving complete sources"
	svn co $_svntrunk $_svnmod || return 1
	cd $_svnmod
fi

msg "SVN checkout done or server timeout"
msg "Starting make..."

./waf configure --prefix=/usr
./waf || return 1
./waf install --destdir="$pkgdir"
}

