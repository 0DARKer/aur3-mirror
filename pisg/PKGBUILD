# Contributor: Eduard "bekks" Warkentin <eduard.warkentin@gmail.com>
pkgname=pisg
pkgver=0.72
pkgrel=2
pkgdesc="pisg is an IRC channel statics generator written in Perl, it creates statistics from different logfile formats"
arch=('i686')
url="http://pisg.sourceforge.net/"
depends=(perl)
backup=(opt/pisg/pisg.cfg)
source=(http://prdownloads.sourceforge.net/$pkgname/$pkgname-$pkgver.tar.gz)
install=pisg.install
license=('GPL')

build() {
	mkdir -p $startdir/pkg/opt/$pkgname/docs/dev
	mkdir -p $startdir/pkg/opt/$pkgname/gfx
	mkdir -p $startdir/pkg/opt/$pkgname/layout
	mkdir -p $startdir/pkg/opt/$pkgname/modules/Pisg/Parser/Format
	mkdir -p $startdir/pkg/opt/$pkgname/scripts/addalias
	mkdir -p $startdir/pkg/opt/$pkgname/scripts/pum
	cd $startdir/src/$pkgname-$pkgver
	install -Dm644 COPYING README lang.txt pisg.cfg $startdir/pkg/opt/$pkgname/
	install -Dm755 pisg $startdir/pkg/opt/$pkgname/
	cd $startdir/src/$pkgname-$pkgver/docs
	install -Dm644 CREDITS Changelog pisg-doc.html pisg-doc.txt pisg-doc.xml pisg.1 pisg.sgml $startdir/pkg/opt/$pkgname/docs/
	install -Dm644 $startdir/src/$pkgname-$pkgver/docs/dev/API $startdir/pkg/opt/$pkgname/docs/dev/
	install -Dm644 $startdir/src/$pkgname-$pkgver/gfx/*.png $startdir/pkg/opt/$pkgname/gfx/
	install -Dm644 $startdir/src/$pkgname-$pkgver/layout/*.css $startdir/pkg/opt/$pkgname/layout/
	install -Dm644 $startdir/src/$pkgname-$pkgver/modules/*.pm $startdir/pkg/opt/$pkgname/modules/
	install -Dm644 $startdir/src/$pkgname-$pkgver/modules/Pisg/*.pm $startdir/pkg/opt/$pkgname/modules/Pisg/
	install -Dm644 $startdir/src/$pkgname-$pkgver/modules/Pisg/Parser/*.pm $startdir/pkg/opt/$pkgname/modules/Pisg/Parser/
	install -Dm644 $startdir/src/$pkgname-$pkgver/modules/Pisg/Parser/Format/*.pm $startdir/pkg/opt/$pkgname/modules/Pisg/Parser/Format/
	cd $startdir/src/$pkgname-$pkgver/scripts
	install -Dm644 crontab *.pl *.awk *.tcl *.sed *.txt $startdir/pkg/opt/$pkgname/scripts/
	cd $startdir/src/$pkgname-$pkgver/scripts/addalias
	install -Dm644 README $startdir/pkg/opt/$pkgname/scripts/addalias/
	install -D addalias.pl $startdir/pkg/opt/$pkgname/scripts/addalias/
	cd $startdir/src/$pkgname-$pkgver/scripts/pum
	install -Dm644 pum.conf $startdir/pkg/opt/$pkgname/scripts/pum/
	install -D pum.pl $startdir/pkg/opt/$pkgname/scripts/pum/
}	
md5sums=('28ffff94b052ff8ba7621d7d8394b296')
