# Maintainer: Szu-Han Chen <sjchen@sjchen.com>
# Contributor: Eduard "bekks" Warkentin <eduard.warkentin@gmail.com>
pkgname=pisg
pkgver=0.72
pkgrel=2
pkgdesc="An irc log parser"
arch=('i686')
url="http://pisg.sourceforge.net/"
depends=(perl)
backup=(etc/pisg/pisg.cfg)
source=(http://prdownloads.sourceforge.net/${pkgname}/${pkgname}-${pkgver}.tar.gz)
install=pisg.install
license=('GPL')

build() {
	mkdir -p ${pkgdir}/usr/share/doc/${pkgname}/docs/dev
    mkdir -p ${pkgdir}/etc/${pkgname}/gfx
	mkdir -p ${pkgdir}/etc/${pkgname}/layout
    mkdir -p ${pkgdir}/usr/lib/${pkgname}/modules/Pisg/Parser/Format
	mkdir -p ${pkgdir}/etc/${pkgname}/scripts/addalias
	mkdir -p ${pkgdir}/etc/${pkgname}/scripts/pum
    mkdir -p ${pkgdir}/usr/bin
	cd ${srcdir}/${pkgname}-${pkgver}
	install -Dm644 COPYING README lang.txt pisg.cfg ${pkgdir}/etc/${pkgname}/
	install -Dm755 pisg ${pkgdir}/usr/bin/
	cd ${srcdir}/${pkgname}-${pkgver}/docs
	install -Dm644 CREDITS Changelog pisg-doc.html pisg-doc.txt pisg-doc.xml pisg.1 pisg.sgml ${pkgdir}/usr/share/doc/${pkgname}/docs/
	install -Dm644 ${srcdir}/${pkgname}-${pkgver}/docs/dev/API ${pkgdir}/usr/share/doc/${pkgname}/docs/dev/
	install -Dm644 ${srcdir}/${pkgname}-${pkgver}/gfx/*.png ${pkgdir}/etc/${pkgname}/gfx/
	install -Dm644 ${srcdir}/${pkgname}-${pkgver}/layout/*.css ${pkgdir}/etc/${pkgname}/layout/
	install -Dm644 ${srcdir}/${pkgname}-${pkgver}/modules/*.pm ${pkgdir}/usr/lib/${pkgname}/modules/
	install -Dm644 ${srcdir}/${pkgname}-${pkgver}/modules/Pisg/*.pm ${pkgdir}/usr/lib/${pkgname}/modules/Pisg/
	install -Dm644 ${srcdir}/${pkgname}-${pkgver}/modules/Pisg/Parser/*.pm ${pkgdir}/usr/lib/${pkgname}/modules/Pisg/Parser/
	install -Dm644 ${srcdir}/${pkgname}-${pkgver}/modules/Pisg/Parser/Format/*.pm ${pkgdir}/usr/lib/${pkgname}/modules/Pisg/Parser/Format/
	cd ${srcdir}/${pkgname}-${pkgver}/scripts
	install -Dm644 crontab *.pl *.awk *.tcl *.sed *.txt ${pkgdir}/etc/${pkgname}/scripts/
	cd ${srcdir}/${pkgname}-${pkgver}/scripts/addalias
	install -Dm644 README ${pkgdir}/etc/${pkgname}/scripts/addalias/
	install -D addalias.pl ${pkgdir}/etc/${pkgname}/scripts/addalias/
	cd ${srcdir}/${pkgname}-${pkgver}/scripts/pum
	install -Dm644 pum.conf ${pkgdir}/etc/${pkgname}/scripts/pum/
	install -D pum.pl ${pkgdir}/etc/${pkgname}/scripts/pum/
}	
md5sums=('28ffff94b052ff8ba7621d7d8394b296')
