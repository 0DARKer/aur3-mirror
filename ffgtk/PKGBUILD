# Contributor: Bernhard Walle <bernhard.walle@gmx.de>
# Maintainer: Bjoern Franke <bjo@nord-west.org>
# AUR Category: office
pkgname=ffgtk
pkgver=0.8.4
pkgrel=2
pkgdesc="FRITZ!Box Fax-Software and Call-Monitor"
url="http://www.tabos.org/ffgtk"
license="GPL"
depends=('libcapi20' 'spandsp' 'libao' 'libsndfile' 'speex')
makedepends=('libcapi20' 'spandsp' 'intltool' 'libao' 'libsndfile' 'speex')
conflicts=('ffgtk-svn')
arch=(i686 x86_64)
source=(http://www.tabos.org/ffgtk/download/${pkgname}-${pkgver}.tar.bz2
	'fix_configure.patch')
md5sums=('e3cb3018918f08774b797d71d2a21888'
	 '8f84c098e1c08c55e6a918f487d9de0c')
install="ffgtk.install"

build() {

  patch -p1 -i fix_configure.patch
  cd ${srcdir}/${pkgname}-${pkgver}
  ./autogen.sh
  export LIBS=-lgmodule-2.0;./configure --prefix=/usr --sysconfdir=/etc --with-gnome-keyring=no --disable-Werror
  make || return 1
  make DESTDIR=${pkgdir} install || return 1
}
