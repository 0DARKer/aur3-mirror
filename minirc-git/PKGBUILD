# Maintainer: Jean-Philippe Gagn√© Guay <jeanphilippe150@gmail.com>
# Contributor: Sam Stuewe <halosghost at archlinux dot info>

_gitname=minirc
pkgname="${_gitname}-git"
pkgver=104.7452ce7
pkgrel=1
pkgdesc="A minimalist init system using busybox"
arch=('any')
url="https://github.com/hut/${_gitname}/"
license=('GPLv2')
conflicts=('systemd-sysvcompat' 'sysvinit')
depends=('busybox')
optdepends=('systemd: udev support')
makedepends=('git' 'sh')
source=("${_gitname}::git://github.com/hut/${_gitname}.git")
sha256sums=('SKIP')
backup=('etc/inittab' 'etc/minirc.conf')

pkgver() {
  cd "${_gitname}"
  echo "$(git rev-list --count HEAD).$(git describe --always )"
}

package() {
  cd "${_gitname}"

  # Execute Install Script
  ROOT="${pkgdir}" ./setup.sh --force
}
