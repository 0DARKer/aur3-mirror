# Contributor: paul2lv [at] gmail dot com
# Maintainer: 

pkgname=foldingathome-v7
pkgver=7.1.52
pkgrel=2
pkgdesc="Folding@Home is a distributed computing project which studies protein folding, misfolding, aggregation, and related diseases."
arch=('i686' 'x86_64')
url="http://folding.stanford.edu/"
license=('CUSTOM')
depends=('glibc')
install=foldingathome-v7.install

_source_arch="32bit"
[ "$CARCH" = "x86_64" ] && _source_arch="64bit"

source=(http://fah-web.stanford.edu/file-releases/public/release/fahclient/debian-testing-${_source_arch}/v7.1/fahclient_${pkgver}-${_source_arch}-release.tar.bz2
		foldingathome-v7.rc.d)

build() {
  cd "$srcdir"

  install -D -c -m755 fahclient_${pkgver}-${_source_arch}-release/FAHClient "$pkgdir"/opt/fah-v7/FAHClient
  install -D -c -m755 fahclient_${pkgver}-${_source_arch}-release/FAHCoreWrapper "$pkgdir"/opt/fah-v7/FAHCoreWrapper
  install -D -c -m755 "$srcdir"/foldingathome-v7.rc.d "$pkgdir"/etc/rc.d/foldingathome-v7
  install -D -c -m755 fahclient_${pkgver}-${_source_arch}-release/sample-config.xml "$pkgdir"/opt/fah-v7/sample-config.xml

  chmod 755 "$pkgdir"/opt/fah-v7/FAHClient
  chmod 755 "$pkgdir"/opt/fah-v7/FAHCoreWrapper
  install -D -m644 fahclient_${pkgver}-${_source_arch}-release/copyright "$pkgdir"/usr/share/licenses/$pkgname/copyright
  install -D -m644 fahclient_${pkgver}-${_source_arch}-release/README "$pkgdir"/opt/fah-v7/README
  install -D -m644 fahclient_${pkgver}-${_source_arch}-release/ChangeLog "$pkgdir"/opt/fah-v7/ChangeLog
}


md5sums=('69b55e9de7d45538a17bec92289d09b7'
         '50481b4e31edb24519e855d770955eda')

[ "$CARCH" = "i686" ] && md5sums[0]='152f1bb45efe1f28a309c44f0b121be0'

