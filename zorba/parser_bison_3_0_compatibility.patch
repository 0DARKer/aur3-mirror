--- zorba-2.9.1/src/compiler/parser/parser.y	2013-05-29 09:47:42.000000000 +0200
+++ src/zorba-2.9.1/src/compiler/parser/parser.y	2013-09-18 11:48:56.902977041 +0200
@@ -31,8 +31,7 @@
 %skeleton "lalr1.cc"  /*  -*- C++ -*- */
 %require "2.4"
 %defines
-%name-prefix="zorba"
-%pure-parser
+%name-prefix "zorba"
 %error-verbose
 
 
@@ -45,9 +44,9 @@
 
 
 #ifdef XQUERY_PARSER
-%define "parser_class_name" "xquery_parser"
+%define "parser_class_name" { xquery_parser }
 #else
-%define "parser_class_name" "jsoniq_parser"
+%define "parser_class_name" { jsoniq_parser }
 #endif
 
 
@@ -4598,21 +4597,21 @@
             $$ = NumericLiteral::new_literal(
                 LOC(@$), ParseConstants::num_decimal, *$1
             );
-            delete yylval.decval;
+            delete yylhs.value.decval;
         }
     |   INTEGER_LITERAL
         {
             $$ = NumericLiteral::new_literal(
                 LOC(@$), ParseConstants::num_integer, *$1
             );
-            delete yylval.ival;
+            delete yylhs.value.ival;
         }
     |   DOUBLE_LITERAL
         {
             $$ = NumericLiteral::new_literal(
                 LOC(@$), ParseConstants::num_double, *$1
             );
-            delete yylval.dval;
+            delete yylhs.value.dval;
         }
     ;
     
