# Maintainer: Wyatt J. Brown <sushidudeteam@gmail.com>
pkgname=update-pacman-mirrorlist
pkgver=20150528
pkgrel=2
pkgdesc='Automatically updates the pacman mirrorlist.'
arch=('any')
url='https://aur.archlinux.org/packages/update-pacman-mirrorlist/'
license=('BSD')
source=(update-pacman-mirrorlist{,.{config,service,timer}} LICENSE)
sha512sums=('034f27ed83f9e293a94a74ad49ca0652504f51e17b789b25a3232bae781faec5aec1d07e49a778fcbc5b55e460a93246bdd4e13c762ab50a125e2698616011f5'
            'e33515cce5d513727edced51078bfe3c0bdc9fa45368606d863d2b7332cd8c138d306b69892c3ec6992c70d4bedabdb153835885b44fe8d8a936b1829f2a51b6'
            '9a69dabc99889f4883685e0593d6b3216aba0d52134c2164f2425812350f2f447dbdc8f8579483012f6e54bd5f1f3668b8cf893e73bbe2eafb2709dd7fa4da87'
            'cd097bdef41c8f25a3b884c9b34602d3704893a1358afa75bda6154f5d30e90457d9407576a7a75a156bc96e5e7423fe84f4fab5db137b18cc1d89e80bde8fd6'
            '74fe42bbc7c50c09d8694f8ba98c81932e27c2ea43d3d49add6a82e9f2e2f6b25c039a39f7c477d7012bdbcdcef03443249a06e6acec9ab9aafc5d72df3d8c07')
package()
{
	cd "$srcdir"

	install -Dm755 update-pacman-mirrorlist "$pkgdir/usr/bin/update-pacman-mirrorlist"
	install -Dm644 update-pacman-mirrorlist.config "$pkgdir/etc/update-pacman-mirrorlist"

	install -Dm644 update-pacman-mirrorlist.service "$pkgdir/usr/lib/systemd/system/update-pacman-mirrorlist.service"
	install -Dm644 update-pacman-mirrorlist.timer "$pkgdir/usr/lib/systemd/system/update-pacman-mirrorlist.timer"
	install -dm755 "$pkgdir/usr/lib/systemd/system/multi-user.target.wants"
	ln -s ../update-pacman-mirrorlist.timer "$pkgdir/usr/lib/systemd/system/multi-user.target.wants/update-pacman-mirrorlist.timer"

	install -Dm644 LICENSE "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
}
