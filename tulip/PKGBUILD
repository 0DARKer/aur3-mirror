# $Id: PKGBUILD,v 1.12 2003/11/06 08:26:13 dorphell Exp $
# Maintainer: Thomas Aynaud <taynaud at gmail dot com>
pkgname=tulip
pkgver=3.5.0 # note: if the pkgver had been '0.99-10' then use an underscore. like '0.99_10'
pkgrel=4
pkgdesc='Tulip is an information visualization framework dedicated to the analysis and visualization of relational data Tulip aims to provide the developer user with a complete library software supporting the design of interactive information visualization'
arch=(i686 x86_64)
url="http://www.tulip-software.org"
license=('GPL')
groups=
provides=
depends=('python2' 'ftgl' 'qt' 'libxml2' 'glew' 'freetype2')
makedepends=('cmake')
conflicts=
replaces=
backup=
install=
source=("gcc46.patch" "directory.patch" "http://sourceforge.net/projects/auber/files/$pkgname/$pkgname-$pkgver/$pkgname-$pkgver-src.tar.gz/download")
md5sums=('b7317e879292c58f78effafc4da7bec8'
         '06b1b420f2bd9dbda2a9338f1ac7840f'
         'e09d27583fdfef23258a19fcdef412d2')
build() {
  cd $srcdir/$pkgname-$pkgver-src
  patch -N -p 0 -i ../../gcc46.patch || return 1
  patch -N -p 0 -i ../../directory.patch || return 1
  mkdir -p build
  cd build 
  cmake .. -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=$pkgdir/opt/$pkgname || return 1
  make || return 1
  make install
  mkdir -p $pkgdir/etc/profile.d
  echo "export PATH=\$PATH:/opt/tulip/bin" > $pkgdir/etc/profile.d/tulip.sh
  chmod +x $pkgdir/etc/profile.d/tulip.sh
  export PATH=$PATH:/opt/tulip/bin
}
