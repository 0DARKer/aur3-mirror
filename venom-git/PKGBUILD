# Maintainer: naxuroqa <naxuroqa@gmail.com>
pkgname=venom-git
_gitname=Venom
pkgver=286.42188f2
pkgrel=1
pkgdesc="A Vala/Gtk+ GUI for Tox"
arch=('i686' 'x86_64')
url="https://github.com/naxuroqa/Venom"
license=('GPL')
makedepends=('git' 'cmake' 'vala>=0.18')
depends=('libgee>=0.8.0' 'gtk3>=3.4.1' 'sqlite>=3.7.9' 'json-glib>=0.14.2' 'tox' 'hicolor-icon-theme' 'desktop-file-utils')
conflicts=('venom')
provides=('venom')
options=()
install=venom.install
source=("git://github.com/naxuroqa/Venom.git")
md5sums=('SKIP')

pkgver() {
  cd $_gitname
  echo $(git rev-list --count HEAD).$(git rev-parse --short HEAD)
}

build() {
  cd "$srcdir/$_gitname"

  mkdir build && cd build
  cmake .. -DCMAKE_INSTALL_PREFIX=/usr/
  make
}

package() {
  cd "$srcdir/$_gitname"

  cd build
  make DESTDIR="$pkgdir" install
}
# vim:set ts=2 sw=2 et:
