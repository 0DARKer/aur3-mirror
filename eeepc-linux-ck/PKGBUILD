# Maintainer: OK <ok100.ok100.ok100@gmail.com>

pkgname=eeepc-linux-ck
pkgver=0.2
pkgrel=1
pkgdesc="Eeepc-linux is a kernel module that allows control of the fan and fsb speeds. For use with kernel-eee-ck."
arch=('i686')
url="http://code.google.com/p/eeepc-linux/"
license=('GPL')
makedepends=('pkgconfig' 'kernel-eee-ck-headers')
install=(eeepc-linux.install)
# Actually from http://eeepc-linux.googlecode.com/issues/attachment?aid=-7397919136469029828&name=asus_eee-$pkgver.tar.gz
# Doesn't really work, hence the sources are added to the package
source=(eeepc-linux-$pkgver.tar.gz
        eeepc-linux-$pkgver-kernel2.6.39.patch)

build() {
  cd $srcdir
  patch -Np1 < eeepc-linux-$pkgver-kernel2.6.39.patch
  cd eeepc-linux/module
  make || return 1
  install -Dm644 $srcdir/eeepc-linux/module/eee.ko $pkgdir/lib/modules/$(uname -r)/kernel/acpi/eee.ko || return 1
}

md5sums=('7d13ee1f5f0a533ef4b7694823dda06f'
         '30a416c438557907c4dac3393ac2d39b')
