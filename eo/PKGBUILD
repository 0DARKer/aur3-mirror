# Contributor: Sebastien Piccand <sebcactus gmail com>
pkgname=eo
pkgver=1.2.0
pkgrel=1
pkgdesc="EO is a templates-based, ANSI-C++ compliant evolutionary computation library"
arch=('i686')
url="http://eodev.sourceforge.net/"
license=('LGPL')
conflicts=('galib')
makedepends=('cmake')
source=(http://dl.sourceforge.net/project/eodev/$pkgname/$pkgver/EO-$pkgver.zip)
md5sums=('1cb942f7e7d0c9d936dd901479a4af30')

build() {
  cd ${srcdir}/${pkgname}
  sed -i 's|#include <functional>|#include <functional>\n#include <cstddef>|' src/eoFunctor.h
  mkdir build
  cd build
  cmake -DCMAKE_INSTALL_PREFIX="/usr" -DCMAKE_CXX_FLAGS="${CXXFLAGS}" ..
  make || return 1
}

package() {
  cd ${srcdir}/${pkgname}/build
  make DESTDIR=${pkgdir} install || return 1
  # clean build
  rm -r ${srcdir}/${pkgname}/build
}
