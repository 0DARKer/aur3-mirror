# Contributor: Michael P <ptchinster@archlinux.us>
# Contributor: Roberto Alsina <ralsina@kde.org>
# Edited by Will Chappell <mr.chapendi@gmail.com>

pkgname=ragel
pkgver=6.6
pkgrel=6
pkgdesc="Compiles finite state machines from regular languages into executable C, C++, Objective-C, or D code."
arch=('i686' 'x86_64')
url="http://www.cs.queensu.ca/home/thurston/ragel/"
license=("GPL")
depends=(gcc-libs)
source=("http://www.cs.queensu.ca/home/thurston/ragel/$pkgname-$pkgver.tar.gz")
md5sums=('5c4366369f4934adc02bd71dc1a4ee1f')
build() {
	cd $startdir/src
	cd $pkgname-$pkgver/ragel

	for i in *.cpp *.h
	do
		sed -i "s/const char/char/g" $i
	done

	cd $startdir/src/$pkgname-$pkgver
	./configure --prefix=/usr
	make || return 1
	make DESTDIR=$startdir/pkg install || return 1
}

