# Contributor: Jonathan Liu <net147@gmail.com>
pkgname=arpon
_realpkgname=ArpON
pkgver=2.1
pkgrel=1
pkgdesc="ArpON (Arp handler inspectiON) is a portable Arp handler"
arch=('i686' 'x86_64')
url="http://arpon.sourceforge.net/"
license=('custom')
depends=('bash' 'libnet>=1.1.2.1' 'libpcap>=0.9.8')
makedepends=('libdnet>=1.11')
backup=('etc/conf.d/arpon')
source=("http://downloads.sourceforge.net/sourceforge/$pkgname/$_realpkgname-$pkgver.tar.gz"
        "arpon"
        "arpon.conf.d")
md5sums=('df91f9b12ed7461808afaea890ad3947'
         '86f43d0040e3947c0509de1ed0902775'
         'f4ae37f8907bb24e3084725c9c66532c')

build() {
  cd "$srcdir/$_realpkgname-$pkgver"
  cmake .
}

package() {
  cd "$srcdir/$_realpkgname-$pkgver"
  make DESTDIR="$pkgdir" install
  install -D -m644 LICENSE "$startdir/pkg/usr/share/licenses/$pkgname/LICENSE"
  install -D -m755 "$srcdir/arpon" "$pkgdir/etc/rc.d/arpon"
  install -D -m644 "$srcdir/arpon.conf.d" "$pkgdir/etc/conf.d/arpon"
}

# vim:set ts=2 sw=2 et:
