# Maintainer: fxbru <frxbru[at]gmail>

pkgname='sslyze'
pkgver=0.5
pkgrel=1
pkgdesc="Python tool for analyzing the configuration of SSL servers and for identifying misconfigurations"

arch=('any')
url=('https://github.com/iSECPartners/sslyze')
license=('GPLv2')

depends=('python2')
source=(https://github.com/downloads/iSECPartners/sslyze/${pkgname}-${pkgver}_src.zip)
md5sums=('0cdaba1c75c1bd5d1fd3d4a28dd52493')

package() {
	# Install files in /opt
	mkdir -p "$pkgdir/opt"
	mv $srcdir/${pkgname}-${pkgver}_src $pkgdir/opt/sslyze
	# Create an indirect launcher in /usr/bin
  mkdir -p $pkgdir/usr/bin
  cat > "$pkgdir/usr/bin/sslyze" << EOF
#!/bin/bash
cd /opt/sslyze
python2 sslyze.py \$@
cd \$OLDPWD
EOF
  chmod 755 "$pkgdir/usr/bin/sslyze"
}
