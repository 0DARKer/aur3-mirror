# Contributor: Kyle Keen <keenerd@gmail.com>
pkgname=razor-qt-svn
pkgver=190
pkgrel=1
pkgdesc="A complete WM/DE, at one time based on Anitco."
url="http://razor-qt.sf.net"
arch=('i686' 'x86_64')
license="GPL"
depends=('qt')
makedepends=('subversion')
source=()
md5sums=()

_svntrunk="https://razor-qt.svn.sourceforge.net/svnroot/razor-qt"
_svnmod="razor-qt"

build() {
  cd "$srcdir"
  if [ -d $_svnmod/.svn ]; then
    (cd $_svnmod && svn up -r $pkgver)
  else
    svn co $_svntrunk --config-dir ./ -r $pkgver $_svnmod
  fi

  msg "SVN checkout done or server timeout"
  msg "Starting make..."

  cd $_svnmod/trunk

  cmake -DCMAKE_INSTALL_PREFIX=/usr
  make
}

package() {
  cd "$srcdir/$_svnmod/trunk"
  make DESTDIR="$pkgdir/" install
}
