# Maintainer: Sven-Hendrik Haase <sh@lutzhaase.com>
# Contributor: Christoph Zeiler <archNOSPAM_at_moonblade.dot.org>

pkgname=fmodex-devel
pkgver=4.37.01
pkgrel=1
pkgdesc="An advanced audio engine"
arch=('i686' 'x86_64')
url="http://www.fmod.org/"
license=('custom')
depends=('gcc-libs')
provides=('fmodex')
conflicts=('fmodex')
md5sums=('6f78ecf918455e3a6e599a6e67244546')
[ "$CARCH" = "x86_64" ] && {
	_pkgarch=64
	md5sums=('8a576f150459eb783d6eb243745ccc87')
}

source=(http://www.fmod.org/index.php/release/version/fmodapi${pkgver//./}linux${_pkgarch}.tar.gz)

build() {
  cd fmodapi${pkgver//./}linux${_pkgarch}

  mkdir -p ${pkgdir}/usr/lib

  make  DESTLIBDIR=${pkgdir}/usr/lib \
	DESTHDRDIR=${pkgdir}/usr/include/fmodex \
	install

  install -Dm644 documentation/LICENSE.TXT ${pkgdir}/usr/share/licenses/${pkgname}/LICENSE

  cd ${pkgdir}/usr/lib

  for i in libfmodex{,p}; do
    ln -sf $i$_pkgarch-$pkgver.so $i$_pkgarch.so
    [ "$CARCH" = "x86_64" ] && ln -sf $i$_pkgarch.so $i.so
    :
  done
}

# vim:set ts=2 sw=2 et:
