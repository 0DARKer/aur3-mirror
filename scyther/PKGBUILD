
# Maintainer: Luca Fulchir <luca@fulchir.it>

pkgname=scyther
pkgver=v1.1.2
pkgrel=1
pkgdesc="Tool for the symbolic analysis of security protocols"
arch=('i686' 'x86_64')
depends=('python2' 'graphviz' 'wxpython')
url="http://people.inf.ethz.ch/cremersc/scyther/"
license=('GPL')
source=("http://www.cs.ox.ac.uk/people/cas.cremers/downloads/scyther/scyther-linux-${pkgver}.tgz" 'scyther.desktop')
md5sums=('b670b53cc63f5fc7c0b080fad174c83f'
         '3f09cd0a790e58c8c42b129118ecde8e')
sha1sums=('80c93cc491a886582453a3d56768ce7275a9f0ac'
          '293a960b39ffcc3d26480713b29505d94d08701f')
sha256sums=('d3843a18c192a36d185887be96d42664e204cf1aa44eb595860290a1c339ae9e'
            'd3bc8366a76892d47252c517246310e76e8e14af7856fb85a89b7e1de1c9dc07')

package() {
	cd "$srcdir/$pkgname-linux-$pkgver"
	mkdir -p $pkgdir/usr/{bin,share/applications}
	cp -a $srcdir/$pkgname-linux-$pkgver $pkgdir/usr/share/$pkgname-$pkgver
	cat > $pkgdir/usr/bin/scyther << EOF
#!/bin/sh
/usr/bin/python2 /usr/share/$pkgname-$pkgver/scyther-gui.py
EOF
	chmod +x $pkgdir/usr/bin/scyther
	chmod 755 $pkgdir/usr/bin/scyther
	cp $srcdir/scyther.desktop $pkgdir/usr/share/applications/
}

