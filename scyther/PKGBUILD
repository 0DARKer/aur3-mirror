
# Maintainer: Luca Fulchir <luca@fulchir.it>

pkgname=scyther
pkgver=v1.1
pkgrel=2
pkgdesc="Scyther is a tool for the symbolic analysis of security protocols"
arch=('i686' 'x86_64')
depends=('python2' 'graphviz' 'wxpython')
url="http://people.inf.ethz.ch/cremersc/scyther/"
license=('GPL')
source=('http://people.inf.ethz.ch/cremersc/scyther/download-linux.php' 'scyther.desktop')
md5sums=('79bb2467f0bcd7b66526c212f3b93f51'
         '3f09cd0a790e58c8c42b129118ecde8e')
sha1sums=('64c1e3176b22cb36ceea62e686836b288702f2b8'
          '293a960b39ffcc3d26480713b29505d94d08701f')
sha256sums=('beb1b664fe1f6f0f9fb8c97b022cc263c69fc7a746760ebd9c72f3dc8ddc420f'
            'd3bc8366a76892d47252c517246310e76e8e14af7856fb85a89b7e1de1c9dc07')

package() {
	cd "$srcdir/$pkgname-linux-$pkgver"
	mkdir -p $pkgdir/usr/{bin,share/applications}
	cp -a $srcdir/$pkgname-linux-$pkgver $pkgdir/usr/share/$pkgname-$pkgver
	cat > $pkgdir/usr/bin/scyther << EOF
#!/bin/sh
/usr/bin/python2 /usr/share/$pkgname-$pkgver/scyther-gui.py
EOF
	chmod +x $pkgdir/usr/bin/scyther
	chmod 755 $pkgdir/usr/bin/scyther
	cp $srcdir/scyther.desktop $pkgdir/usr/share/applications/
}

