pkgname=vkplayer
pkgver=0.08
pkgrel=1
epoch=
pkgdesc="VKPlayer Search music, load MyAudio and Recommendations playlists, save stream while"
arch=(any)
url="http://forum.ubuntu.ru/index.php?topic=168217"
license=('unknown')
groups=()
depends=('qt' 'gstreamer0.10-ffmpeg' 'gstreamer0.10-ugly' 'gstreamer0.10-ugly-plugins')
makedepends=('phonon')
checkdepends=()
optdepends=()
provides=()
conflicts=()
replaces=()
backup=()
options=()
install=
changelog=
source=($pkgname-$pkgver.tar.gz)
noextract=()
md5sums=('9d602c081703b5f887474fb6fd7f7327') #generate with 'makepkg -g'

build() {
  cd "$srcdir/$pkgname-$pkgver"
  qmake
  make
}

check() {
  cd "$srcdir/$pkgname-$pkgver"
  make -k check
}

package() {
  cd "$srcdir/$pkgname-$pkgver"
  make install
  mkdir ../../pkg/usr
  mkdir ../../pkg/usr/bin
  mkdir ../../pkg/usr/share
  mkdir ../../pkg/usr/share/applications
  mkdir ../../pkg/usr/share/icons
  mkdir ../../pkg/usr/share/icons/gnome/
  mkdir ../../pkg/usr/share/icons/gnome/scalable/
  mkdir ../../pkg/usr/share/icons/gnome/16x16/
  mkdir ../../pkg/usr/share/icons/gnome/22x22/
  mkdir ../../pkg/usr/share/icons/gnome/24x24/
  mkdir ../../pkg/usr/share/icons/gnome/32x32/
  mkdir ../../pkg/usr/share/icons/gnome/48x48/
  mkdir ../../pkg/usr/share/icons/gnome/64x64/
  mkdir ../../pkg/usr/share/icons/gnome/96x96/
  mkdir ../../pkg/usr/share/icons/gnome/128x128/
  mkdir ../../pkg/usr/share/icons/gnome/scalable/apps/
  mkdir ../../pkg/usr/share/icons/gnome/16x16/apps/
  mkdir ../../pkg/usr/share/icons/gnome/22x22/apps/
  mkdir ../../pkg/usr/share/icons/gnome/24x24/apps/
  mkdir ../../pkg/usr/share/icons/gnome/32x32/apps/
  mkdir ../../pkg/usr/share/icons/gnome/48x48/apps/
  mkdir ../../pkg/usr/share/icons/gnome/64x64/apps/
  mkdir ../../pkg/usr/share/icons/gnome/96x96/apps/
  mkdir ../../pkg/usr/share/icons/gnome/128x128/apps/

  mv vkplayer ../../pkg/usr/bin
  mv vkplayer.desktop ../../pkg/usr/share/applications/vkplayer.desktop
  mv data/16x16/vkplayer.png ../../pkg/usr/share/icons/gnome/16x16/apps/
  mv data/22x22/vkplayer.png ../../pkg/usr/share/icons/gnome/22x22/apps/
  mv data/24x24/vkplayer.png ../../pkg/usr/share/icons/gnome/24x24/apps/
  mv data/32x32/vkplayer.png ../../pkg/usr/share/icons/gnome/32x32/apps/
  mv data/48x48/vkplayer.png ../../pkg/usr/share/icons/gnome/48x48/apps/
  mv data/64x64/vkplayer.png ../../pkg/usr/share/icons/gnome/64x64/apps/
  mv data/96x96/vkplayer.png ../../pkg/usr/share/icons/gnome/96x96/apps/
  mv data/128x128/vkplayer.png ../../pkg/usr/share/icons/gnome/128x128/apps/
  mv data/scalable/vkplayer.svg ../../pkg/usr/share/icons/gnome/scalable/apps/
}

# vim:set ts=2 sw=2 et:
