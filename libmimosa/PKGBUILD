# Maintainer: Alexandre Bique <bique.alexandre@gmail.com>

pkgname=libmimosa
pkgver=0.5.3
pkgrel=1
pkgdesc="Mimosa is a high level framework for stream and network programming"
arch=('i686' 'x86_64')
url="http://github.com/abique/mimosa"
license=('LGPL3')
makedepends=('cmake>=2.8' 'gtest')
depends=('gnutls' 'protobuf')
options=()
source=("https://github.com/abique/mimosa/tarball/${pkgver}")
md5sums=('d014017445ae2820f056c0ddd5f7e78e')

build() {
  cd ${srcdir}/abique-mimosa-* &&
  mkdir build &&
  cd build &&
  cmake -DCMAKE_INSTALL_PREFIX=/usr .. &&
  make &&
  make check
}

package() {
  cd ${srcdir}/abique-mimosa-*/build &&
  DESTDIR=${pkgdir} make install
}
