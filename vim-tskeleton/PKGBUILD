# Maintainer: Laszlo Papp <djszapi @ gmail at com>

pkgname=vim-tskeleton
pkgver=4.11
_scriptid=15993
pkgrel=1
pkgdesc="File Templates and Code Skeletons/Snippets"
arch=('any')
url="http://www.vim.org/scripts/script.php?script_id=1160"
license=('custom:vim')
depends=('vim-runtime')
groups=('vim-plugins')
install='vimdoc.install'
source=(${pkgname}.vba::http://www.vim.org/scripts/download_script.php?src_id=${_scriptid}
        license.txt)

build() {
   cd $srcdir
   _vimdir='/usr/share/vim/vmifiles'
   install -d ${pkgdir}${_vimdir}/{doc,plugin,syntax,autoload}
   vim -c "UseVimball $srcdir" -c "q" ${pkgname}.vba
   
   tar -c ./ --exclude ${pkgname}.vba | tar -x -C ${pkgdir}${_vimdir} || return 1
   install -Dm644 ${srcdir}/license.txt ${pkgdir}/usr/share/licenses/${pkgname}/license.txt || return 1
   rm -f ${pkgdir}${_vimdir}/.VimballRecord
   rm -f ${pkgdir}${_vimdir}/doc/tags 
   rm -f ${pkgdir}${_vimdir}/license.txt
}

md5sums=('b3f679c5dd30e9baca8965605ce4b364'
         'efbd5986e691ce8c876fb86e8f5961ea')
