# Maintainer: Julien Humbert <julroy67@gmail.com>
# Contributor: danyf90
# Contributor: hermes14
pkgname=superbeam
pkgver=1.2.0
pkgrel=1
pkgdesc="The easiest and fastest way to share files with Android"
arch=('any')
url="http://superbe.am/"
license=('custom')
depends=('java-environment' 'bash')
makedepends=('gendesk')
source=(http://superbe.am/pc/all/$pkgname.jar http://superbe.am/pc/linux/superbeam-linux.tar.gz)
md5sums=('6b08fc901675ed4f9a43ee60dc20176c'
         '87178e8ae2807b8ec411928e46f7b30d')

prepare(){
	gendesk -n -f --pkgname "$pkgname" --pkgdesc "$pkgdesc" --name="SuperBeam" --categories="Network"
	printf "#!/bin/sh\n\"$JAVA_HOME/bin/java\" -jar \'/usr/share/java/$pkgname/$pkgname.jar\'" > $pkgname.sh
}

package() {
	mkdir -p "$pkgdir/usr/bin"
        install -Dm755 "$srcdir/superbeam.sh" "$pkgdir/usr/bin/superbeam"
	mkdir -p "$pkgdir/usr/share/java/superbeam"
	install -Dm644 "$srcdir/superbeam.jar" "$pkgdir/usr/share/java/superbeam/superbeam.jar"
	install -Dm644 "$srcdir/$pkgname.desktop" "$pkgdir/usr/share/applications/$pkgname.desktop"
	install -Dm644 "$srcdir/icon.png" "$pkgdir/usr/share/pixmaps/$pkgname.png"
}
