# Maintainer: Julien Humbert <julroy67@gmail.com>
pkgname=superbeam
pkgver=1.1.0
pkgrel=1
pkgdesc="The easiest and fastest way to share files with Android"
arch=('any')
url="http://superbe.am/"
license=('custom')
depends=('java-runtime')
makedepends=('gendesk')
source=(http://superbe.am/pc/all/$pkgname.jar http://www.superbe.am/pc/linux/superbeam-linux.tar.gz)
md5sums=('e9441abd891ae686e81176197b61550c'
         'b3aad293bb824b540242ae14e4cbfee9')

prepare(){
	gendesk -n -f --pkgname "$pkgname" --pkgdesc "$pkgdesc" --name="SuperBeam"
	printf "#!/bin/sh\n\"$JAVA_HOME/bin/java\" -jar \'/usr/share/java/$pkgname/$pkgname.jar\'" > $pkgname.sh
}

package() {
	mkdir -p "$pkgdir/usr/bin"
        install -Dm755 "$srcdir/superbeam.sh" "$pkgdir/usr/bin/superbeam"
	mkdir -p "$pkgdir/usr/share/java/superbeam"
	install -Dm644 "$srcdir/superbeam.jar" "$pkgdir/usr/share/java/superbeam/superbeam.jar"
	install -Dm644 "$srcdir/$pkgname.desktop" "$pkgdir/usr/share/applications/$pkgname.desktop"
	install -Dm644 "$srcdir/$pkgname-linux/icon.png" "$pkgdir/usr/share/pixmaps/$pkgname.png"
}
