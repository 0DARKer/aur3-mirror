# Maintainer: Viktor Semykin <thesame.ml@gmail.com>

pkgname=('deadbeef-decast-gtk2' 'deadbeef-decast-gtk3')
pkgdesc='Podcast subscription plugin for DeaDBeeF audio player'
url='https://bitbucket.org/thesame/decast'
pkgver=0.1
pkgrel=1
_commit='9ffd6d6dfb14'
arch=('i686' 'x86_64')
license=('ZLIB')
depends=('deadbeef' 'libxml2' 'curl' 'gtk2')
source=("https://bitbucket.org/thesame/decast/get/${_commit}.tar.gz")
md5sums=('81ae198e078c30ce777557412e707043')

do_build () {
    cd "${srcdir}/thesame-decast-${_commit}"
    GTKVER=$1 PREFIX=/usr make
}

do_package () {
    cd "${srcdir}/thesame-decast-${_commit}"
    GTKVER=$1 PREFIX=/usr DESTDIR="${pkgdir}/usr/lib/deadbeef" make install
}

build_deadbeef-decast-gtk2() {
    do_build 2
}

package_deadbeef-decast-gtk2() {
    do_package 2
}

build_deadbeef-decast-gtk3() {
    do_build 3
}

package_deadbeef-decast-gtk3() {
    do_package 3
}
