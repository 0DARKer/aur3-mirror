# Maintainer: Andrew Grigorev <andrew@ei-grad.ru>

pkgname=pyclutter
pkgver=1.3.2
pkgrel=2
pkgdesc="Python bindings to Clutter."
arch=('i686' 'x86_64')
url="http://www.clutter-project.org/"
license=('GPL')
depends=('glib2>=2.16.0' 'gtk2>=2.10.0' 'clutter>=1.0.0' 'python2-cairo>=1.0.2' 'pygobject>=2.21.3' 'python2>=2.6.0')
source=(http://www.clutter-project.org/sources/$pkgname/1.3/$pkgname-$pkgver.tar.bz2)
md5sums=('36137bace35d03af4caf20747ccdc5c2')

build() {
  cd "$startdir/src/$pkgname-$pkgver"
  
  find . -name '*.py' -print0|xargs -0 \
      sed -i -e 's,^#!/usr/bin/env python$,#!/usr/bin/env python2,' \
             -e 's,^#!/usr/bin/python$,#!/usr/bin/python2,'

  export PYTHON=/usr/bin/python2

  ./configure --prefix=/usr
  make || return 1
  make DESTDIR="$startdir/pkg" install
}

