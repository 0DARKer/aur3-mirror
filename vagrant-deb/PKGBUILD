# Maintainer: Daniil Bolsun <dan.bolsun@gmail.com>

pkgname=vagrant-deb
pkgver=1.6.1
pkgrel=1
pkgdesc="Vagrant from official DEB package. Used due to community/vagrant lacks some features like login and share."
arch=(i686 x86_64)
url="http://www.vagrantup.com/"
license=('MIT')
depends=()
makedepends=('binutils')
optdepends=('virtualbox: default VM provider')
provides=('vagrant')
conflicts=('vagrant' 'vagrant-git')
replaces=('vagrant')
options=(!strip staticlibs)
source=(https://dl.bintray.com/mitchellh/vagrant/vagrant_${pkgver}_${CARCH}.deb)
md5sums=('5fd670543f20fe5cc05d356adeadd162')

prepare() {
	cd "$srcdir"
	ar p vagrant_${pkgver}_${CARCH}.deb control.tar.gz | tar xzf -
	ar p vagrant_${pkgver}_${CARCH}.deb data.tar.gz | tar xzf -
}

check() {
	cd "$srcdir"
	md5sum -c md5sums || return 1
}

package() {
	cd "$srcdir"
	mv opt "$pkgdir/"
	mv usr "$pkgdir/"
}
