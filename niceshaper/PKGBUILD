# Contributor: xnitropl <xnitropl at gmail dot com>
pkgname=niceshaper
pkgver=0.6rc7
pkgrel=1
pkgdesc="A tool for bandwidth allocation. Allows dynamic traffic shaping, which is more effective than traditional, static HTB shaping."
url="http://niceshaper.jedwabny.net"
arch=('i686' 'x86_64')
license=('GPLv2')
depends=('iptables')
makedepends=('gcc')
source=(http://niceshaper.jedwabny.net/files/$pkgname$pkgver.tar.bz2)
md5sums=('e2271f1c84100fe7e1320fb31ed75554')

build() {
  cd $srcdir
  make || return 1

  mkdir -p $pkgdir/usr/bin
  install -m755 niceshaper $pkgdir/usr/bin

  mkdir -p $pkgdir/etc/niceshaper0.6
  install -m644 etc/niceshaper0.6/class.ns $pkgdir/etc/niceshaper0.6/sample-class.ns
  install -m644 etc/niceshaper0.6/config.ns $pkgdir/etc/niceshaper0.6/sample-config.ns

  mkdir -p $pkgdir/usr/share/doc
  cp -r docs $pkgdir/usr/share/doc/$pkgname
  cp COPYING $pkgdir/usr/share/doc/$pkgname
}
# vim:set ts=2 sw=2 et:
