# Contributor: rabyte <rabyte__gmail>
# Maintainer: Jesse Jaara <gmail.com: jesse.jaara>

pkgname=freebasic
pkgver=0.21.1
pkgrel=1
pkgdesc="A free BASIC compiler"
arch=('i686' 'x86_64')
url="http://www.freebasic.net/"
license=('GPL2' 'LGPL')
depends=('ncurses')
[ "$CARCH" = "x86_64" ] && depends=('lib32-ncurses')
provides=('fbc')
conflicts=('freebasic-examples')
install=$pkgname.install
source=(http://downloads.sourceforge.net/fbc/FreeBASIC-$pkgver-linux.tar.lzma)
md5sums=('106b18b53dcae6059d020febf7a3ace4')

build() {
	cd ${srcdir}
	tar -xf ../FreeBASIC-${pkgver}-linux.tar.lzma
}

package() {
	cd ${srcdir}/FreeBASIC-${pkgver}-linux
	mkdir ${pkgdir}/usr
	./install.sh -i ${pkgdir}/usr
	mv ${pkgdir}/usr/bin/fbc{,.bin}
	echo -e "#!/bin/sh\nexec /usr/bin/fbc.bin -prefix /usr \"\${@}\"" > ${pkgdir}/usr/bin/fbc
	chmod +x ${pkgdir}/usr/bin/fbc
}
