# Maintainer: Karl Kochs <captainhaggy @ i2pmail dot org>
# Contributor: Laszlo Papp <djszapi @ gmail at com>
pkgname=vim-c
pkgver=5.11
_scriptid=13077
pkgrel=2
pkgdesc="C/C++ IDE --  Write and run programs. Insert statements, idioms, comments etc."
arch=('i686' 'x86_64')
url="http://www.vim.org/scripts/script.php?script_id=213"
license=('custom')
depends=(vim)
groups=('vim-plugins')
install=vimdoc.install
source=(${pkgname}.zip::http://www.vim.org/scripts/download_script.php?src_id=${_scriptid}
        license.txt)
md5sums=('bfad20328d13d74941519c609ab60817'
         'efbd5986e691ce8c876fb86e8f5961ea')

build() {
    install -d ${pkgdir}/usr/share/vim/vimfiles/{doc,plugin,ftplugin} \
	${pkgdir}/usr/share/vim/vimfiles/c-support/{rc,doc,scripts,templates,wordlists,codesnippets}

    for x in doc; do
		install -Dm644 ${srcdir}/$x/* ${pkgdir}/usr/share/vim/vimfiles/$x/ || return 1;
	done

    for x in plugin c-support/rc c-support/scripts c-support/templates c-support/wordlists c-support/codesnippets ftplugin; do
		install -Dm755 ${srcdir}/$x/* ${pkgdir}/usr/share/vim/vimfiles/$x/ || return 1;
	done

    install -Dm644 ${srcdir}/license.txt ${pkgdir}/usr/share/licenses/${pkgname}/license.txt || return 1
}
