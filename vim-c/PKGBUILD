# Maintainer: Karl Kochs <captainhaggy @ i2pmail dot org>
# Contributor: Laszlo Papp <djszapi @ gmail at com>
# Maintainer: Piotr Rogo≈ºa <rogoza dot piotr at gmail dot com>
# vim:set ts=2 sw=2 et ft=sh tw=100:

pkgname=vim-c
provides=(vim-c-support)
pkgver=5.18
_scriptid=17559
pkgrel=1
pkgdesc="C/C++ IDE --  Write and run programs. Insert statements, idioms, comments etc."
arch=('any')
url='http://www.vim.org/scripts/script.php?script_id=213'
license=('custom:vim')
depends=(vim-runtime)
groups=('vim-plugins')
install='vimdoc.install'
source=(${pkgname}.zip::http://www.vim.org/scripts/download_script.php?src_id=${_scriptid}
        license.txt)

build() {
	cd "$srcdir"
	_vim_dir='usr/share/vim/vimfiles'

  install -dm755 ${pkgdir}/${_vim_dir} || return 1

  tar -c ./  --exclude ${pkgname}.zip | tar -x -C ${pkgdir}/${_vim_dir} || return 1

	mv ${pkgdir}/${_vim_dir}/README.csupport \
		${pkgdir}/${_vim_dir}/c-support/doc/README.csupport || return 1

  install -dm755 ${pkgdir}/usr/share/licenses/${pkgname}
  cp -L ${srcdir}/license.txt ${pkgdir}/usr/share/licenses/${pkgname}/license.txt || return 1
  rm -f ${pkgdir}/${_vim_dir}/license.txt
}

md5sums=('def3982dabd837a49ecc8466519ce584'
         'efbd5986e691ce8c876fb86e8f5961ea')
