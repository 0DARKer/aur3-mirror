diff -rupN cellprofiler-git/cellprofiler/utilities/jutil.py cellprofiler-fixed/cellprofiler/utilities/jutil.py
--- cellprofiler-git/cellprofiler/utilities/jutil.py	2013-06-24 15:16:45.271728862 +0100
+++ cellprofiler-fixed/cellprofiler/utilities/jutil.py	2013-06-24 15:17:32.675638319 +0100
@@ -93,7 +93,7 @@ elif sys.platform.startswith('linux'):
         path = os.path.join(path, 'cellprofiler','utilities')
     else:
         path = os.path.split(__file__)[0]
-    p = subprocess.Popen(["java","-cp", path, "findlibjvm"],
+    p = subprocess.Popen("dirname `find $JAVA_HOME -name libjvm.so -print -quit`", shell=True,
                          stdout=subprocess.PIPE)
     stdout, stderr = p.communicate()
     jvm_dir = stdout.strip()

