# Maintainer: jfperini <@jfperini>
# Contributor: jfperini <@jfperini>

pkgname=encuentro-bzr
pkgver=217
pkgrel=1
pkgdesc="Busque, descargue, y vea el maravilloso contenido ofrecido por el Canal Encuentro. Search, download and see the wonderful content ofered by Encuentro (Argentine TV channel)"
url="http://encuentro.taniquetil.com.ar"
arch=('any')
depends=('python2' 'python2-pyqt4' 'python2-defer' 'python2-requests' 'python2-beautifulsoup4')
optdepends=('python2-notify: provides notifications')
makedepends=('python2-distribute' )
license=('GPL v3')
conflicts=('encuentro')
source=('encuentro::bzr+http://bazaar.launchpad.net/~facundo/encuentro/trunk/')
md5sums=('SKIP')

#_bzrtrunk=lp:encuentro
#_bzrmod=encuentro

pkgver() {
  cd encuentro
  bzr revno
}

build() {
   
   cd "$srcdir/encuentro"
   python2 setup.py build
}

package() {


   
   	cd "$srcdir/encuentro"

	python2 setup.py install --root=$pkgdir --optimize=1

	echo "[Desktop Entry]
	Version=1.0
	Encoding=UTF-8
	Type=Application
	Name=Encuentro
	GenericName=Encuentro
	Comment=Simple program to download and see the content from Canal Encuentro y otros
	Comment[es]=Simple programa que permite buscar, descargar y ver contenido del Canal Encuentro and others
	Icon=/usr/share/encuentro/encuentro/logos/icon-32.png
	Exec=encuentro
	Terminal=false
	StartupNotify=false
	Categories=Application;Education;Network;" | tee "encuentro.desktop"
	echo -e "...Ok.\n"
	
	install -Dm644 "$srcdir/encuentro/encuentro.desktop" "$pkgdir/usr/share/applications/encuentro.desktop"

}
