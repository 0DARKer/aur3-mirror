# Maintainer: qwer1234 
pkgname=gtk-theme-adwaita-cupertino
pkgver=1.3.1
pkgrel=4
pkgdesc="Adwaita Cupertino GTK3 theme"
arch=(any)
url="http://gnome-look.org/content/show.php?content=147061"
license=('GPL')
makedepends=('')
depends=('gtk3' 'gtk-engine-unico' 'gtk-engine-murrine')
source=('http://gnome-look.org/CONTENT/content-files/147061-Adwaita-Cupertino.tar.gz')
md5sums=('e7d48d66021cc16fac035c62c2ba1392')


build() {
 
	bsdtar -xf ${srcdir}/147061-Adwaita-Cupertino.tar.gz

	# metacity glassy buttons 
	bsdtar -xf ${srcdir}/Adwaita\ Cupertino\ L/buttons_glassy.tar.gz
	mv *.png ${srcdir}/Adwaita\ Cupertino\ L/metacity-1/

	bsdtar -xf ${srcdir}/Adwaita\ Cupertino\ L\ Unity/buttons_glassy.tar.gz
	mv *.png ${srcdir}/Adwaita\ Cupertino\ L\ Unity/metacity-1/

	bsdtar -xf ${srcdir}/Adwaita\ Cupertino\ SL/buttons_glassy.tar.gz
	mv *.png ${srcdir}/Adwaita\ Cupertino\ SL/metacity-1/

	bsdtar -xf ${srcdir}/Adwaita\ Cupertino\ SL\ Unity/buttons_glassy.tar.gz
	mv *.png ${srcdir}/Adwaita\ Cupertino\ SL\ Unity/metacity-1/


	# nautilus sidebar and toolbar light
	cd ${srcdir}/Adwaita\ Cupertino\ L/gtk-3.0/
	sed 's/gnome-applications-gray.css/gnome-applications-light.css/g' -i gtk.css

	cd ${srcdir}/Adwaita\ Cupertino\ L\ Unity/gtk-3.0/
	sed 's/gnome-applications-gray.css/gnome-applications-light.css/g' -i gtk.css

	cd ${srcdir}/Adwaita\ Cupertino\ SL/gtk-3.0/
	sed 's/gnome-applications-gray.css/gnome-applications-light.css/g' -i gtk.css

	cd ${srcdir}/Adwaita\ Cupertino\ SL\ Unity/gtk-3.0/
	sed 's/gnome-applications-gray.css/gnome-applications-light.css/g' -i gtk.css


	# install
	mkdir -p ${pkgdir}/usr/share/themes
	cp -R ${srcdir}/Adwaita*  ${pkgdir}/usr/share/themes/
	cd ${pkgdir}/usr/share/themes/
	find . -type f -exec chmod 644 {} \;
	find . -type d -exec chmod 755 {} \;
}
