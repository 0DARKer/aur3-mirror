# Maintainer: Bartek Piotrowski <barthalion@gmail.com>
# Maintainer: Sergej Pupykin <pupykin.s+arch@gmail.com>
# Contributor: Fabian Schoelzel <myfirstname.mylastname@googlemail.com>
# Contributor: funkyou <spamopfer@nickname.berlin.de>
# Contributor: tardo <tardo@nagi-fanboi.net>
# Contributor: Stefan Husmann <stefan-husmann@t-online.de>

pkgname=mlt-gtk
_pkgname=mlt
pkgver=0.6.0
pkgrel=1
pkgdesc="An open source multimedia framework without Qt dependence"
arch=('i686' 'x86_64')
url="http://www.mltframework.org"
license=('GPL')
depends=('sdl_image' 'libsamplerate' 'libdv' 'sox' 'libxml2' 'gtk2' 'ffmpeg' 'frei0r-plugins')
optdepends=('jack')
makedepends=('subversion')
conflicts=('mlt++<=0.3.8' 'mlt' 'mlt-qt' 'mlt-git')
provides=('mlt')
source=(http://downloads.sourceforge.net/sourceforge/$_pkgname/$_pkgname-$pkgver.tar.gz)
md5sums=('4758fe1716215c42a682a14af9a2bfe6')

build() {
  cd $srcdir/$_pkgname-$pkgver
  [ $CARCH == "i686" ] && SSE2=--disable-sse2 || SSE2=
  ./configure --prefix=/usr --enable-gpl --avformat-swscale $SSE2 

  make || return 1
  make DESTDIR=$pkgdir install || return 1
}
