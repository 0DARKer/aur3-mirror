# Maintainer: graysky <graysky AT archlinux DOT us>

pkgname='anything-sync-daemon'
_pkgname_short='asd'
pkgver=3.12
pkgrel=1
pkgdesc='Symlinks and syncs user specified dirs to RAM (tmpfs) thus reducing HDD/SDD calls and speeding-up the system.'
arch=('any')
url='https://github.com/graysky2/anything-sync-daemon'
license=('MIT')
depends=('rsync')
conflicts=('monitorix-sync-daemon' 'user-profile-sync-daemon' 'goanysync' 'goanysync-git' 'tmpfs-store' 'tmpfs-sync')
optdepends=('cron: allow hourly or periodic syncs of tmpfs')
source=("http://repo-ck.com/source/$pkgname/$pkgname-$pkgver.tar.xz")
backup=("etc/$_pkgname_short.conf")
install=asd.install
sha256sums=('8ee37e1a0d484aca6a1c37ce4bc4cc1e2b09e30442b13d8a391fe00fca5e9b70')

package() {
	cd "$pkgname-$pkgver"
	install -Dm755 $pkgname "$pkgdir/usr/bin/$pkgname"
	install -Dm644 $_pkgname_short.conf "$pkgdir/etc/$_pkgname_short.conf"
	install -Dm755 $_pkgname_short.cron.hourly "$pkgdir/etc/cron.hourly/$_pkgname_short-update"
	install -Dm644 "$_pkgname_short.service" "$pkgdir/usr/lib/systemd/system/$_pkgname_short.service"
	
	install -Dm644 $_pkgname_short.manpage "$pkgdir/usr/share/man/man1/$pkgname.1"
	ln -s "$pkgname.1.gz" "$pkgdir/usr/share/man/man1/$_pkgname_short.1.gz"
}

# vim:set ts=2 sw=2 et:
