# Maintainer: flan_suse

# Driver support for Kodak ESP printers is nearly matured,
# however HERO printers support is still in its early stages.

# There is no scanner support, yet.

# Taken from the README of the SourceForge project page:
# ...patch from awl29 applied and some other mods.
# The problems with AIO 5100 5300 5500 seem to actually have been
# problems with cups caused by errors in the ppd files. Now these 
# errors are fixed, so we expect to no longer have these problems.
# Reports of testing would be helpful.

# Try building and installing the cups-usblp PKGBUILD from
# the AUR if you have problems with CUPS detecting the
# printer via a USB connection.

# I had to do this to use my Kodak printer on Arch Linux.

# Currently, c2esp will only build / install with cups/libcups version
# 1.5.4 or lower; the 1.6.x update breaks this driver. Read the AUR
# comments for more information.

pkgname=c2esp
pkgver=25c
pkgrel=2
pkgdesc="CUPS printer driver for Kodak ESP and HERO printers"
arch=('i686' 'x86_64')
url="http://sourceforge.net/projects/cupsdriverkodak/"
license=('GPL2')
depends=('cups<=1.5.4')
#optdepends=('cups-usblp: alternative to cups, required by some users')
source=("http://downloads.sourceforge.net/cupsdriverkodak/$pkgname$pkgver.tar.gz")
md5sums=('8c9a4f858967c39175f9de1e65b6da17')

build() {

    # Move into the source directory
    cd "$srcdir/$pkgname$pkgver/"

    # Compile the cups driver
    make clean
    make
}

package() {

    # Move into the source directory
    cd "$srcdir/$pkgname$pkgver/"

    # Install the files
    make DESTDIR="${pkgdir}/" install

}

