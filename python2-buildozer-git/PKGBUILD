# Maintainer: Sabart Otto - Seberm <seberm[at]gmail[dot].com
 
pkgname=python2-buildozer-git
pkgver=20130719
pkgrel=1
pkgdesc="Generic Python packager for Android / iOS and Desktop"
url="https://github.com/kivy/buildozer"
arch=('any')
license=('MIT')
install=''
source=()
depends=('python2')
optdepends=()
conflicts=()
provides=''
makedepends=('cmake' 'libusb>=1.0')

_gitname="buildozer"
_gitroot="https://github.com/kivy/${_gitname}.git"
 
 
build() {
  cd $srcdir
  msg "Connecting to GIT (${_gitroot}) ..."
 
  if [ -d $_gitname ]; then
    cd $_gitname && git pull origin
    msg "The local files of ${_gitname} were updated."
  else
    git clone $_gitroot $_gitname
  fi
 
  msg "GIT checkout done or server timeout"
 
  cd $srcdir/${_gitname}/
  python2 setup.py build
}
 
package() {
    cd $srcdir/${_gitname}
    python2 setup.py install -f --root="$pkgdir"
}
