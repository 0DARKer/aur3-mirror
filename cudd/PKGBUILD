# Contributor: Mathieu Clabaut <mathieu.clabaut@gmail.com>
pkgname=cudd
pkgver=2.4.1
pkgrel=1
pkgdesc="Package for manipulation of Binary Decision Diagrams (BDDs), Algebraic Decision Diagrams (ADDs) and Zero-suppressed Binary Decision Diagrams (ZDDs)"
arch=('i686' 'x86_64')
url="http://vlsi.colorado.edu/~fabio/CUDD/cuddIntro.html"
license=('unknown')
depends=()
makedepends=(gcc)
source=("ftp://vlsi.colorado.edu/pub/$pkgname-$pkgver.tar.gz"
  Makefile)
md5sums=('38f4dc5195a746222f1e51c459b49b4f'
         '0b33f7efac453098f542017884540160')

build() {
  cd "$srcdir/$pkgname-$pkgver"
  cp ../Makefile .
  for i in  cudd dddmp mtr st util epd
  do
    echo "libso:
	gcc -shared \$(POBJ) -o ../lib/lib$i.so" >> $i/Makefile
  done
  mkdir lib

  make  || return 1
  make libso || return 1
  mkdir -p $pkgdir/usr/lib/cudd
  install lib/* $pkgdir/usr/lib/cudd
  mkdir -p $pkgdir/usr/share/licenses/cudd
  install LICENSE $pkgdir/usr/share/licenses/cudd
  mkdir -p $pkgdir/usr/share/cudd/cudd/doc
  cp -r cudd/doc/*  $pkgdir/usr/share/cudd/cudd/doc
  mkdir -p $pkgdir/usr/share/cudd/st/doc
  cp -r st/doc/*  $pkgdir/usr/share/cudd/st/doc
  mkdir -p $pkgdir/usr/share/cudd/mtr/doc
  cp -r mtr/doc/*  $pkgdir/usr/share/cudd/mtr/doc
  mkdir -p $pkgdir/usr/share/cudd/dddmp/doc
  cp -r dddmp/doc/*  $pkgdir/usr/share/cudd/dddmp/doc
  mkdir -p $pkgdir/usr/include/cudd
  cp -L include/* $pkgdir/usr/include/cudd

  #make DESTDIR="$pkgdir/" install
}

# vim:set ts=2 sw=2 et:
