# Contributor: LUO, Jian <jian (dot) luo (dot) cn (at) gmail (dot) com>
# Contributor: M0Rf30
pkgname=vodafone-mccd
pkgver=2.25.01
pkgrel=3
pkgdesc="Vodafone Mobile Connect Card Driver, a GPRS/UMTS/HSDPA(3G) device manager"
arch=('i686' 'x86_64')
license=('GPL2' 'LGPL2' 'BSD' 'MIT')
url="https://forge.vodafonebetavine.net/projects/vodafonemobilec/"
depends=('usb_modeswitch' 'python2-pytz' 'python-pysqlite' 'ozerocdoff' 'dbus-python' 'twisted' 'python-pyserial' 'wvdial' 'pyasn1' 'python-notify' 
'gnome-python-extras' 'hal' 'pygtk' 'pyxml' 'lsb-release')
makedepends=('rpmextract')
install=vodafone-mccd.install
source=(https://forge.betavine.net/frs/download.php/626/vodafone-mobile-connect_2.25.01_1_all.deb)
md5sums=('280e5c696c1483c3bd4948fdb8f7484b')

build() {
 # mkdir -p $startdir/src/$pkgname-$pkgver
 # cd $startdir/src/$pkgname-$pkgver
 cp vodafone-mobile-connect_2.25.01_1_all.deb $pkgdir/1.deb && cd $pkgdir
 ar p 1.deb data.tar.gz | tar zx 
# rpmextract.sh $startdir/src/vodafone-mobile-connect-$pkgver-$pkgrel.noarch.rpm
 # cp -av $startdir/src/$pkgname-$pkgver/* $startdir/pkg
 # chmod a+x $startdir/pkg/usr/bin/vmc-cli-client.py
 # cd $startdir/pkg/etc/modprobe.d
 # cp blacklist-vmc blacklist-vmc.conf | rm blacklist-vmc
 #cp $startdir/lsb-release $startdir/pkg/etc/ 
 rm 1.deb
 echo "Select your current timezone"
 sleep 2
 tzselect > $pkgdir/etc/timezone
 cd $pkgdir/usr/bin/
 sed 's#/usr/bin/python#/usr/bin/env python2#g' -i ${pkgdir}/usr/bin/*.py
}
# vim: sts=2 sw=2
