# Maintainer : Vi Grey <development@pariahvi.com>

pkgname=latchbox
pkgver=1.0.3.1
pkgrel=2
pkgdesc='A Console Based Password Management Program'
arch=('any')
url='http://pariahvi.com/projects/latchbox'
license=('BSD')
makedepends=('go>=1.1.1')
optdepends=('xclip: provides clipboard functionality')
source=("http://pariahvi.com/files/${pkgname}${pkgver}.src.tar.gz")
sha512sums=('abc8650abe5520194217837ab7e52ee24ed51296a32867fd1e53a568c51cff97cbd991ffb0a62ea113b4c00cd6b4135c79d359855eb9880d92791c1728199211')

build() {
  mkdir -p ${srcdir}/src/github.com/PariahVi
  mv ${srcdir}/${pkgname}${pkgver}.src ${srcdir}/src/github.com/PariahVi/${pkgname}
  export GOPATH=${srcdir}
  go install github.com/PariahVi/${pkgname}
}

package() {
    install -Dm755 "${srcdir}/bin/${pkgname}" "${pkgdir}/usr/bin/${pkgname}"
    install -Dm644 "${srcdir}/src/github.com/PariahVi/${pkgname}/doc/${pkgname}.1.gz" "${pkgdir}/usr/share/man/man1/${pkgname}.1.gz"
    install -Dm644 "${srcdir}/src/github.com/PariahVi/${pkgname}/LICENSE" "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"
    install -Dm644 "${srcdir}/src/github.com/PariahVi/${pkgname}/THIRD-PARTY-LICENSES" "${pkgdir}/usr/share/licenses/${pkgname}/THIRD-PARTY-LICENSES"
}
