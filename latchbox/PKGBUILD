# Maintainer : Vi Grey <development@pariahvi.com>

pkgname=latchbox
pkgver=1.1.3.0
pkgrel=1
pkgdesc='A Console Based Password Management Program'
arch=('any')
url='http://pariahvi.com/projects/latchbox'
license=('BSD')
makedepends=('go')
optdepends=('xclip: provides clipboard functionality')
source=("http://pariahvi.com/files/${pkgname}${pkgver}.src.tar.gz")
sha512sums=('2cc1fe21ebef298f70be28c9414ea14d26110b7d3ca9b032560d42f1ceaf17ed33437a9070ea511e991b0ca7092450628b5cc0fb36bb65e1a9e2b78dc1970b8b')
build() {
  mkdir -p ${srcdir}/src/github.com/PariahVi
  mv ${srcdir}/${pkgname}${pkgver}.src ${srcdir}/src/github.com/PariahVi/${pkgname}
  export GOPATH=${srcdir}
  go install github.com/PariahVi/${pkgname}
}

package() {
    install -Dm755 "${srcdir}/bin/${pkgname}" "${pkgdir}/usr/bin/${pkgname}"
    install -Dm644 "${srcdir}/src/github.com/PariahVi/${pkgname}/doc/${pkgname}.1.gz" "${pkgdir}/usr/share/man/man1/${pkgname}.1.gz"
    install -Dm644 "${srcdir}/src/github.com/PariahVi/${pkgname}/LICENSE" "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"
    install -Dm644 "${srcdir}/src/github.com/PariahVi/${pkgname}/THIRD-PARTY-LICENSES" "${pkgdir}/usr/share/licenses/${pkgname}/THIRD-PARTY-LICENSES"
}
