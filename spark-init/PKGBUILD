# Maintainer Jack Frost <fbt@fleshless.org>

pkgname='spark-init'
pkgdesc='A simple init written in bash'
license='BSD'
pkgver=1.1
pkgrel=1
arch='any'
url='https://github.com/fbt/spark'
depends=( 'sysvinit-tools' )
provides='spark-init'
conflicts=( 'spark-init' )

source=( "https://github.com/fbt/spark/archive/${pkgver}.zip" )
md5sums=('175af6c18bcd27ce5632b9853137b97e')

build() { echo 'No build required'; }

package() {
	cd "${srcdir}/spark-${pkgver}"

	mkdir -pm 755 "$pkgdir/sbin" "$pkgdir/etc/spark"

	install -Dm755 bin/spark-init "$pkgdir/sbin"
	install -Dm755 bin/shutdown "$pkgdir/sbin/spark-shutdown"
	install -Dm755 etc/spark/* "$pkgdir/etc/spark"

	cd "$pkgdir"
	backup+=( etc/spark/* )
}
