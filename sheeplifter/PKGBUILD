# Contributor: Dany Martineau <dany.luc.martineau@gmail.com>

pkgname=sheeplifter
pkgver=gc1
pkgrel=2
pkgdesc="Weird 3D game, loosely based on BrÃ¸derbund's 80es classic Choplifter"
url="http://code.google.com/p/sheeplifter/"
license=('Creative Commons Attribution-Noncommercial-No Derivative Works 3.0 Unported')
arch=('i686' 'x86_64')
depends=('java-runtime')
source=('http://sheeplifter.googlecode.com/files/Sheeplifter_GC_1.zip' 'sheeplifter.desktop')
md5sums=('bd61724bcee8f90e4701ba11be2c2c75' '0a85dda10e90cd75d0291b82261664da')

build() {
  cd ${srcdir}/release
  mkdir -p ${pkgdir}/usr/share/{applications,sheeplifter}
  mkdir -p ${pkgdir}/usr/bin
  cp -R jme ${pkgdir}/usr/share/sheeplifter
  cp -R jorbis ${pkgdir}/usr/share/sheeplifter
  cp -R lwjgl ${pkgdir}/usr/share/sheeplifter
  install -m777 properties.cfg ${pkgdir}/usr/share/sheeplifter
  install readme.txt run_game_linux.sh sheeplifter.jar ${pkgdir}/usr/share/sheeplifter
  echo "cd '/usr/share/sheeplifter/' && sh run_game_linux.sh" > ${pkgdir}/usr/bin/sheeplifter.sh
  chmod +x ${pkgdir}/usr/bin/sheeplifter.sh
  install ${srcdir}/sheeplifter.desktop ${pkgdir}/usr/share/applications
}
