# Maintainer: FzerorubigD <fzerorubigd AT gmail DOT com>

pkgname=google-gadgets-gtk
pkgver=0.11.2
pkgrel=2
pkgdesc="Google Gadgets for linux (GTK version)"
url="http://code.google.com/p/google-gadgets-for-linux/"
license="Apache"
depends=('curl' 'libxml2' 'zlib' 'xulrunner' 'dbus' 'cairo' 'gtk2')
makedepends=('autoconf' 'automake' 'libtool' 'flex')
conflicts=()
provides=()
source=(http://google-gadgets-for-linux.googlecode.com/files/google-gadgets-for-linux-${pkgver}.tar.bz2)
md5sums=('279305553bcbf74f3e3615f6abc36a5e')
arch=('i686' 'x86_64')
options=('!libtool')
install=ggl.install
 

 
build() {
        cd $srcdir
        cd google-gadgets-for-linux-${pkgver}
               
        sh autotools/bootstrap.sh
        ./configure --prefix=/usr \
                    --disable-libggadget-qt \
                    --disable-qt-system-framework \
                    --disable-qtwebkit-browser-element \
                    --disable-webkit-script-runtime \
		    --disable-qt-host \
                    --disable-ltdl-install \
                    --disable-static \
                    --disable-update-mime-database \
                    --disable-update-desktop-database \
		    --disable-werror \
		--disable-gtkwebkit-browser-element \
                    --enable-smjs-script-runtime \
                    --enable-gtk-host \
                    --enable-libggadget-gtk \
                    --enable-gst-audio-framework \
                    --enable-gst-mediaplayer-element \
                    --enable-libggadget-dbus \
                    --enable-gtkmoz-browser-element \
                    --enable-gtk-system-framework \
                    --enable-curl-xml-http-request \
                    --enable-libxml2-xml-parser
                    
        make || return 1
        make DESTDIR=$pkgdir install || return 1
}
