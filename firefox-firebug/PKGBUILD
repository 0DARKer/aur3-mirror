# Maintainer: SpepS <dreamspepser at yahoo dot it>

_pkg=firebug
_ffver=6.0.1
pkgname=firefox-$_pkg
pkgver=1.8.1
pkgrel=1
pkgdesc="Tools for web development. Inspect, edit and monitor CSS, HTML, JavaScript and Net requests."
arch=(any)
url="http://getfirebug.com/"
license=('BSD')
depends=('firefox>=$_ffver')
provides=("$_pkg")
conflicts=('firefox-extension-firebug-stable')
replaces=('firefox-extension-firebug-stable')
source=("${url}releases/$_pkg/${pkgver%.*}/$_pkg-$pkgver.xpi")
md5sums=('13782a8f95131e4d85c5d678153d40f7')

build() {
  return 0
}

package() {
  cd "$srcdir"

  # extension
  install -d "$pkgdir/usr/lib/firefox-$_ffver/extensions/$(sed -n 's/.*>\(firebug.*\)<.*/\1/p' install.rdf)"
  cp -a *[^xpi] "$pkgdir/usr/lib/firefox-"*/extensions/*

  # license
  install -Dm644 license.txt "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
}

# vim:set ts=2 sw=2 et: