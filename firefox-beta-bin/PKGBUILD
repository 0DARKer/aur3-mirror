# Contributor: speed145a <speed145a(at)hotmail(dot)com>

pkgname=firefox-beta-bin
pkgver=4.0rc1
pkgrel=1
pkgdesc='Standalone web browser from mozilla.org, beta build - binaries.'
url='http://www.mozilla.org/projects/firefox'
arch=('i686' 'x86_64')
#provides=("firefox=$pkgver")
depends=('gtk2' 'dbus-glib' 'desktop-file-utils' 'libxt' 'mime-types' 'nss' 'shared-mime-info')
license=('MPL' 'GPL' 'LGPL')
source=("ftp://ftp.mozilla.org/pub/firefox/releases/${pkgver}/linux-${CARCH}/en-US/firefox-${pkgver}.tar.bz2"
        "$pkgname.desktop" "$pkgname-safe.desktop")
md5sums=('cb629ef9b31121276ec86ea7fdfd134d'
         '07ba13b1e632ccad9b30ea64f6e74fb3'
         '9e521c10b0e2e167c8326377b6c39f55')
sha1sums=('cd357d7c3741f24b14c66e01c3a455d0bfa12927'
          'dd2afa6a6369b9c6ca549152d2df46794b3b385d'
          '30990dafa5bea211ea2b84dadb56ac68324f48a3')
[[ "$CARCH" == "i686" ]] && md5sums[0]="f3d12a227fe222f6a2f47f70dcb8854d" && sha1sums[0]="0071d7052a60acb43843461d3d6f3e355bead05e"

build() {
	cd $srcdir
#	uncomment this line to remove them if you want
#	rm -rf $_pkgname/{extensions,plugins,searchplugins}
	
	mkdir -p $pkgdir/{usr/{bin,share/{applications,pixmaps}},opt}
	cp -r firefox $pkgdir/opt/$pkgname-$pkgver

	ln -s /opt/$pkgname-$pkgver/firefox $pkgdir/usr/bin/$pkgname
	install -m644 $srcdir/{$pkgname.desktop,$pkgname-safe.desktop} $pkgdir/usr/share/applications/
	install -m644 $srcdir/firefox/icons/mozicon128.png $pkgdir/usr/share/pixmaps/${pkgname}-icon.png
}
