# Contributors:
#Joshua N. <drmrshdw@gmail.com>
#Vit <vitruss@gmail.com>
#Giulio Guzzinati <skarn86junk@gmail.com>

pkgname=kst
pkgver=2.0.5
pkgrel=2
pkgdesc="Fast real-time large-dataset viewing and plotting tool for KDE"
arch=(i686 x86_64)
url="http://kst.kde.org"
license=('GPL')
depends=(gsl readline qt kdelibs muparser python2 python2-scipy python2-numpy)
makedepends=()
optdepends=()
provides=(kst)
conflicts=()
replaces=()
backup=()
options=()
install=
source=(http://netcologne.dl.sourceforge.net/project/kst/Kst%20${pkgver}/kst-${pkgver}.tar.gz pyKst-arch.diff)
noextract=()
md5sums=('37fbec4d09a672589547cf485cdafff7' '5c759d9fa012f58d5689fe3274f384be')

build() {
  cd "$srcdir/$pkgname-$pkgver"
  patch -p1 < $srcdir/pyKst-arch.diff
  cmake ./cmake \
  -Dkst_release=1 \
  -Dkst_version_string=1 \
  -Dkst_svnversion=0 \
  -Dkst_python=1 \
  -DBUILD_SCI_PY=0 \
  -DBUILD_NUM_PY=0 \
  -DpyKst_root=${pkgdir}/usr/lib/python2.7 \
  -Dkst_install_prefix=${pkgdir}/usr/
  make install
}
