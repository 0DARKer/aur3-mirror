# Maintainer:  Nicolas Pouillard <nicolas.pouillard@gmail.com>
# Contributor: Guillem Rieu <guillemr@gmx.net>
pkgname=ocaml-pxp
pkgver=1.2.2
pkgrel=1
pkgdesc="An XML parser for OCaml"
arch=('i686' 'x86_64')
url="http://projects.camlcity.org/projects/pxp.html"
license=('GPL')
depends=('ocaml' 'ocamlnet' 'ocaml-findlib')
source=(http://download.camlcity.org/download/pxp-$pkgver.tar.gz)
options=('!strip' '!makeflags')
md5sums=('45ffb1cca15435ea95c613e38c20239c')

build(){
  cd "$srcdir/pxp-$pkgver"

  ./configure
  make all opt || return 1
}

package(){
  cd "$srcdir/pxp-$pkgver"

  mkdir -p "$pkgdir/$(ocamlfind printconf destdir)"
  env DESTDIR="$pkgdir" \
      OCAMLFIND_DESTDIR="$pkgdir/$(ocamlfind printconf destdir)" \
      make install
}

# vim:set ts=2 sw=2 et:
