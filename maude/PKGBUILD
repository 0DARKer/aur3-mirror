# Maintainer: Peter Simons <simons@cryp.to>
pkgname=maude
pkgver=2.5
pkgrel=2
pkgdesc="High-level Specification Language."
arch=('i686' 'x86_64')
url='http://maude.cs.uiuc.edu/'
license=('GPL')
groups=()
depends=('buddy' 'libtecla' 'gmp' 'libsigsegv')
makedepends=('flex' 'bison')
provides=()
conflicts=()
replaces=()
backup=()
options=(!makeflags)
install=
source=( "http://maude.cs.uiuc.edu/download/current/Maude-$pkgver.tar.gz"
         "http://maude.cs.uiuc.edu/download/current/FM2.5/full-maude25.maude"
	 "profile.sh" )
noextract=()
md5sums=('4347ad12d8b9345334336a58f05c4f08'
         'd135d6c880f125488d25afc1b84ca427'
         '0a51738365579574b40a3d32da6f3291')

build() {
  cd "$srcdir/Maude-$pkgver"
  ./configure --prefix=/usr --datadir=/usr/share/maude
  make all || return 1
  make check || return 1
  make DESTDIR="$pkgdir/" install
  install -D -m 444 "$srcdir/full-maude25.maude" "$pkgdir/usr/share/maude/full-maude.maude"
  install -D -m 555 "$srcdir/profile.sh" "$pkgdir/etc/profile.d/maude.sh"
}
