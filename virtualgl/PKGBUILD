# Contributor: FigoDaPaura <ffigoDaPaura>

pkgname=virtualgl
_srcname=VirtualGL
pkgver=2.2.90
_srcbranch='2.2.90 (2.3beta1)'
pkgrel=1
pkgdesc="Redirects 3D commands from an OpenGL application onto a server-side 3D graphics card."
arch=('i686' 'x86_64')
url="http://virtualgl.org"
license=('LGPL')
depends=('turbojpeg' 'libjpeg')
makedepends=('cmake')
provides=()
conflicts=()
replaces=()
backup=()
options=()

source=("http://downloads.sourceforge.net/project/virtualgl/VirtualGL/$_srcbranch/VirtualGL-$pkgver.tar.gz")

md5sums=('4153b8ffd8d6087c6ec945f687eae332')

build() {
  cd "$srcdir/VirtualGL-$pkgver"

  mkdir -p build
  cd build

  cmake .. -DCMAKE_INSTALL_PREFIX=/usr -DTJPEG_INCLUDE_DIR=/usr/include -DTJPEG_LIBRARY=/usr/lib/libturbojpeg.so
  make
}

package() {
  cd "$srcdir/VirtualGL-$pkgver/build"
  make install DESTDIR="$pkgdir"
}

