#Contributor: Dario Andres Rodriguez <andresbajotierra@gmail.com>

pkgname=go-oo-bin-es
pkgver=3.0.0
_subver=3.0
_build=9358
pkgrel=1
pkgdesc="Go-OO Spanish Language Pack and Help"
arch=('i686' 'x86_64')
url="http://go-oo.org/discover/"
license=('LGPL')
makedepends=('rpmextract')
depends=('go-oo-bin-base')
[ "$CARCH" = "x86_64" ] && _arch=x86_64
[ "$CARCH" = "i686" ] && _arch=i586
source=(
  http://go-oo.mirrorbrain.org/stable/linux-$_arch/$_subver/ooobasis$_subver-es{,-base,-binfilter,-calc,-draw,-impress,-math,-res,-writer}-$pkgver-$_build.$_arch.rpm
  http://go-oo.mirrorbrain.org/stable/linux-$_arch/$_subver/openoffice.org3-es-$pkgver-$_build.$_arch.rpm
)

build() {
	
    cd $startdir/src/
	
    for i in $(ls *.rpm); do
        rpmextract.sh $i
    done
    
    #"base" install
    cp $startdir/src/opt $startdir/pkg/ -r

    ## Step 1 
    cd ${pkgdir}/opt/openoffice.org || return 1
    cd basis3.0 || return 1
    ## Step 2
    cd ${pkgdir}/opt/ || return 1
    mv openoffice.org/basis3.0/ openoffice.org3/ || return 1
    cd openoffice.org3/ || return 1
    mv basis3.0 basis-link || return 1
    ## Step 3        
    cd ${pkgdir}/opt/ || return 1
    rmdir ${pkgdir}/opt/openoffice.org || return 1
    mv openoffice.org3 go-oo || return 1
    
}

md5sums=('a2c0db0b621931821a313107f3c510d2'
         '0b70ce9509d62e24e4fcc2e54a2a6a9a'
         '1aa746c3a5a6070d3c0710c706ab277c'
         'e29f3ebfdd464b0c061c57e990a0fd46'
         '6f6d4f617f42cce51bc13eb90974ac97'
         '626572dd2c729eadc385111d331f4e26'
         'ed026ee172157247165ee19f93582a09'
         'f27d79c2afa73ed81041fb3f3f21ac99'
         '0d98aa65c1e570cb504e502a26837091'
         '6cbfa4b2bd0ebdf69d465144575056a4')
[ "$CARCH" = "x86_64" ] && md5sums=('87890801526d443a6cab701363e0ab2d'
         'b2e3324b36ae8fcc5ad004a93656ebb3'
         '8c811cb03cb6e7a237262e367f6943ca'
         '61b276d7958514f39bc3eeaa3c47736d'
         '80330cc7d6bafdb07588a42e8ddd26d8'
         '9dbcc03b920e06c51543b0ba7693622e'
         '664ac31d33a22c7b7d65979683ad22ba'
         'f1a516e7deab26acdda9542602d3f1c7'
         'dc0af6a4660d46d182f1272ebfa2fa6b'
         '3cea7360a883483b9f18e5bb551e3612')
