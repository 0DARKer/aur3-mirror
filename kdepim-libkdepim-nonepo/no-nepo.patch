Les fichiers binaires kdepim-4.8.97/kaddressbook/.contactselectionwidget.cpp.swp et kdepim-4.8.97.new/kaddressbook/.contactselectionwidget.cpp.swp sont diff√©rents
diff -Nru kdepim-4.8.97/messagecomposer/composerlineedit.cpp kdepim-4.8.97.new/messagecomposer/composerlineedit.cpp
--- kdepim-4.8.97/messagecomposer/composerlineedit.cpp	2012-06-25 22:30:06.000000000 +0200
+++ kdepim-4.8.97.new/messagecomposer/composerlineedit.cpp	2012-07-30 16:31:18.832547093 +0200
@@ -33,6 +34,12 @@
 #include <kabc/contactgroup.h>
 #include <kabc/vcardconverter.h>
 
+#include <Akonadi/Collection>
+#include <Akonadi/RecursiveItemFetchJob>
+#include <Akonadi/ItemFetchScope>
+
+#include <Nepomuk/ResourceManager>
+
 #include <kio/netaccess.h>
 #include <kmenu.h>
 #include <kurl.h>
@@ -256,6 +263,26 @@
       addContact( addr, weight, idx );
     }
   }
+
+  // Nepomuk missing, fallback
+  if ( !Nepomuk::ResourceManager::instance()->initialized() ){
+    Akonadi::RecursiveItemFetchJob *job =
+    new Akonadi::RecursiveItemFetchJob( Akonadi::Collection::root(),
+                                        QStringList() << KABC::Addressee::mimeType() );
+    job->fetchScope().fetchFullPayload();
+
+    KABC::Addressee::List contacts;
+    if ( !job->exec() ) {
+      return;
+    }
+
+    const int idx = addCompletionSource( i18n( "Contacts" ), 10);
+    foreach ( const Akonadi::Item &item, job->items() ) {
+      if ( item.isValid() && item.hasPayload<KABC::Addressee>() ) {
+        addContact( item.payload<KABC::Addressee>(), 10, idx );
+      }
+    }
+  }
 }
 
 void ComposerLineEdit::setRecentAddressConfig ( KConfig* config )
