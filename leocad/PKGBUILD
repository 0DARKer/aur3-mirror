# Contributor: Alessio Biancalana <dottorblaster@gmail.com>

pkgname=leocad
pkgver=0.75.1
pkgrel=2
pkgdesc="LeoCAD is a CAD program that uses bricks similar to those found in many toys (but they don't represent any particular brand)."
arch=(i686)
url="http://leocad.gerf.org/"
license=('GPL')
depends=('zlib' 'libjpeg' 'libpng' 'gtk2' 'mesa')
install=${pkgname}.install
source=("http://leocad.googlecode.com/files/${pkgname}-${pkgver}.tgz" "http://leocad.googlecode.com/files/pieces-3934.zip")
md5sums=('f0b89a78ee04f5557631a089ffcff107'
         '9177d153d22fa58213d5817ad3198e18')

build() {
  msg "Building LeoCAD"
  mkdir -p ${pkgdir}/usr/lib/pieces/
  cd ${srcdir}/${pkgname}-${pkgver}/linux
  make
}

package(){
  cd ${srcdir}/${pkgname}-${pkgver}
  make DESTDIR=${pkgdir} install
  msg "Installing libraries"
  install -Dm644 ${srcdir}/*.bin ${pkgdir}/usr/lib/pieces/
  install -Dm644 ${srcdir}/*.idx ${pkgdir}/usr/lib/pieces/
  install -Dm644 ${srcdir}/*.txf ${pkgdir}/usr/lib/pieces/
}
