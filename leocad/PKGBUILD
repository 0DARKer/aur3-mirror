# Contributor: Seth Schroeder <theking@kingdomofseth.com>

pkgname=leocad
pkgver=0.79.2
_piecesver=7114
pkgrel=3
pkgdesc="LeoCAD is a CAD program for creating virtual LEGO models. It has an easy to use interface and currently includes over 6000 different pieces created by the  LDraw community."
arch=(i386, x86_64)
url="http://leocad.org"
license=('GPL')
depends=('zlib' 'libjpeg' 'libpng' 'gtk2' 'mesa')
install=${pkgname}.install
source=("http://leocad-arch.googlecode.com/files/${pkgname}-${pkgver}-src-ARCH.tgz" "http://leocad.googlecode.com/files/pieces-${_piecesver}.zip")
md5sums=('40abe4ee89eaf8bfcc6a64d8cb6856e6'
         '5be3590d960c546edf1d4dcb72dba7c1')

build() {
  msg "Building LeoCAD"
  mkdir -p ${pkgdir}/usr/lib/pieces/
  cd ${srcdir}/${pkgname}
  make
}

package(){
  cd ${srcdir}/${pkgname}
  make DESTDIR=${pkgdir} install
  msg "Installing libraries"
  install -Dm644 ${srcdir}/*.bin ${pkgdir}/usr/lib/pieces/
  #install -Dm644 ${srcdir}/*.idx ${pkgdir}/usr/lib/pieces/
  #install -Dm644 ${srcdir}/*.txf ${pkgdir}/usr/lib/pieces/
}
