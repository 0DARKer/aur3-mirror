# This is an example PKGBUILD file. Use this as a start to creating your own,
# and remove these comments. For more information, see 'man PKGBUILD'.
# NOTE: Please fill out the license field for your package! If it is unknown,
# then please put 'unknown'.

# Maintainer: Matthias Blankertz <matthias at blankertz dot org>
pkgname=msc-generator
pkgver=3.7.8
pkgrel=1
epoch=
pkgdesc="Draws MSCs from textual descriptions"
arch=('i686' 'x86_64')
url="http://sourceforge.net/projects/msc-generator/"
license=('AGPL3')
groups=()
depends=(cairo)
makedepends=()
checkdepends=()
optdepends=()
provides=()
conflicts=()
replaces=()
backup=()
options=()
install=
changelog=

source=("http://sourceforge.net/projects/msc-generator/files/msc-generator/v3.7/msc-generator-v3.7.8.tgz"
        $pkgname-$pkgver.patch)
noextract=()
sha256sums=('b955f08423cdfa76a356f0e0d86d589acf03256aa5d082603fb0e5bd4f6def07'
            '58d0c4dbb157ddb91908e60166f86afedac6b99679b562246763b9e6825555e5')

prepare() {
	cd "$srcdir/$pkgname"
	patch -p1 -i "$srcdir/$pkgname-$pkgver.patch"
}

build() {
	cd "$srcdir/$pkgname"
	aclocal
	automake -a
	autoconf
	./configure --prefix=/usr
	make -C src
}

package() {
	cd "$srcdir/$pkgname"
	make DESTDIR="$pkgdir/" install
}
