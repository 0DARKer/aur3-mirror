# Maintainer: Drew DeVault <sir@cmpwn.com>
pkgname=mktiupgrade
pkgver=1.0.0
pkgrel=1
license=('MIT')
pkgdesc='Builds and signs OS upgrades for Texas Instruments calculators'
depends=("openssl" "gmp")
makedepends=("cmake")
arch=("i386" "x86_64")
url='https://github.com/KnightOS/mktiupgrade'
source=("https://github.com/KnightOS/mktiupgrade/archive/${pkgver}.tar.gz")
sha1sums=('f62c4e162050ae5facefd29370dfd83fe3b0d852')

build() {
	cd "${srcdir}/${pkgname}-${pkgver}"

	cmake . -DCMAKE_INSTALL_PREFIX=/usr
	make
}

package() {
	cd "${srcdir}/${pkgname}-${pkgver}"

	DESTDIR="$pkgdir/" make install
}
