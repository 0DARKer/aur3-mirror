pkgname=compiz-plugins-extra-git
pkgver=0.9.5
pkgrel=1
pkgdesc="Latest development version of the Extra plugins for Compiz 0.9.x"
url="http://www.compiz.org/"
license=('GPL' 'LGPL' 'MIT')
arch=('i686' 'x86_64')
provides=('compiz-plugins-extra')
conflicts=('compiz-plugins-extra')
depends=('compiz-core-git' 'compiz-plugins-main-git')
makedepends=('intltool' 'cmake')
options=(!libtool !emptydirs)

build()
{
  cd "${srcdir}"
  git clone git://git.compiz.org/compiz/plugins-extra/
  cd "plugins-extra"
  git submodule init
  git submodule update


	[[ -d build ]] || mkdir build
	cd build
	env PKG_CONFIG_PATH="/usr/lib/pkgconfig:$PKG_CONFIG_PATH"                            \
		cmake .. -DCOMPIZ_PLUGIN_INSTALL_TYPE="compiz" -DCMAKE_INSTALL_PREFIX=/usr \
			-DCOMPIZ_DISABLE_PLUGIN_FADEDESKTOP=Off \
			-DCOMPIZ_DISABLE_PLUGIN_MAXIMUMIZE=Off \
			-DCOMPIZ_DISABLE_PLUGIN_NOTIFICATION=On \
			-DCOMPIZ_DISABLE_PLUGIN_GRID=Off \
			-DCOMPIZ_DISABLE_PLUGIN_SHELF=Off \
			-DCOMPIZ_DISABLE_PLUGIN_CUBEADDON=Off \
			-DCOMPIZ_DISABLE_PLUGIN_SHOWDESKTOP=Off \
			-DCOMPIZ_DISABLE_PLUGIN_LOGINOUT=Off \
			-DCOMPIZ_DISABLE_PLUGIN_WALLPAPER=Off \
			-DCOMPIZ_DISABLE_PLUGIN_GEARS=Off \
			-DCOMPIZ_DISABLE_PLUGIN_SPLASH=Off \
			-DCOMPIZ_DISABLE_PLUGIN_BENCH=Off \
			-DCOMPIZ_DISABLE_PLUGIN_BICUBIC=Off \
			-DCOMPIZ_DISABLE_PLUGIN_FIREPAINT=Off \
			-DCOMPIZ_DISABLE_PLUGIN_TD=Off \
			-DCOMPIZ_DISABLE_PLUGIN_SHOWMOUSE=Off \
			-DCOMPIZ_DISABLE_PLUGIN_MBLUR=Off \
			-DCOMPIZ_DISABLE_PLUGIN_GROUP=Off \
			-DCOMPIZ_DISABLE_PLUGIN_ANIMATIONADDON=Off \
			-DCOMPIZ_DISABLE_PLUGIN_ADDHELPER=Off \
			-DCOMPIZ_DISABLE_PLUGIN_REFLEX=Off \
			-DCOMPIZ_DISABLE_PLUGIN_TRAILFOCUS=Off \
			-DCOMPIZ_DISABLE_PLUGIN_WIDGET=Off \
			-DCOMPIZ_DISABLE_PLUGIN_CRASHHANDLER=Off \
			-DCOMPIZ_DISABLE_PLUGIN_EXTRAWM=Off \
			-DCOMPIZ_DISABLE_PLUGIN_SCALEFILTER=Off
	make
	make DESTDIR="${pkgdir}" install
}

