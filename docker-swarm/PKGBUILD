#Maintainer: Iwan Timmer <irtimmer@gmail.com>

pkgname=docker-swarm
pkgver=0.1.0rc3
_pkgver=0.1.0-rc3
pkgrel=1
pkgdesc="A Docker-native clustering system"
depends=('glibc')
makedepends=('go')
arch=('x86_64' 'i686')
source=("https://github.com/docker/swarm/archive/v$_pkgver.tar.gz")
url="https://github.com/docker/swarm/"
license="BSD"
sha256sums=('9c57344c6c17ea4df51f73405027f2e70d1b2b8dd6058763469a2ae4b2f950af')

prepare() {
    cd $srcdir
    export GOPATH=$(pwd)
    
    cd swarm-$_pkgver
    go get -d
}

build() {
    cd $srcdir/swarm-$_pkgver

    go build
}

package() {
    cd $srcdir/swarm-$_pkgver

    install -Dm755 swarm-$_pkgver $pkgdir/usr/bin/swarm
    install -Dm644 LICENSE $pkgdir/usr/share/licenses/$pkgname/LICENSE
}
