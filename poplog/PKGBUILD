# Maintainer: Peter Richard Lewis <plewis@aur.archlinux.org>
# Contributor: Aaron Sloman <a.sloman@cs.bham.ac.uk>
pkgname=poplog
pkgver=15.65
pkgrel=1
pkgdesc="Poplog interpreter"
arch=('x86_64')
url="http://www.cs.bham.ac.uk/research/projects/poplog/freepoplog.html"
license=('custom:poplog')
groups=()
depends=('lib32-libxext' 'lib32-libxt' 'lib32-openmotif' 'lib32-libxp' 'tcsh')

makedepends=()
checkdepends=()
optdepends=('espeak')
provides=()
conflicts=()
replaces=()
backup=()
options=()
install=
changelog=
source=(
  "http://www.cs.bham.ac.uk/research/projects/poplog/v$pkgver/AREADME.txt"
  "http://www.cs.bham.ac.uk/research/projects/poplog/v$pkgver/INSTALL_BHAM_LINUX_POPLOG"
  "http://www.cs.bham.ac.uk/research/poplog/bham-linux-poplog-v$pkgver.tar.gz"
  "http://www.cs.bham.ac.uk/research/projects/poplog/copyright.html"
)
noextract=()
sha256sums=('d009a39f596e81ae4060f12eeee07e755d05283a039a67612a73f8136b77fa7b'
            'f843702ad2fe1208e3956f07b8b29c8e2610de52b507f3caf26dc332c9f38ff8'
            'af7c0f72b5cce47240d1bac1cffd365b7ec3a2e7f07a94bd722b88518f83764b'
            '87c8728fcad9a4a24d70ba41e1628d44bd89b36bbe0eed75e49eb7b2b52b69a9')

build() {
  # We're using pre-built binaries, and the install script links for us,
  # so there's no nothing to do here.
  return 0
}



package() {
  cd "$srcdir"
  chmod 775 INSTALL_BHAM_LINUX_POPLOG

  # Install poplog
  ./INSTALL_BHAM_LINUX_POPLOG motif "$pkgdir/usr/lib/poplog" nolinks

  cd "$pkgdir"

  ## Now install links
  mkdir -p "$pkgdir/usr/bin" "$pkgdir/usr/share/man/man1"
  ln -s "/usr/lib/poplog/current-poplog/bin/poplog.sh" "$pkgdir/usr/bin/poplog"
  ln -s "/usr/lib/poplog/current-poplog/man/man1/*" "$pkgdir/usr/share/man/man1"

  # Licence
  install -Dm644 "$srcdir/copyright.html" "$pkgdir/usr/share/licenses/poplog.html"
}

# vim:set ts=2 sw=2 et:
