# Maintainer: almostalive <almostalive2003 at lavabit dot com>
# Submitter <Themaister> <maister@archlinux.us>

pkgname=retroarch-git
_gitname=RetroArch
pkgver=2013.07.07_b7fa652
pkgrel=1
pkgdesc="Simple frontend for the libretro API."

url="http://github.com/libretro/RetroArch"
arch=('i686' 'x86_64' 'arm' 'armv6h')
license=('GPL')
depends=('mesa')
optdepends=('libretro-super-git: A collection of many libretro implementations.')
makedepends=('git')
provides=('retroarch')
conflicts=('retroarch')
source=('git://github.com/libretro/RetroArch.git')
md5sums=('SKIP')

pkgver() {
  cd $_gitname
  echo "$(git log -1 --format="%cd" --date=short | sed 's|-|.|g')_$(git describe --always | sed 's/-/_/g')"
}

build() 
{
   cd $_gitname
   ./configure --prefix=/usr
   make || return 1
}

package()
{
   mkdir -p $pkgdir/etc
   mkdir -p $pkgdir/usr/bin
   mkdir -p $pkgdir/usr/share/man/man1
   cd $srcdir/$_gitname
   make install DESTDIR=$pkgdir || return 1
}


