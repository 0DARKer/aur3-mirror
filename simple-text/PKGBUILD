# $Id$
# Maintainer: Ian Hernandez <ihernandezs@openmailbox.org>

pkgname=simple-text
pkgver=0.9.7
pkgrel=2
pkgdesc="A not so simple text and code editor written in Vala (Still in development)"
arch=('i686' 'x86_64')
license=('GPL2')
url="https://github.com/BadWolfie/$pkgname"
depends=('gtk3' 'gtksourceview3' 'libgee' 'vte3' 'libcap' 'dconf')
makedepends=('vala' 'git')
options=('!emptydirs')
source=("$pkgname-git::git+$url.git" "$pkgname.desktop")
md5sums=('SKIP' 
        '34c27672aedc6fab8bddd160199ea2e4')
install=$pkgname.install

build() {
    cd $pkgname-git
    make
}

package() {
    cd $pkgname-git

    install -dm755 "$pkgdir/opt/$pkgname"
    install -dm755 "$pkgdir/usr/bin"
    install -dm755 "$pkgdir/usr/share/applications"

    cp LICENSE "$pkgdir/opt/$pkgname"
    cp -r "data" "$pkgdir/opt/$pkgname"
    cp -r "style_schemes" "$pkgdir/opt/$pkgname"
    install -Dm755 "$pkgname" "$pkgdir/opt/$pkgname"

    cd $srcdir/..
    install -Dm755 "$pkgname.desktop" "$pkgdir/usr/share/applications"
}
