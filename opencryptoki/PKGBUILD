# Maintainer: Gavin Lloyd <gavinhungry@gmail.com>
# Contributor: VuDu <vudu.curse@gmail.com>

pkgname=opencryptoki
pkgver=2.4
pkgrel=3
pkgdesc="A PKCS11 implementation for Linux"
arch=('any')
url="http://sourceforge.net/projects/opencryptoki/"
license=('GPL')
source=(http://downloads.sourceforge.net/$pkgname/$pkgname-$pkgver.tar.gz
        pkcsslotd)
md5sums=('1c834a4c7380a352319cb47b99fc6157'
         '8b138fdc8cd74b81f48b5a5e997ecd55')

build() {
  cd ${srcdir}/${pkgname}-${pkgver}
  ./bootstrap.sh
  ./configure --prefix=/usr
  make
}

package() {
  cd ${srcdir}/${pkgname}-${pkgver}
  make DESTDIR=${pkgdir} install
  install -Dm755 ${srcdir}/pkcsslotd ${pkgdir}/etc/rc.d//pkcsslotd
}
