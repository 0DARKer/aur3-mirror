*** ../../CGoGN_ORIGINAL/SCHNApps/CMakeLists.txt	2013-03-11 16:18:01.142106556 +0100
--- CMakeLists.txt	2013-03-11 15:43:12.855531827 +0100
***************
*** 6,12 ****
  
  
  SET(CGoGN_ROOT_DIR ${CMAKE_SOURCE_DIR}/.. CACHE STRING "CGoGN root dir")
! SET(CMAKE_MODULE_PATH ${CGoGN_ROOT_DIR}/cmake_modules/)
  
  
  find_package(OpenGL REQUIRED)
--- 6,12 ----
  
  
  SET(CGoGN_ROOT_DIR ${CMAKE_SOURCE_DIR}/.. CACHE STRING "CGoGN root dir")
! SET(CMAKE_MODULE_PATH ${CMAKE_SOURCE_DIR}/../cmake_modules/)
  
  
  find_package(OpenGL REQUIRED)
***************
*** 18,49 ****
  find_package(QGLViewer REQUIRED)
  find_package(PythonLibs 2.7 REQUIRED)
  find_package(SuiteSparse REQUIRED)
  
  SET( QT_USE_QTOPENGL TRUE )
  SET( QT_USE_QTXML TRUE )
  SET( QT_USE_QTDESIGNER TRUE )
  SET( QT_USE_QTGUI TRUE )
  SET( QT_USE_QTPLUGIN TRUE )
! 
! INCLUDE(${QT_USE_FILE})
! ADD_DEFINITIONS(${QT_DEFINITIONS})
  
  
  
  
- file(STRINGS ${CGoGN_ROOT_DIR}/include/cgogn_mr.h FORCE_MR)
- IF (FORCE_MR EQUAL 1)
- 	add_definitions(-DCGoGN_FORCE_MR=1)
- ENDIF (FORCE_MR EQUAL 1)
- 
- file(STRINGS ${CGoGN_ROOT_DIR}/include/cgogn_onelib.h ONELIB_STR)
- IF (ONELIB_STR EQUAL 1)
- 	SET(CGoGN_LIBS_D cgognD)
- 	SET(CGoGN_LIBS_R cgogn)
- ELSE (ONELIB_STR EQUAL 1)
- 	SET(CGoGN_LIBS_D topologyD algoD containerD utilsD)
- 	SET(CGoGN_LIBS_R topology algo container utils)
- ENDIF (ONELIB_STR EQUAL 1)
  
  IF (DEFINED ASSERTON)
  	add_definitions(-DCGOGN_ASSERT_BOOL=${ASSERTON})
--- 18,38 ----
  find_package(QGLViewer REQUIRED)
  find_package(PythonLibs 2.7 REQUIRED)
  find_package(SuiteSparse REQUIRED)
+ find_package(CGoGN REQUIRED)
+ 
  
  SET( QT_USE_QTOPENGL TRUE )
  SET( QT_USE_QTXML TRUE )
  SET( QT_USE_QTDESIGNER TRUE )
  SET( QT_USE_QTGUI TRUE )
  SET( QT_USE_QTPLUGIN TRUE )
! include(${QT_USE_FILE})
  
  
  
+ #SET(CGoGN_LIBS_D cgognD)
+ SET(CGoGN_LIBS_R cgogn)
  
  
  IF (DEFINED ASSERTON)
  	add_definitions(-DCGOGN_ASSERT_BOOL=${ASSERTON})
***************
*** 51,64 ****
  	add_definitions(-DCGOGN_ASSERT_BOOL=false)
  ENDIF (DEFINED ASSERTON)
  
! add_definitions(-DSHADERPATH="${CGoGN_ROOT_DIR}/lib/Shaders/")
  
  
  
  
  # define includes of external libs 
  SET (EXT_INCLUDES 
! 	${CGoGN_ROOT_DIR}/ThirdParty/include
  	${OPENGL_INCLUDE_DIR}
  	${GLEW_INCLUDE_DIRS}
  	${ZLIB_INCLUDE_DIRS}
--- 40,54 ----
  	add_definitions(-DCGOGN_ASSERT_BOOL=false)
  ENDIF (DEFINED ASSERTON)
  
! add_definitions(-DSHADERPATH="/usr/lib/CGoGN/Shaders/")
  
  
  
  
  # define includes of external libs 
  SET (EXT_INCLUDES 
! 	${CGoGN_EXT_INCLUDES}
! 	${CGOGN_INCLUDE_DIRS}
  	${OPENGL_INCLUDE_DIR}
  	${GLEW_INCLUDE_DIRS}
  	${ZLIB_INCLUDE_DIRS}
***************
*** 72,79 ****
  
  # define libs for external libs
  SET (EXT_LIBS 
! 	PythonQt
! 	nl
  	${OPENGL_LIBRARY}
  	${GLEW_LIBRARIES}
  	${ZLIB_LIBRARIES}
--- 62,69 ----
  
  # define libs for external libs
  SET (EXT_LIBS 
! 	${CGoGN_EXT_LIBS}
! 	${CGOGN_LIBRARIES}
  	${OPENGL_LIBRARY}
  	${GLEW_LIBRARIES}
  	${ZLIB_LIBRARIES}
***************
*** 89,108 ****
  
  
  
! 
! # qq definition specifiques pour mac
! IF(APPLE)
! # attention a changer pour chercher la bonne version automatiquement
! 	SET(CMAKE_OSX_SYSROOT "/Developer/SDKs/MacOSX10.6.sdk" CACHE STRING "developer SDK")
! 	SET(CMAKE_SHARED_LINKER_FLAGS "${CMAKE_SHARED_LINKER_FLAGS} -Wl,-undefined -Wl,dynamic_lookup")
! 	SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -DMAC_OSX")
! 	SET(CMAKE_OSX_ARCHITECTURES x86_64)
! ENDIF(APPLE)
! 
! 
! 
! 
! SET(SCHNApps_ROOT_DIR ${CGoGN_ROOT_DIR}/SCHNApps)
  SET(EXECUTABLE_OUTPUT_PATH ${SCHNApps_ROOT_DIR}/bin)
  SET(LIBRARY_OUTPUT_PATH ${SCHNApps_ROOT_DIR}/lib)
  
--- 79,85 ----
  
  
  
! SET(SCHNApps_ROOT_DIR ${CMAKE_SOURCE_DIR}/../SCHNApps)
  SET(EXECUTABLE_OUTPUT_PATH ${SCHNApps_ROOT_DIR}/bin)
  SET(LIBRARY_OUTPUT_PATH ${SCHNApps_ROOT_DIR}/lib)
  
***************
*** 139,144 ****
  
  
  ADD_SUBDIRECTORY(${CMAKE_SOURCE_DIR}/Release Release)
- IF (NOT WIN32)
- 	ADD_SUBDIRECTORY(${CMAKE_SOURCE_DIR}/Debug Debug)
- ENDIF (NOT WIN32)
--- 116,118 ----
