# Maintainer: cap_sensitive (cap.sensitive@gmail.com)
# Contributor: Laszlo Papp

pkgname=vim-slimv
pkgver=0.7.6
pkgrel=1
_src_id=14848
pkgdesc="Lisp and Clojure REPL inside Vim with profiling and Hyperspec lookup, like SLIME"
arch=(i686 x86_64)
url="http://www.vim.org/scripts/script.php?script_id=2531"
license=('custom')
depends=(vim python2)
groups=('vim-plugins')
install=vimdoc.install
source=(${pkgname}-${pkgver}.zip::http://www.vim.org/scripts/download_script.php?src_id=${_src_id}
        license.txt)

build() {
    sed -i 's/\/usr\/bin\/env python)/\/usr\/bin\/env python2/g' ./ftplugin/slimv.py
    install -d ${pkgdir}/usr/share/vim/vimfiles/{doc,ftdetect,syntax,indent,ftplugin}
    install -Dm755 ${srcdir}/doc/* ${pkgdir}/usr/share/vim/vimfiles/doc/ && \
    install -Dm755 ${srcdir}/ftdetect/* ${pkgdir}/usr/share/vim/vimfiles/ftdetect/ && \
    cp -aR ${srcdir}/{ftplugin,indent,syntax} ${pkgdir}/usr/share/vim/vimfiles && \
    install -Dm755 ${srcdir}/license.txt ${pkgdir}/usr/share/licenses/${pkgname}/license.txt
}

md5sums=('403e6d12f42bcb552c0de398af9fa489'
         'efbd5986e691ce8c876fb86e8f5961ea')
