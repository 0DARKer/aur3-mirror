--- installer/resources/i2prouter	2013-01-02 17:36:07.827018470 -0500
+++ installer/resources/i2prouter	2013-01-02 17:40:56.789621808 -0500
@@ -58,15 +58,16 @@
 # NOTE - This will set the user which is used to run the Wrapper as well as
 #  the JVM and is not useful in situations where a privileged resource or
 #  port needs to be allocated prior to the user being changed.
-#RUN_AS_USER=
+RUN_AS_USER=i2p

 # Wrapper
 WRAPPER_CMD="$I2P/i2psvc"
 WRAPPER_CONF="$I2P/wrapper.config"

-# Priority at which to run the wrapper.  See "man nice" for valid priorities.
-#  nice is only used if a priority is specified.
-PRIORITY=
+# Priority and cpu scheduler at which to run the wrapper.  See "man nice" and "man schedtool" for detailed usage.
+# Defaults to SCHED_NORMAL
+PRIORITY='0'
+SCHEDULER='-N'

 # Location of the pid and status files.
 PIDDIR="$I2P_CONFIG_DIR"
@@ -576,7 +577,8 @@
 then
     CMDNICE=""
 else
-    CMDNICE="nice -$PRIORITY"
+    CMDNICE="schedtool $SCHEDULER -n $PRIORITY -e"
+
 fi

 # Build the anchor file clause.
