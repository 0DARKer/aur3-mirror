# For ArchLinux by JoÃ«l Porquet

pkgname=dtc-git
pkgver=20141110
pkgrel=1
pkgdesc="Device Tree Compiler (git version)"
arch=('any')
license=('GPL2')
url="http://jdl.com/software/"

_gitroot='git://git.kernel.org/pub/scm/utils/dtc/dtc.git'
_gitname='dtc.git'

build() {
    msg 'Connecting to GIT server...'

    if [[ -d ${_gitname} ]]
    then
        cd ${_gitname}
        git pull
    else
        git clone ${_gitroot} ${_gitname}
    fi

    msg 'GIT checkout done or server timeout'
}

package() {
	cd ${_gitname}

    make || return 1
    make INSTALL=$(which install) DESTDIR=${pkgdir} PREFIX=/usr install || return 1
}

