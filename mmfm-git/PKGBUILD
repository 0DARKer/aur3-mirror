# Maintainer: limser <echo bGltc2VyQHFxLmNvbQo=|base64 -d>

pkgname=mmfm-git
pkgver=20121113
pkgrel=1
pkgdesc="An Internet-Radio toolkit(P.R.China)"
url="https://github.com/archlimser/mmfm"
license="GPL"
arch=('any')
provides=('mmfm')
depends=('pywebkitgtk' 'python2-notify' 'gst-plugins-base-libs')
makedepends=(git)
source=()
md5sums=()

_gitroot="git://github.com/archlimser/mmfm.git"
_gitname="mmfm"

package()
{
    cd "${srcdir}"
    msg "Connecting to the GIT server...."
    if [[ -d $srcdir/$_gitname ]] ; then
        cd $_gitname
        git pull origin
        msg "The local files are updated."
    else
        git clone $_gitroot
    fi
    msg "GIT checkout done"

    cd $_gitname
    find usr/ -type f -perm 755 -exec install -Dm755 '{}' ${pkgdir}/'{}' \;
    find usr/ -type f -perm 644 -exec install -Dm644 '{}' ${pkgdir}/'{}' \;

}
