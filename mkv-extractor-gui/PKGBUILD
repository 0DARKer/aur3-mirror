# $Id: PKGBUILD,v 1.12 2003/11/06 08:26:13 dorphell Exp $
# Maintainer: Marty_Stoopid <>
# Contributor: Marty_Stoopid <>
pkgname=mkv-extractor-gui
pkgver=4.6.9
pkgrel=1
pkgdesc="GUI for extract files from .mkv"
arch=(i686 x86_64)
url="http://hizo.fr/linux/mkv_extractor_gui"
license=('Creative Common BY-NC-SA')
#groups=()
#provides=()
depends=('mplayer' 'gtk2' 'pygtk' 'gettext' 'python-notify' 'pango' 'python2-gobject2' 'vte' 'python2' 'mkvtoolnix-cli' 'ffmpeg' 'mkclean' 'mkvalidator' 'imagemagick' 'pywebkitgtk' 'desktop-file-utils')
makedepends=('patch')
#conflicts=()
#replaces=()
#backup=()
source=(http://hizo.fr/linux/mkv_extractor_gui/MKV-Extractor-GUI_$pkgver.tar.gz
		  glade2script.patch
		  mkv-extractor-gui.desktop
		  mkv-extractor-gui.xml)
md5sums=('f9a831f85e28187eb00fd8680aef7bb3'
			'ac3b7f59f7fbf4228747249da0f52b28'
			'ab2bc4df8c064e9b95ccb58d05d3bc11'
			'821cc1c4856f7d1307bb16798c9a6302')
package() {
mv ${srcdir}/mkv-extractor-gui/g2sPluginMplayer ${srcdir}
mv ${srcdir}/mkv-extractor-gui/locale ${srcdir}
mv ${srcdir}/mkv-extractor-gui/* ${srcdir}
# apply some patches
  patch < ../glade2script.patch
  #patch < ../mkv-extractor-gui.patch

# Install the icon file
  mkdir -p "${pkgdir}/usr/share/pixmaps"
  cp "${srcdir}/mkv-extractor-gui.png" "${pkgdir}/usr/share/pixmaps/"

# Install the binaries and data files
  mkdir -p "${pkgdir}/opt/${pkgname}"
  mv -T "${srcdir}" "${pkgdir}/opt/${pkgname}"
  
# Install the .desktop file
  install -Dm644 mkv-extractor-gui.desktop "${pkgdir}/usr/share/applications/mkv-extractor-gui.desktop"

# Install the shared MIME info package
  install -Dm644 mkv-extractor-gui.xml "${pkgdir}/usr/share/mime/packages/mkv-extractor-gui.xml"

# Change the ownership to root
  chown -R root:root ${pkgdir}/*
}