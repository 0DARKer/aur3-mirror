# $Id: PKGBUILD,v 1.12 2003/11/06 08:26:13 dorphell Exp $
# Maintainer: Marty_Stoopid <>
# Contributor: Marty_Stoopid <>
pkgname=mkv-extractor-gui
pkgver=4.6.4
pkgrel=2
pkgdesc="GUI for extract files from .mkv"
arch=(i686 x86_64)
url="http://hizo.fr/linux/mkv_extractor_gui"
license=('Creative Common BY-NC-SA')
#groups=()
#provides=()
depends=('gettext' 'libglade' 'vte' 'python2' 'mkvtoolnix-cli' 'ffmpeg' 'mkclean' 'mkvalidator')
makedepends=('patch')
#conflicts=()
#replaces=()
#backup=()
source=(http://hizo.fr/linux/mkv_extractor_gui/MKV-Extractor-GUI.tar.gz
		  glade2script.patch
		  mkv-extractor-gui.patch
		  mkv-extractor-gui.desktop
		  mkv-extractor-gui.xml)
md5sums=('654f09a8042bf167fb3376669a457d24'
			'6966686d69e327e021e4903ac078c246'
			'33cde51ee18cc1b7496ea9cce32d83a2'
			'b3db4b4eb9bdd841efe9bf757e4bb7a2'
			'821cc1c4856f7d1307bb16798c9a6302')
package() {
# apply some patches
  patch < ../glade2script.patch
  patch < ../mkv-extractor-gui.patch

# Install the icon file
  mkdir -p "${pkgdir}/usr/share/pixmaps"
  mv "${srcdir}/mkv-extractor-gui.png" "${pkgdir}/usr/share/pixmaps/"

# Install the binaries and data files
  mkdir -p "${pkgdir}/opt/${pkgname}"
  mv -T "${srcdir}" "${pkgdir}/opt/${pkgname}"
  
# Install the .desktop file
  install -Dm644 mkv-extractor-gui.desktop "${pkgdir}/usr/share/applications/mkv-extractor-gui.desktop"

# Install the shared MIME info package
  install -Dm644 mkv-extractor-gui.xml "${pkgdir}/usr/share/mime/packages/mkv-extractor-gui.xml"

# Change the ownership to root
  chown -R root:root ${pkgdir}/*
}