# Contributor: Andre Klitzing <andre () incubo () de>
# Maintainer: schalaalexiazeal@gmail.com
_pkgname=pcre
_target=i486-mingw32
pkgname=mingw32-pcre
pkgver=8.21
pkgrel=1
pkgdesc="A library that implements Perl 5-style regular expressions"
arch=('i686' 'x86_64')
url="http://pcre.sourceforge.net"
license=('custom')
options=(!strip !buildflags)
makedepends=('mingw32-gcc' 'mingw32-binutils' 'mingw32-w32api')
source=(ftp://ftp.csx.cam.ac.uk/pub/software/programming/$_pkgname/$_pkgname-$pkgver.tar.bz2)
md5sums=('0a7b592bea64b7aa7f4011fc7171a730')

build() {
  cd "$srcdir/$_pkgname-$pkgver"

  ./configure --prefix=/usr/${_target} --build=$CHOST --host=${_target} \
  --enable-utf8 --enable-unicode-properties || return 1
  make || return 1
  make DESTDIR="$pkgdir" install
}
