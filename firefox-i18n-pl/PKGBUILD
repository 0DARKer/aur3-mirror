# Contributor: Jacek Sowi≈Ñski <mruwek.arch@vcf.pl>
# Maintainer: grimi <grimi at poczta dot fm>

pkgname=firefox-i18n-pl
pkgver=3.6.14
pkgrel=1
pkgdesc="Polish language pack for Firefox"
arch=('any')
url="http://aviary.pl"
depends=('firefox>=3.6' 'firefox<3.7')
makedepends=('unzip' 'sed')
license=('MPL')
_language=pl
conflicts=(mozilla-firefox-${_language} firefox-${_language})
source=http://releases.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-i686/xpi/${_language}.xpi
md5sums=('c88a7ef290f5adaf743f62cc6c64487b')

build() {
  cd "${srcdir}"
  unzip -o ${_language}.xpi
  sed -i "s|jar:chrome/${_language}.jar|jar:${_language}.jar|" chrome.manifest
}

package() {
  install -d "${pkgdir}"/usr/lib/firefox-3.6/chrome/
  install -m644 "${srcdir}"/{chrome.manifest,chrome/${_language}.jar} "${pkgdir}"/usr/lib/firefox-3.6/chrome/
}

