# Maintainer: Ronny Lorenz <ronny at tbi dot univie dot ac dot at>

pkgname=viennarna2
pkgver=2.1.4
pkgrel=2
pkgdesc="RNA Secondary Structure Prediction and Comparison"
arch=('any')
license=('Custom')
url="http://www.tbi.univie.ac.at/~ivo/RNA"
depends=('perl')
optdepends=('perl: usage of the utility programs and perl interface to the RNAlib'
'python2: python2 interface to the RNAlib'
'ruby: ruby interface to the RNAlib')
conflicts=('viennarna')
makedepends=()
provides=('Kinfold=1.3')
source=(http://www.tbi.univie.ac.at/~ronny/RNA/packages/source//ViennaRNA-${pkgver}.tar.gz)

md5sums=('19fd574cee13aad74f6cb0841fb72b43')

build() {
  cd "${srcdir}/ViennaRNA-${pkgver}"
  # forester does not compile (g2 breaks at DESTDIR)
  ./configure --with-cluster --prefix=/usr --without-forester || return 1
  make || return 1
}

package() {
  cd "${srcdir}/ViennaRNA-${pkgver}"
  make DESTDIR="${pkgdir}" install || return 1
  # no need for that file
  rm $pkgdir/usr/share/info/dir
}
