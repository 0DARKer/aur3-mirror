# Maintainer: Sid Karunaratne <sid at karunaratne dot net>
pkgname=linux-tycoon
_pkgname=LinuxTycoon
pkgver=1.0
pkgrel=3
pkgdesc="a game where you design and manage your own distribution of Linux and compete against other Distros"
arch=('i686' 'x86_64')
url="http://lunduke.com/?page_id=2646"
license=('custom')
source=(LinuxTycoon.tar.gz ${pkgname}.desktop)

if [[ ! -e $source ]]; then
    echo "You need to download the $source file from the developer"
fi

sha256sums=("c50b0fe42840443ea505596e862c944a8c13b3c3b0fdd4b2a0e88b9b72c45420" "15a5a31de5c8e1a3462a1d755b951fb35743f13507d377dcd5f74f93b33476de")

if [[ $CARCH = 'i686' ]]; then
    depends=(gtk2)
elif [[ $CARCH = 'x86_64' ]]; then
    depends=(lib32-gtk2)
fi

package() {
    mkdir -p "${pkgdir}/opt/${_pkgname}" "${pkgdir}/usr/bin"
    cp -r "${srcdir}/${_pkgname}" "${pkgdir}/opt/"
    ln -s "/opt/${_pkgname}/${_pkgname}" "${pkgdir}/usr/bin/${pkgname}"
    install -Dm644 "${srcdir}/${_pkgname}/LinuxTycoon.png" "${pkgdir}/usr/share/pixmaps/LinuxTycoon.png"
    install -Dm644 ${srcdir}/${pkgname}.desktop "${pkgdir}/usr/share/applications/${pkgname}.desktop"
}
