# Contributor: Ondrej Kucera <ondrej.kucera@centrum.cz>
pkgname='spring-framework'
true && pkgname=('spring-framework' 'spring-framework-doc')
pkgbase='spring-framework'
pkgver=3.2.0
pkgrel=1 
pkgdesc="An application framework for the Java platform"
url="http://www.springsource.org/"
arch=('any')
license=('Apache')
depends=('java-runtime' 'java-commons-logging')
source=("http://repo.springsource.org/libs-release-local/org/springframework/spring/$pkgver.RELEASE/$pkgbase-$pkgver.RELEASE-dist.zip")
md5sums=('f91886553364e35d24a6b855cbf89354')
options=(!strip)

build() {
  # Nothing is done here
  true
}

package_spring-framework() {
  mkdir -p $pkgdir/usr/share/java/$pkgbase
  cd $srcdir/$pkgbase-$pkgver.RELEASE/libs
  for i in *.RELEASE.jar; do
    install -m644 "$i" $pkgdir/usr/share/java/$pkgbase
  done
}

package_spring-framework-doc() {
  mkdir -p $pkgdir/usr/share/doc/$pkgbase
  cd $srcdir/$pkgbase-$pkgver.RELEASE/docs
  cp -r javadoc-api $pkgbase-reference $pkgdir/usr/share/doc/$pkgbase
  rm -rf "$pkgdir/usr/share/doc/$pkgbase/$pkgbase-reference/htmlsingle"
}
