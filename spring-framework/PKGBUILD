# Contributor: Ondrej Kucera <ondrej.kucera@centrum.cz>
pkgname='spring-framework'
true && pkgname=('spring-framework' 'spring-framework-doc')
pkgbase='spring-framework'
pkgver=4.0.5
pkgrel=1 
pkgdesc="An application framework for the Java platform"
url="http://www.springsource.org/"
arch=('any')
license=('Apache')
depends=('java-runtime' 'java-commons-logging')
source=("http://repo.springsource.org/libs-release-local/org/springframework/spring/$pkgver.RELEASE/$pkgbase-$pkgver.RELEASE-dist.zip")
md5sums=('b8728878037b94b08b6ce40e26cc105f')
options=(!strip)

package_spring-framework() {
  mkdir -p $pkgdir/usr/share/java/$pkgbase
  cd $srcdir/$pkgbase-$pkgver.RELEASE/libs
  for i in *.RELEASE.jar; do
    install -m644 "$i" $pkgdir/usr/share/java/$pkgbase
  done
}

package_spring-framework-doc() {
  mkdir -p $pkgdir/usr/share/doc/$pkgbase
  cd $srcdir/$pkgbase-$pkgver.RELEASE/docs
  cp -r javadoc-api $pkgbase-reference $pkgdir/usr/share/doc/$pkgbase
  rm -rf "$pkgdir/usr/share/doc/$pkgbase/$pkgbase-reference/htmlsingle"
}
