# Maintainer: Erdbeerkaese <erdbeerkaese underscore arch at yahoo dot de>

pkgname=cpunit
pkgver=0.9
pkgrel=1
pkgdesc="C++ unit test framework"
arch=('i686' 'x86_64')
url="http://cpunit.sourceforge.net/"
license=('BSD')
depends=('sh' 'gcc-libs')
makedepends=('bash' 'binutils' 'gcc')
source=(http://sourceforge.net/projects/cpunit/files/CPUnit_${pkgver}.tar.gz)
sha1sums=('b4eabc9151887e4a5df92f226f6ff9e8ac25aab7')

build() {
    cd "${srcdir}"
    ./build_cpunit

    cd test
    ./build_tests
    ./tester
}

package() {
    cd "${srcdir}"
    install -D -m644 lib/libCPUnit.a "${pkgdir}/usr/lib/libCPUnit.a"

    install -d "${pkgdir}/usr/share/doc/${pkgname}"

    install -m644 README.txt "${pkgdir}/usr/share/doc/${pkgname}/"
    for f in doc/*
    do
        install -m644 $f "${pkgdir}/usr/share/doc/${pkgname}/"
    done

    install -d "${pkgdir}/usr/include/${pkgname}"
    for f in src/*
    do
        install -m644 $f "${pkgdir}/usr/include/${pkgname}/"
    done
}
# vim:set ts=4 sw=4 et:
