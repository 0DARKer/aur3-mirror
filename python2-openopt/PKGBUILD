# Maintainer: Tnoo <archtnoo at tnoo dot net>

pkgname=python2-openopt
pkgver=3.1
pkgrel=1
arch=('i686' 'x86_64')
license=('BSD')
pkgdesc="Optimization library"
depends=('python2' 'python-numpy')
url="http://www.openopt.org"
source=(http://openopt.org/images/f/f3/OOSuite.zip)
md5sums=('9002269a81e97f2e0a1b66cf83bb0cd1')

build() {
  export _INSTALLDIR=$pkgdir/usr/lib/python2.7/site-packages
  export PYTHONPATH=$_INSTALLDIR
  mkdir -p $_INSTALLDIR

  cd $startdir/src/PythonPackages/DerApproximator
  python2 setup.py install --prefix=$pkgdir/usr

  cd $startdir/src/PythonPackages/FuncDesigner
  python2 setup.py install --prefix=$pkgdir/usr

  cd $startdir/src/PythonPackages/OpenOpt
  python2 setup.py install --prefix=$pkgdir/usr

  # remoe some crufty files
  rm $_INSTALLDIR/site.py
  rm $_INSTALLDIR/site.pyc

}
