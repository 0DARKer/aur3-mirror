# Maintainer: Tnoo <archtnoo at tnoo dot net>

pkgname=python2-openopt
pkgver=0.33
pkgrel=1
arch=('any')
license=('BSD')
pkgdesc="Optimization library"
depends=('python2' 'python-numpy')
url="http://www.openopt.org"
source=(http://openopt.org/images/f/f3/OOSuite.zip)
md5sums=('2f9838e808dfe1b5fd34436718939b35')

build() {
  # rename the downloaded file to something reasonable
  export _INSTALLDIR=$pkgdir/usr/lib/python2.7/site-packages
  export PYTHONPATH=$_INSTALLDIR
  mkdir -p $_INSTALLDIR

  cd $startdir/src/PythonPackages/DerApproximator
  python2 setup.py install --prefix=$pkgdir/usr

  cd $startdir/src/PythonPackages/FuncDesigner
  python2 setup.py install --prefix=$pkgdir/usr

  cd $startdir/src/PythonPackages/OpenOpt
  python2 setup.py install --prefix=$pkgdir/usr

  # remoe some crufty files
  rm $_INSTALLDIR/site.py
  rm $_INSTALLDIR/site.pyc

}
