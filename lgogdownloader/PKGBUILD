# Maintainer: Joe Davison <joedavison.davison@gmail.com>

pkgname=lgogdownloader
pkgver=1.12
pkgrel=2
pkgdesc="An open source downloader for GOG.com games, uses the GOG.com API"
url="http://www.gog.com/en/forum/general/lgogdownloader_gogdownloader_for_linux"
arch=(i686 x86_64)
license=(WTFPL)
depends=('boost' 'jsoncpp>=0.6.0' 'liboauth' 'rhash' 'tinyxml' 'htmlcxx' 'curl')
source=(http://sites.google.com/site/gogdownloader/$pkgname-$pkgver.tar.gz)
sha256sums=('24b8198f0cf308f096df7e5e33c53d4a96e5e851d12b3bb10a6a07217aee61b0')

build() {
cd "$srcdir/$pkgname-$pkgver"

# fix Arch-specific include error

mv include/util.h include/util.h.bak
sed '/rhash/ c\\#include \<rhash.h\>' include/util.h.bak > include/util.h

make release

}

package() {
install -D -m 755 $srcdir/$pkgname-$pkgver/bin/Release/$pkgname \
$pkgdir/usr/bin/lgogdownloader
}
