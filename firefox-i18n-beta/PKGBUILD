# Contributor: Marius Dransfeld <marius.dransfeld@googlemail.com>
pkgname=firefox-i18n-beta
pkgver=3.5b4
pkgrel=1
_languages=af,ar,be,bg,bn-IN,ca,cs,da,de,el,en-GB,eo,es-AR,es-ES,et,eu,fi,fr,fy-NL,ga-IE,gl,gu-IN,he,hi-IN,hu,id,is,it,ja,ka,kn,ko,ku,lt,lv,mk,mn,mr,nb-NO,nl,nn-NO,oc,pa-IN,pl,pt-BR,pt-PT,ro,ru,si,sk,sl,sq,sr,sv-SE,te,th,tr,uk,zh-CN,zh-TW
pkgdesc="Language packs for Firefox beta"
arch=(i686 x86_64)
license=('MPL')
url="http://www.mozilla.com/"
depends=("firefox>=${pkgver}")
eval conflicts=(mozilla-firefox-i18n mozilla-firefox-{${_languages}} firefox-{${_languages}})
makedepends=('unzip')
eval source=(ftp://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-i686/xpi/{${_languages}}.xpi)


build() {
  cd ${startdir}/src
  for lang in $(echo "${_languages}" | sed 's|,| |g'); do
    unzip -o ${lang}.xpi
    sed -i "s|jar:chrome/${lang}.jar|jar:${lang}.jar|" chrome.manifest || return 1
    install -D -m 644 chrome/${lang}.jar ${pkgdir}/usr/lib/firefox-${pkgver}/chrome/${lang}.jar || return 1
    install -D -m 644 chrome.manifest ${pkgdir}/usr/lib/firefox-${pkgver}/chrome/${lang}.manifest || return 1
  done
}

md5sums=('183d51095bd21820033ddaf753da43bc'
         '82aa620b6dca817221231ff0618ff771'
         'de031a7892259afe3903047e91b131a0'
         '589516e2e7fef78e7efbc5acbaeaf34a'
         'ac1580b8e1c9ee691ff33e72a5a8cba0'
         '3aa841b6a6ff3f2e3d8e2ec837092744'
         '84c2ffa0a42b015c658cc75c9979574d'
         '4d368e21e71e5ed899a4a3ad02246ce5'
         'cf764130432c73c259c76e3eedafbd9b'
         '2035c29d590c40e4f019f8e209ff9e7e'
         'c98fa38c132e95243d0be5911f8f0861'
         'e25d3537d1f874e17b6941a2a54525c6'
         '75211345ec574e9f166755297b384981'
         'e9efa61e81282f26f74ab9147c25d0e2'
         '473a6eaa18c31231b8ab715c9e138ae7'
         '6c777613f2d334fe901b2805da7c9550'
         'fde6ad6d8863a819598fbca80b58e272'
         'cbc9aaf862f7e78ac7b5cfb615b8ac15'
         '82bb53f72089a985127de79cf5d6c463'
         'a2177dc85624f7505a5bd248b63fff0b'
         'b2c58a031d36a06670c8a3399bc49d98'
         'd5aba593f0fea6b5f6efb3018344f434'
         'b0af08f32eb0218f382f25f81093f373'
         'cf079980fd21e025136248112fff6279'
         'a7445aa1f5519d6b16afbc270744e65a'
         'fd4bb0a39732f07902df87b1591aeed8'
         'a13127c671c882bb19f3f24f603263d8'
         '2735e41d5f39b15b1274222006771a2f'
         'de334ac2fab49677b5ce8d506767f02e'
         'e48d95b7e09bbc8dea6db027790dc137'
         'bfbf627e26cd070546d394ec473ecec2'
         '5e58838fd840d3f9bdb757908f2b8c64'
         'a9b95ebe91c016f5d608af294b2cd1e4'
         '4db229376e4ec3241b17d03ec539f5cc'
         'a6e14cca36600f1bb7b5b97be7132b9c'
         '2ae5cfe340f701cdc360ef117ac149c6'
         'ff264b1e9049d54cfdf2c73fadd14027'
         'f2e53cc4d4e6a800589a743c3518fdd4'
         '8e876ffe1b7650d5d296285abc0f0cc2'
         '972e6e420bbb05b870e5ddac1b6ac794'
         '8d9324828043d54d6b5ec82fb2d54cf4'
         'c19759bde15008c6db7bb75507ec766f'
         '193ae2c75974e3a604815a4b1aab5c25'
         '40802c894af1582247c2fe4d527f6ecb'
         '4d497b362adf72e60085eda059d5879d'
         '0ba203fcea570174857e83288d0627a8'
         '5291aa1a6bda52f9397bdb60cccbf61d'
         '66cad9300e5bfebc9808688f2dcb1a0f'
         'f45f2201babb23cd21a4e959f8eb5e3c'
         'b65a37cddc59ba5fbffd9634ae1af5d1'
         '68a6901102ca15f8a08591fcd67dc178'
         '6ab653dca3fe183a4841b8a4125c5a8c'
         '39134d1732bf77cfe838fd43ed42e8df'
         'c0ac36bb7dd8607526969dd646bd9938'
         '63e10fa3bdd7a2a934d8d1b43246aa79'
         'c3dff564101a879b22e36edd55050721'
         'fd27709a5d064a307ac71bec399de383'
         'f78c00ea29ac230d84559b7d9fd9e2e9'
         '9f5f2e7229b73d0ca9f684c36556a9bd'
         'e2141d762e3e38060ca214070864a5e9')
