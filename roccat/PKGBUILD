# Maintainer: kevku <kevku@gmx.com>
# Contributor: Nuno Araujo <nuno.araujo at russo79.com>
pkgname=roccat
pkgver=0.7.0
pkgrel=1
pkgdesc="Library with functionality shared by all ROCCAT device specific packages"
arch=('i686' 'x86_64')
url="http://roccat.sourceforge.net"
license=('GPL2')
depends=('udev' 'libcanberra' 'libnotify>=0.7.0' 'hicolor-icon-theme')
makedepends=('cmake')
optdepends=('kmod-roccat: drivers for roccat devices')
install=roccat.install
source=("http://downloads.sourceforge.net/project/roccat/roccat/roccat-$pkgver.tar.bz2"
        'notification.patch')
md5sums=('5bd90381230d44eb350c67175ec3e23e'
         '13196da4bb09c932e48a2d0c5f408048')

build() {
  cd "$srcdir/$pkgname-$pkgver"
  sed -i 's|SET(LIBDIR lib64)|SET(LIBDIR lib)|g' cmake_modules/X86.cmake
  patch -Np1 -i ../notification.patch
  cmake . -DCMAKE_INSTALL_PREFIX=/usr -DSYSCONF_INSTALL_DIR=/etc
  make
}

package() {
  cd "$srcdir/$pkgname-$pkgver"
  make DESTDIR="$pkgdir/" install
}