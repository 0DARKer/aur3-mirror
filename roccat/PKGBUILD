# Maintainer: kevku <kevku@gmx.com>
# Contributor: Nuno Araujo <nuno.araujo at russo79.com>
pkgname=roccat
pkgver=0.7.1
pkgrel=1
pkgdesc="Library with functionality shared by all ROCCAT device specific packages"
arch=('i686' 'x86_64')
url="http://roccat.sourceforge.net"
license=('GPL2')
depends=('udev' 'libcanberra' 'libnotify>=0.7.0' 'hicolor-icon-theme')
makedepends=('cmake')
optdepends=('kmod-roccat: drivers for roccat devices')
install=roccat.install
source=("http://downloads.sourceforge.net/project/roccat/roccat/roccat-$pkgver.tar.bz2"
        'notification.patch')

md5sums=('a333cc3748749550a2bd08a48dd6d88d'                                                                                                                                  
         'cb550b958d2da7d78fc54036d4bec3cc') 

build() {
  cd "$srcdir/$pkgname-$pkgver"
  patch -Np1 -i "../notification.patch"
  cmake . -DCMAKE_INSTALL_PREFIX=/usr -DSYSCONF_INSTALL_DIR=/etc -DLIBDIR=lib
  make 
}

package() {
  cd "$srcdir/$pkgname-$pkgver"
  make DESTDIR="$pkgdir/" install
}