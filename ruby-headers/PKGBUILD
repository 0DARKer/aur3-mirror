# Maintainer: fauno <fauno@kiwwwi.com.ar>
# Contributor: Hilton Medeiros <medeiros.hilton at gmail dot com>

pkgname=ruby-headers
_pkgname=ruby
pkgver=1.9.3_p0
_pkgver=1.9.3-p0
pkgrel=1
pkgdesc="A package of all Ruby headers needed by some gems like ruby-debug."
arch=('any')
url="http://www.ruby-lang.org/en/"
license=('GPL2' 'custom:Ruby')
depends=("ruby=$pkgver")
source=("http://ftp.ruby-lang.org/pub/ruby/1.9/$_pkgname-$_pkgver.tar.bz2")
md5sums=('65401fb3194cdccd6c1175ab29b8fdb8')

build() {
  /bin/true
}

package() {
  cd "$srcdir/$_pkgname-$_pkgver"

  # Just to make sure, since currently we have /usr/include/ruby-1.9.1 for ruby 1.9.2
  _hdrdir=`ruby -e "require 'rbconfig'; puts Config::CONFIG['rubyhdrdir']"`

  install -d "$pkgdir$_hdrdir/$_pkgname-$_pkgver"
  install -m644 *.{h,inc} "$pkgdir$_hdrdir/$_pkgname-$_pkgver"
  install -Dm644 COPYING "$pkgdir/usr/share/licenses/$pkgname/COPYING"
}

