#Contributor: Flamelab <panosfilip@gmail.com>

pkgname=opticks
_realname=Opticks
pkgver=4.3.3
_minorver=2
pkgrel=1
pkgdesc="Opticks is an open source remote sensing application and development framework sponsored by Ball Aerospace."
url="https://opticks.ballforge.net/"
depends=('qt' 'openssl-compatibility' 'libgl' 'freetype2' 'libxcursor' 'libjpeg6' 'libxinerama')
makedepends=('libarchive')
arch=('x86_64')
source=(https://opticks.ballforge.net/files/documents//8/410/${pkgname}-${pkgver}-${_minorver}.${CARCH}.rpm
        qt.conf)
license=(custom)

_use_arch_libs="yes"
_libs_to_remove="libQt*"



build() {
bsdtar xf ${pkgname}-${pkgver}-${_minorver}.${CARCH}.rpm -C ${pkgdir}

if [ "${_use_arch_libs}" == "yes" ]; then
		cd ${pkgdir}/opt/${_realname}/Bin/ || return 1
		rm ${_libs_to_remove} || return 1
		install -D -m644 ${srcdir}/qt.conf ${pkgdir}/opt/${_realname}/Bin/qt.conf
	fi


}
md5sums=('55eed004c5ade9d6878a65587bdbcc6a'
         '119ba89010b1e01fd6cde8d84acf97ca')
