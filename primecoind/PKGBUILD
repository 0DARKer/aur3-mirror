# This is an example PKGBUILD file. Use this as a start to creating your own,
# and remove these comments. For more information, see 'man PKGBUILD'.
# NOTE: Please fill out the license field for your package! If it is unknown,
# then please put 'unknown'.

# Maintainer: Daniel Spies <daniel dot spies at fuceekay dot com>

pkgname=primecoind
_gitname=primecoin
pkgver=0.1.1xpm
pkgrel=1
pkgdesc="Cryptocurrency with Scientific Computing Proof-of-Work (Prime) - daemon"
arch=('x86_64' 'i686')
url="http://www.primecoin.org/"
license=('MIT')
provides=('primecoind')
conflicts=('primecoin-qt')
depends=('miniupnpc' 'boost-libs' 'openssl')
makedepends=('boost' 'gcc' 'make')
source=(https://github.com/${_gitname}/${_gitname}/archive/v${pkgver}.tar.gz)
sha256sums=('f53daf3bfb837d4e0a6cb356fc77eddddc08f49e9775418035f455e7590ac08e') 

## files & commands for building
_makefile_unix=makefile.unix

build() {
	cd primecoin-${pkgver}/src

	# build primecoind
	msg "Building PrimeCoin daemon"
	make USE_UPNP=1 USE_SSL=1 $MAKEFLAGS -f ${_makefile_unix} primecoind
}

package() {
	cd primecoin-${pkgver}
	install -Dm755 src/primecoind "$pkgdir"/usr/bin/primecoind
	install -Dm644 COPYING "$pkgdir/usr/share/licenses/$pkgname/COPYING"
}

