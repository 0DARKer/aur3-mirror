# Maintainer: Aaditya Bagga <aaditya_gnulinux@zoho.com>

pkgname=openrc-systemdcompat
pkgver=0.5
pkgrel=2
pkgdesc="some systemd compatibility components for openrc"
arch=('i686' 'x86_64')
license=('GPL')
groups=('openrc')
url="https://github.com/aadityabagga/openrc-systemdcompat"
depends=('openrc-core')
optdepends=('modules-load-openrc: for compatibility loading of modules')
#conflicts=('systemd')

modules_load_git_ver=eef4694cee4b385f0a357981db4b07d10d1dc5a7
systemctl_git_ver=eef4694cee4b385f0a357981db4b07d10d1dc5a7

source=("https://raw.githubusercontent.com/aadityabagga/openrc-systemdcompat/$systemctl_git_ver/systemctl.sh"
	"https://sourceforge.net/projects/mefiles/files/Manjaro/openrc-systemdcompat/$(uname -m)/systemd-tmpfiles"
	"https://raw.githubusercontent.com/aadityabagga/openrc-systemdcompat/$modules_load_git_ver/modules-load.sh")
sha1sums=('db66b8b61764b79fcad3ab527edc02654feba38f'
          '578b23342550bb49dd599f2f5e88e717a4a1949b'
          'c42edd649f1287c567442afebbe9659c39a87c7e')

[ "$CARCH" == "i686" ] && sha1sums[1]='702b56ae467ab2c7321a63847beff29d53d60224'

package() {
  install -Dm 755 systemctl.sh $pkgdir/usr/bin/systemctl
  install -Dm 755 systemd-tmpfiles $pkgdir/usr/bin/systemd-tmpfiles
  install -Dm 755 modules-load.sh $pkgdir/usr/bin/modules_load
}
