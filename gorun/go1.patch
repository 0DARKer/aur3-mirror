--- gorun.go	2012-04-05 13:26:09.844742663 +0200
+++ /tmp/gorun.go	2012-04-05 13:25:59.771279999 +0200
@@ -126,28 +126,8 @@
 		defer os.Remove(sourcefile)
 	}
 
-	bindir := filepath.Join(runtime.GOROOT(), "bin", "tool")
-	n := TheChar()
-	gc := filepath.Join(bindir, n+"g")
-	ld := filepath.Join(bindir, n+"l")
-	if _, err := os.Stat(gc); err != nil {
-		if gc, err = exec.LookPath(n + "g"); err != nil {
-			return errors.New("can't find " + n + "g")
-		}
-	}
-	if _, err := os.Stat(ld); err != nil {
-		if ld, err = exec.LookPath(n + "l"); err != nil {
-			return errors.New("can't find " + n + "l")
-		}
-	}
-	gcout := runfile + "." + pid + "." + n
 	ldout := runfile + "." + pid
-	err = Exec([]string{gc, "-o", gcout, sourcefile})
-	if err != nil {
-		return err
-	}
-	defer os.Remove(gcout)
-	err = Exec([]string{ld, "-o", ldout, gcout})
+	err = Exec([]string{"/usr/bin/go", "build", "-o", ldout, sourcefile})
 	if err != nil {
 		return err
 	}
@@ -277,16 +257,3 @@
 	}
 	return nil
 }
-
-// TheChar returns the magic architecture char.
-func TheChar() string {
-	switch runtime.GOARCH {
-	case "386":
-		return "8"
-	case "amd64":
-		return "6"
-	case "arm":
-		return "5"
-	}
-	panic("unknown GOARCH: " + runtime.GOARCH)
-}
