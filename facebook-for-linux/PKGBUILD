# Maintainer: archtux <antonio dot arias99999 at gmail dot com>

pkgname=facebook-for-linux
pkgver=5.0
pkgrel=1
pkgdesc="Desktop application to connect to Facebook, Twitter and Google+"
arch=('i686' 'x86_64')
url="https://launchpad.net/facebookwindoof"
license=('GPL3')
depends=('qtwebkit')
source=(https://launchpad.net/facebookwindoof/trunk/facebookforlinux/+download/fb4linux-$pkgver-SRC.tar.gz
        FB4Linux.desktop)
md5sums=('b8fdb014042534d15257ee985720f63d'
         '0c037d08e4b31b76747a3be345077507')

prepare() {
  cd $srcdir/fb4linux
  qmake-qt4

  cd $srcdir/fb4linuxamarok
  qmake-qt4
  
  cd $srcdir/fb4linuxbanshee
  qmake-qt4

  cd $srcdir/fb4linuxrhitmenbox
  qmake-qt4  
}

build() {
  cd $srcdir/fb4linux
  make

  cd $srcdir/fb4linuxamarok
  make

  cd $srcdir/fb4linuxbanshee
  make
  
  cd $srcdir/fb4linuxrhitmenbox
  make clean
  make
  }

package(){
  cd $srcdir
  
  # Binaries
  install -Dm755 fb4linux/fb4linux $pkgdir/usr/bin/fb4linux
  install -Dm755 fb4linuxamarok/fb4linuxamarok $pkgdir/usr/bin/fb4linuxamarok
  install -Dm755 fb4linuxbanshee/fb4linuxbanshee $pkgdir/usr/bin/fb4linuxbanshee
  install -Dm755 fb4linuxrhitmenbox/fb4linuxrhythmbox $pkgdir/usr/bin/fb4linuxrhythmbox
  
  # Desktop icon
  install -Dm644 FB4Linux.desktop $pkgdir/usr/share/applications/FB4Linux.desktop
  install -Dm644 fb4linux/res/logo/facebook-256x256.png $pkgdir/usr/share/pixmaps/FB4Linux.png
}