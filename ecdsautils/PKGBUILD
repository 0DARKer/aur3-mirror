pkgname=ecdsautils
arch=(i686 x86_64)
pkgver=0.3
pkgrel=1
pkgdesc="Tiny collection of programs used for ECDSA (keygen, sign, verify)"
makedepends=('cmake' 'libuecc>=3')
depends=('glibc')
url="https://github.com/tcatm/ecdsautils"
license=('BSD')
conflicts=("${_pkgname}")
provides=("${_pkgname}=${_pkgver}")

source=(https://github.com/tcatm/ecdsautils/archive/v${pkgver}.tar.gz)
sha256sums=('e1bba8a71fb2a12222bb79c67656b1ac5b6dd3bcfc6433e7cb13ca9238e41a04')

build() {
  rm -rf "$srcdir/build"
  mkdir -p "$srcdir/build"
  cd "$srcdir/build"

  cmake -D CMAKE_BUILD_TYPE=RELEASE -D CMAKE_INSTALL_PREFIX=/usr "../${pkgname}-${pkgver}"
  make
}

package() {
  cd "$srcdir/build"
  make install DESTDIR="${pkgdir}"
}
