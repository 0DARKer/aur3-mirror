# Contributor: Eric Belanger <eric@archlinux.org>
# Contributor: riai <riai@bigfoot.com>, Ben <ben@benmazer.net>
# Maintainer: Daniel J Griffiths <ghost1227@archlinux.us>
# Contributor: Felix Rohrbach <fxrh@gmx.de>

pkgname=eric5
pkgver=5.0.5
pkgrel=2
pkgdesc="A full-featured Python IDE that is written in PyQt4 using the QScintilla2 editor widget"
arch=('any')
url="http://eric-ide.python-projects.org/index.html"
license=('GPL3')
depends=('python-qscintilla' 'python-qt')
conflicts=('eric4' 'eric')
replaces=('eric4')
options=()
#install=eric.install
source=(http://downloads.sourceforge.net/eric-ide/${pkgname}/stable/${pkgver}/${pkgname}-${pkgver}.tar.gz
	'eric.desktop')
md5sums=('daac91f1982c114ac3cfae5a3509a6b6'
         '77c494bb839c5744869d34355ea69095')

build() {
	/bin/true
}

package() {
	mkdir -p ${pkgdir}/usr/share/applications
	mkdir -p ${pkgdir}/usr/share/pixmaps
	cd ${srcdir}/${pkgname}-${pkgver}

	python install.py -c -b /usr/bin -d /usr/lib/python3.1/site-packages -i ${pkgdir} || return 1

	#install -D -m644 ${srcdir}/eric.desktop \
	#	${pkgdir}/usr/share/applications/eric.desktop || return 1
	#install -D -m644 eric/icons/default/eric.png \
	#	${pkgdir}/usr/share/pixmaps/eric.png || return 1

	# Creating version independant symlinks
	ln -s /usr/bin/eric5 ${pkgdir}/usr/bin/eric || return 1
	ln -s /usr/bin/eric5-api ${pkgdir}/usr/bin/eric-api || return 1
	ln -s /usr/bin/eric5-compare ${pkgdir}/usr/bin/eric-compare || return 1
	ln -s /usr/bin/eric5-configure \
		${pkgdir}/usr/bin/eric-configure || return 1
	ln -s /usr/bin/eric5-diff ${pkgdir}/usr/bin/eric-diff || return 1
	ln -s /usr/bin/eric5-doc ${pkgdir}/usr/bin/eric-doc || return 1
	ln -s /usr/bin/eric5-editor ${pkgdir}/usr/bin/eric-editor || return 1
	ln -s /usr/bin/eric5-plugininstall \
		${pkgdir}/usr/bin/eric-plugininstall || return 1
	ln -s /usr/bin/eric5-pluginrepository \
		${pkgdir}/usr/bin/eric-pluginrepository || return 1
	ln -s /usr/bin/eric5-pluginuninstall \
		${pkgdir}/usr/bin/eric-pluginuninstall || return 1
	ln -s /usr/bin/eric5-qregexp ${pkgdir}/usr/bin/eric-qregexp || return 1
	ln -s /usr/bin/eric5-re ${pkgdir}/usr/bin/eric-re || return 1
	ln -s /usr/bin/eric5-sqlbrowser ${pkgdir}/usr/bin/eric-sqlbrowser || return 1
	ln -s /usr/bin/eric5-tray ${pkgdir}/usr/bin/eric-tray || return 1
	ln -s /usr/bin/eric5-trpreviewer \
		${pkgdir}/usr/bin/eric-trpreviewer || return 1
	ln -s /usr/bin/eric5-uipreviewer \
		${pkgdir}/usr/bin/eric-uipreviewer || return 1
	ln -s /usr/bin/eric5-unittest \
		${pkgdir}/usr/bin/eric-unittest || return 1
	ln -s /usr/bin/eric5-webbrowser ${pkgdir}/usr/bin/eric-webbrowser || return 1
}

