# Maintainer: Tim Besard <tim $dot$ besard $at$ gmail $dot$ com>
# Contributor: Jelle van der Waa <jellevdwaa @ gmail.com>
# Contributor: Pieter Kokx <pieter $at$ kokx $dot$ .nl>

pkgname=whatpulse
pkgver=2.5
pkgrel=2
pkgdesc="A small application that measures your keyboard/mouse usage, down- & uploads and your uptime."
arch=(i686 x86_64)
url=http://www.whatpulse.org
license=(custom:whatpulse_tos)
install=whatpulse.install
depends=(qt4)
optdepends=(
    'systray: any systray, like gnome-panel'
    'libpcap: network statistics'
)

source_i686=("http://whatpulse.org/files/whatpulse-linux-32bit-$pkgver.tar.gz")
md5sums_i686='aea3332d0dfc3f927d4eda72870e9b96'
source_x86_64=("http://whatpulse.org/files/whatpulse-linux-64bit-$pkgver.tar.gz")
md5sums_x86_64='6ed66006ca793db50baa5bf53ba16da1'

package() {
    cd $srcdir/
    mkdir -p ${pkgdir}/usr/bin
    install -m0755 whatpulse ${pkgdir}/usr/bin/
    
    mkdir -p ${pkgdir}/etc/udev/rules.d/
    cat >${pkgdir}/etc/udev/rules.d/99-whatpulse-input.rules <<__EOF__
KERNEL=="event*", NAME="input/%k", MODE="640", GROUP="input"
__EOF__
}
