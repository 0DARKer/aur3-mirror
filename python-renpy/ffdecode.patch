diff --git a/module/ffdecode.c b/module/ffdecode.c
index d81191d..6e1b964 100644
--- a/module/ffdecode.c
+++ b/module/ffdecode.c
@@ -32,6 +32,17 @@
 
 // #include "cmdutils.h"
 
+//patch for new ffmpeg 8.0 and libav 7.0
+//this is a temp fix,i think renpy will fix it.
+#define CODEC_TYPE_UNKNOWN    AVMEDIA_TYPE_UNKNOWN
+#define CODEC_TYPE_VIDEO      AVMEDIA_TYPE_VIDEO
+#define CODEC_TYPE_AUDIO      AVMEDIA_TYPE_AUDIO
+#define CODEC_TYPE_DATA       AVMEDIA_TYPE_DATA
+#define CODEC_TYPE_SUBTITLE   AVMEDIA_TYPE_SUBTITLE
+#define CODEC_TYPE_ATTACHMENT AVMEDIA_TYPE_ATTACHMENT
+#define CODEC_TYPE_NB         AVMEDIA_TYPE_NB
+
+
 #include <SDL.h>
 #include <SDL_thread.h>
 
