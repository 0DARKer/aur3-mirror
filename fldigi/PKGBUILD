# Contributor: [Vitaliy Berdinskikh](mailto:ur6lad@archlinux.org.ua) aka UR6LAD

pkgname=fldigi
pkgver=3.21.9
pkgrel=1
pkgdesc="Digital Modes for Radio - GUI"
arch=('i686' 'x86_64')
url="http://w1hkj.com/Fldigi.html"
license=('GPL')
depends=('hamlib>=1.2.8.1' 'portaudio' 'libsamplerate' 'fltk' 'xmlrpc-c-abyss' 'cty')
optdepends=('pulseaudio')
source=(http://w1hkj.com/downloads/$pkgname/$pkgname-$pkgver.tar.gz cty.patch)

build() {
	cd $srcdir

	patch -p1 < cty.patch

	cd $pkgname-$pkgver

	./configure --prefix=/usr \
			--enable-optimizations=sse3 \
			--enable-tls \
			--with-xmlrpc \
			--with-sndfile \
			--with-portaudio \
			--with-hamlib
	make
}

package() {
	cd $srcdir/$pkgname-$pkgver

	make DESTDIR="$pkgdir" install
}

md5sums=('9e15ee21d7de48511c6e18b1fcef261f'
         'b116490c4be4a7679ad74e1acd6e28be')
sha256sums=('b58cadfe3a845371bcb40538f0b9f0f9d203a6023b326047095fa6f9e435a9a1'
            'e965724dff8e11ef9616e599ab19d75c8d934069539a26c7d14baeea9b797016')
