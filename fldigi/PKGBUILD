# Contributor: [Vitaliy Berdinskikh](mailto:ur6lad@archlinux.org.ua) aka UR6LAD

pkgname=fldigi
pkgver=3.21.8
pkgrel=1
pkgdesc="Digital Modes for Radio - GUI"
arch=('i686' 'x86_64')
url="http://w1hkj.com/Fldigi.html"
license=('GPL')
depends=('hamlib>=1.2.8.1' 'portaudio' 'libsamplerate' 'fltk' 'xmlrpc-c-abyss' 'cty')
optdepends=('pulseaudio')
source=(http://w1hkj.com/downloads/$pkgname/$pkgname-$pkgver.tar.gz cty.patch)

build() {
	cd $srcdir

	patch -p1 < cty.patch

	cd $pkgname-$pkgver

	./configure --prefix=/usr \
			--enable-optimizations=sse3 \
			--enable-tls \
			--with-xmlrpc \
			--with-sndfile \
			--with-portaudio \
			--with-hamlib
	make
}

package() {
	cd $srcdir/$pkgname-$pkgver

	make DESTDIR="$pkgdir" install
}

md5sums=('1b2cb78fe36f0774ff0da6dd36f3bab3'
         '533b652db53667a21bd395e90ca48b41')
sha256sums=('f32f6ad9bff6cfe812051b83a2c54e9a1a0238c6225778515e2ed7a68efa0dae'
            'e8cc510b11c14fabed89c9c674a6d9f30e6e20e7322e19d5a4590b004785d7e2')
