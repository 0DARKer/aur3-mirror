# Maintainer: Sergio Correia <sergio.correia@uece.net>
# Contributor: Oleg Smirnov <oleg.smirnov@gmail.com>
# Contributor: Luke McCarthy <luke@iogopro.co.uk>

pkgname=nam
pkgver=1.15
pkgrel=1
pkgdesc="Tcl/TK based animation tool for viewing network simulation traces and real world packet traces"
url="http://www.isi.edu/nsnam/nam/"
license='GPL'
arch=('i686' 'x86_64')
depends=('gcc-libs' 'otcl' 'zlib' 'sh')
makedepends=('tclcl')
source=(http://downloads.sourceforge.net/sourceforge/nsnam/nam-1/$pkgver/nam-src-$pkgver.tar.gz)
md5sums=('1cf6646acc2f82e59965f5969f5a9239')

build() {
  cd ${srcdir}/$pkgname-$pkgver
  ./configure --prefix=${pkgdir}/usr \
              --with-tclcl=/usr/lib/tclcl || return 1
  make || return 1
}

package() {
  cd ${srcdir}/$pkgname-$pkgver
  install -d ${pkgdir}/usr/bin
  make install || return 1

  for dir in edu ex iecdemos bin; do
    install -dm755 ${pkgdir}/usr/share/nam/$dir
    install -m644 -t ${pkgdir}/usr/share/nam/$dir $dir/*
  done
}
