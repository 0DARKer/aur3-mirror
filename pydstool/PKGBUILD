# Maintainer: Thomas Dziedzic < gostrc at gmail >
# Contributor: quantax -- contact via Arch Linux forum or AUR

pkgname=pydstool
pkgver=0.88.110218
pkgrel=1
pkgdesc='Integrated simulation, modeling and analysis package for dynamical systems.'
url='http://www.cam.cornell.edu/~rclewley/cgi-bin/moin.cgi/FrontPage'
arch=('i686' 'x86_64')
license=('BSD')
depends=('python2-matplotlib' 'python-scipy')
optdepends=('gcc: C-based integrator and AUTO support'
            'python-constraint'
            'swig: C-based integrator and AUTO support')
source=("http://downloads.sourceforge.net/${pkgname}/PyDSTool-${pkgver}.zip")
noextract=(PyDSTool-${pkgver}.zip)
md5sums=('e64490eb03a1cd8e69c0521fc9ac38c0')

build() {
  install -d ${pkgdir}/usr/lib/python2.7/site-packages
  cd ${pkgdir}/usr/lib/python2.7/site-packages
  bsdtar xf ${srcdir}/PyDSTool-${pkgver}.zip

  find PyDSTool -type d -exec chmod 755 "{}" \;
  find PyDSTool -type f -exec chmod 644 "{}" \;
  find PyDSTool -name "*sh" -exec chmod 755 "{}" \;

  install -d ${pkgdir}/usr/share/doc 
  mv PyDSTool/html ${pkgdir}/usr/share/doc/PyDSTool
}
