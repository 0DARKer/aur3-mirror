# Contributor: quantax -- contact via Arch Linux forum or AUR
# Contributor: Thomas Dziedzic

pkgname=pydstool
_pkgname=PyDSTool
pkgver=0.88.091211
pkgrel=1
pkgdesc='Integrated simulation, modeling and analysis package for dynamical systems.'
url='http://www.cam.cornell.edu/~rclewley/cgi-bin/moin.cgi/FrontPage'
arch=('i686' 'x86_64')
license=('BSD')
depends=(python-matplotlib python-scipy)
optdepends=('gcc: C-based integrator and AUTO support'
            'python-constraint'
            'swig: C-based integrator and AUTO support')
source=("http://downloads.sourceforge.net/$pkgname/$_pkgname-$pkgver.zip")
noextract=($_pkgname-$pkgver.zip)
md5sums=('29e77b3d210fb20e3b36afb915211b29')


build() {
  install -d -m0755 "$pkgdir/usr/share/doc" "$pkgdir/usr/lib/python2.6/site-packages"
  cd "$pkgdir/usr/lib/python2.6/site-packages"

  bsdtar xf "$srcdir/$_pkgname-$pkgver.zip" || return 1

  find $_pkgname -type d -exec chmod 755 "{}" \;
  find $_pkgname -type f -exec chmod 644 "{}" \;
  find $_pkgname -name "*sh" -exec chmod 755 "{}" \;
  mv $_pkgname/doc "$pkgdir/usr/share/doc/$_pkgname"
}
