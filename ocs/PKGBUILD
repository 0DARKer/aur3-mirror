# Maintainer: frane <frane.bandov@gmail.com>
# Contributor: Frane Bandov <frane.bandov@gmail.com> 
pkgname=ocs
pkgver=2.3k
pkgrel=2
pkgdesc="Opal Compilations System for the OPAL functional programming language"
arch=(i686)
url="http://uebb.cs.tu-berlin.de/~opal/"
license=('GPL')
makedepends=('gcc' 'glibc' 'make' 'tcl' 'tk')
depends=('gcc' 'glibc' 'make' 'tcl' 'tk' 'readline' 'flex')
source=(http://uebb.cs.tu-berlin.de/~opal/$pkgname-$pkgver-src.tar.bz2)
md5sums=('6c5a1b5f7e4d7ec68c6f940304314ee8')

build() {
  cd $startdir/src/ocs
  mkdir -p $startdir/pkg/usr/$pkgname-$pkgver 
  ./configure --prefix=$startdir/pkg/usr --with-tcl-lib=-ltcl8.5 --with-tk-lib=-ltk8.5 || return 1
  make install || return 1
  rm $startdir/pkg/usr/$pkgname-$pkgver/VERSION
  mv $startdir/pkg/usr/$pkgname-$pkgver/* $startdir/pkg/usr/
  rm -R $startdir/pkg/usr/$pkgname-$pkgver
}
