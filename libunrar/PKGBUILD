# Maintainer: Ray Powell <ray_al@xphoniexx.net>
# PKGBUILD Based off PKGBUILD for unrar by below:
# unrar PKGBUILD Maintainer: Giovanni Scafora <giovanni@archlinux.org>
# unrar PKGBUILD Contributor: dorphell <dorphell@gmx.net>

pkgname=libunrar
pkgsrcname=unrar
pkgver=4.0.2
pkgrel=1
pkgdesc="The libunrar.so library from the RAR uncompression program."
arch=('i686' 'x86_64')
url="http://www.rarlab.com/rar_add.htm"
license=('custom')
depends=('gcc-libs')
source=("http://www.rarlab.com/rar/unrarsrc-${pkgver}.tar.gz"
        "makefile.unix.patch")
md5sums=('6dbd55a85368e784c693f42ff327354d'
         '31cef5d0af0d34aaff662b0e3d6088ba')

build() {
  cp makefile.unix.patch ${srcdir}/${pkgsrcname}/
  cd "${srcdir}/${pkgsrcname}"
  patch makefile.unix < makefile.unix.patch
  make -f makefile.unix lib
  install -Dm755 libunrar.so ${pkgdir}/usr/lib/libunrar.so || return 1
  # install license
  install -Dm644 license.txt "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE" || return 1
}
