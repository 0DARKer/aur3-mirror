# Maintainer: Limao Luo <luolimao+AUR@gmail.com>
# Contributor: vbPadre <vbpadre@gmail.com>

pkgname=webmin-plugin-shorewall
pkgver=1.630
pkgrel=1
pkgdesc="Shorewall firewall plugin for webmin"
arch=(any)
url=http://www.webmin.com/standard.html
license=(BSD)
depends=(webmin)
install=$pkgname.install
source=(http://download.webmin.com/download/modules/shorewall.wbm.gz $pkgname.conf)
sha256sums=('6d9f42c8720630fe0d7bf7e336f6c8998b4bdcb586233c7cb2285f0d9f9b28f9'
            '2f29accb36a79b1121b34236c96ea25710010b2df3893dfb00f2490d2d1b35cd')
sha512sums=('0aa6f9745c29a5bf036f1c6b7692243fe956ea6def6c4273550d21414f09ee7ec3200b11fe06fffcdcf5d7adf6fb0ebe20a9e622a5c2d732ac71d0ad672fe01e'
            '76ea7f404e679bbd00528df7e554d441c79fc348e584812bee60d1bfbe10ba3964118258da23165b225237ad723d34330c22f3cc29a511b0e6d717ec6b40cad1')

package() {
    install -d "$pkgdir"/opt/webmin/
    cp -rf shorewall/ $pkgdir/opt/webmin/
    sed 's:^#!/usr/local/bin/perl:#!/usr/bin/perl:g' -i "$pkgdir"/opt/webmin/shorewall/*.cgi
    install -Dm644 $pkgname.conf "$pkgdir"/etc/webmin/shorewall/config
}
