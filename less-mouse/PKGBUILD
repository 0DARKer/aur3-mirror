# This package is based on the original less package from ABS
# Patch by ararus from http://www.linuxquestions.org
# (view post http://www.linuxquestions.org/questions/linux-software-2/less-command-output-i-cannot-scroll-through-it-627821/page2.html?s=3b5e6292d15fca5f10cd901a9bf6c9f2#post3094148)
# edited by LemmingKing <lobster@hotmail.ru> and harryNID
# changes made to the original patch:
# - no environment vars needed
# - default scroll is _3_ lines
# - Ctrl+scroll scrolls half a page

pkgname=less-mouse
pkgver=444
pkgrel=1
pkgdesc="A terminal based program for viewing text files with mouse scroll"
license=('GPL3')
arch=('i686' 'x86_64')
url="http://www.greenwoodsoftware.com/less"
depends=('ncurses')
makedepends=('patch')
provides=('less')
conflicts=('less')
source=("http://www.greenwoodsoftware.com/less/less-$pkgver.tar.gz" "less-mouse.patch")
sha256sums=('be64ad3e22d6d4aa19fe7024d998563a1ce1671ee3625f8851d26b16dedcdeeb'
            'bd2b01576ac0f994b4bdcdda63512c51f95b86e6e8448d87c830d11e268469d1')
build() {
  cd "${srcdir}/less-${pkgver}"
  patch -p1 -i "${srcdir}/less-mouse.patch" || return 1
  ./configure --prefix=/usr
  make || return 1
}
package() {
  cd "${srcdir}/less-${pkgver}"
  make DESTDIR="${pkgdir}" install
  install -dm755 "${pkgdir}/bin"
  mv "${pkgdir}/usr/bin/less" "${pkgdir}/bin/"
}
