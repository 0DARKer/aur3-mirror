# This package is based on the original less package from ABS
# Patch by ararus from http://www.linuxquestions.org
# (view post http://www.linuxquestions.org/questions/linux-software-2/less-command-output-i-cannot-scroll-through-it-627821/page2.html?s=3b5e6292d15fca5f10cd901a9bf6c9f2#post3094148)
# edited by LemmingKing <lobster@hotmail.ru>
# changes made to the original patch:
# - no environment vars needed
# - default scroll is _3_ lines
# - Ctrl+scroll scrolls half a page

pkgname=less-mouse
pkgver=436
pkgrel=1
pkgdesc="A terminal based program for viewing text files with mouse scroll"
license=('GPL3')
arch=('i686' 'x86_64')
url="http://www.greenwoodsoftware.com/less"
depends=('ncurses')
makedepends=('patch')
provides=('less')
conflicts=('less')
source=(http://www.greenwoodsoftware.com/less/less-$pkgver.tar.gz less-mouse.diff)
md5sums=('817bf051953ad2dea825a1cdf460caa4' '17b20b94fc279be8f527444e53035fbf')

build() {
  cd $srcdir/less-$pkgver
  patch -p1 -i ../../less-mouse.diff || return 1
  ./configure --prefix=/usr
  make || return 1
  make prefix=$pkgdir/usr install
  install -dm755 $pkgdir/bin
  mv $pkgdir/usr/bin/less $pkgdir/bin/
}
