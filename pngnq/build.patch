--- src/rwpng.c.orig    2010-04-16 15:37:33.000000000 -0500
+++ src/rwpng.c 2010-04-16 15:38:26.000000000 -0500
@@ -80,7 +80,7 @@
      * have used slightly more general png_sig_cmp() function instead */

     fread(sig, 1, 8, infile);
-    if (!png_check_sig(sig, 8)) {
+    if (!(png_sig_cmp(sig, 0, 8) == 0)) {
         mainprog_ptr->retval = 21;   /* bad signature */
         return mainprog_ptr->retval;
     }
