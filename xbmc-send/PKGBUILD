# Contributor: graysky <graysky AT archlinux DOT us>

pkgname=xbmc-send
pkgver=12.2
_pkgname=Frodo
pkgrel=1
pkgdesc='Event client tool to control XBMC from the CLI.'
arch=('any')
url='https://github.com/xbmc/xbmc/tree/master/tools/EventClients'
license=('GPL')
depends=('python2')
conflicts=('xbmc-eventclient-xbmc-send' 'xbmctools-git')
source=("https://github.com/xbmc/xbmc/archive/12.2-Frodo.tar.gz")
sha256sums=('6e75258005776f5408528c78fca93d0ded6fe477a171075c2b0b2c830f6f328e')

package() {
	cd "xbmc-$pkgver-$_pkgname/tools/EventClients"
	sed -i 's|#!/usr/bin/python$|#!/usr/bin/python2|' Clients/XBMC\ Send/xbmc-send.py
	install -Dm755 Clients/XBMC\ Send/xbmc-send.py "$pkgdir/usr/bin/xbmc-send"
	install -Dm644 lib/python/xbmcclient.py "$pkgdir/usr/lib/python2.7/site-packages/xbmcclient.py"
}
