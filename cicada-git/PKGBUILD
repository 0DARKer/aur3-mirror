# Maintainer: XIE Yuheng <xyheme@gmail.com>

pkgname=cicada-git
pkgver=2015.05.01
pkgrel=1
pkgdesc="programming language with the following features
1. threaded code based
2. aggressively developed
3. never provide backward compatibility
4. never provide foreign function interface
5. never seriously respect the traditions of the underlying OS or CPU"
url="http://the-little-language-designer.github.io/"
makedepends=('git')
depends=('fasm-linux-git')
license=('custom')
arch=('any')
source=('git+https://github.com/the-little-language-designer/cicada.git')
provides=('cicada')
conflicts=('cicada')
md5sums=('SKIP')
install=cicada-git.install

build() {
  cd "$srcdir/cicada"
  make build
}

package() {
  cd "$srcdir/cicada"
  make ROOT="$pkgdir" copy-core-file-system
  make PREFIX="$pkgdir/usr" install
  install -D -m644 LICENSE/LICENSE-of-cicada -t "${pkgdir}/usr/share/licenses/cicada-git"
}