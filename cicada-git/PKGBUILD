# Maintainer: XIE Yuheng <xyheme@gmail.com>

pkgname=cicada-git
pkgver=2015.04.29
pkgrel=3
pkgdesc="a simple programming language with the following features (1) threaded code based (2) unsafe and aggressively developed (3) NO backward compatibility of any kind would ever be provided (4) NO foreign function interface of any kind would ever be provided"
url="http://the-little-language-designer.github.io/"
makedepends=('git')
depends=('fasm-linux-git')
license=('custom')
arch=('any')
source=('git+https://github.com/the-little-language-designer/cicada.git')
provides=('cicada')
conflicts=('cicada')
md5sums=('SKIP')
install=cicada-git.install

build() {
  cd "$srcdir/cicada"
  make build
}

package() {
  cd "$srcdir/cicada"
  make ROOT="$pkgdir" copy-core-file-system
  make PREFIX="$pkgdir/usr" install
  install -D -m644 LICENSE/LICENSE-of-cicada -t "${pkgdir}/usr/share/licenses/cicada-git"
}